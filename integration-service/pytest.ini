[pytest]
# ACGS-2 Integration Service Pytest Configuration

# Test paths
testpaths = tests

# Python path configuration
pythonpath = src

# Asyncio mode for async tests
asyncio_mode = auto

# Minimum coverage threshold
# addopts = --cov=src --cov-report=term-missing --cov-fail-under=80

# Test markers
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (require external services)
    e2e: End-to-end tests (full system)
    slow: Slow tests (skip with -m "not slow")
    splunk: Tests requiring Splunk connection
    sentinel: Tests requiring Azure Sentinel connection
    jira: Tests requiring Jira connection
    servicenow: Tests requiring ServiceNow connection
    webhook: Webhook delivery tests

# Ignore deprecation warnings from third-party libraries
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Console output format
console_output_style = progress

# Show extra test summary info
addopts = -ra -q

# Timeout for individual tests (seconds)
timeout = 60

# Environment variables for testing
env =
    JWT_SECRET=test-jwt-secret-key-for-testing-only-do-not-use-in-production
    APP_ENV=test
