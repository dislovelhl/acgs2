{
  "file_path": "acgs2-core/docs/operations/DEPLOYMENT_GUIDE.md",
  "main_branch_history": [],
  "task_views": {
    "060-document-error-codes-and-troubleshooting-for-commo": {
      "task_id": "060-document-error-codes-and-troubleshooting-for-commo",
      "branch_point": {
        "commit_hash": "fc6e42927298263034acf989773f3200e422ad17",
        "content": "# ACGS-2 Enterprise Deployment Guide\n\n> **Constitutional Hash**: `cdd01ef066bc6cf2` > **Version**: 2.1.0\n> **Status**: Stable\n> **Last Updated**: 2025-12-20\n> **Language**: EN\n\n## Table of Contents\n\n1. [Prerequisites](#prerequisites)\n2. [Architecture Overview](#architecture-overview)\n3. [AWS Deployment](#aws-deployment)\n4. [GCP Deployment](#gcp-deployment)\n5. [Helm Chart Deployment](#helm-chart-deployment)\n6. [Identity Provider Integration](#identity-provider-integration)\n7. [Post-Deployment Configuration](#post-deployment-configuration)\n8. [Monitoring & Observability](#monitoring--observability)\n9. [Security Hardening](#security-hardening)\n10. [Troubleshooting](#troubleshooting)\n\n---\n\n## Prerequisites\n\n### Required Tools\n\n| Tool       | Version   | Purpose                     |\n| ---------- | --------- | --------------------------- |\n| Terraform  | >= 1.6.0  | Infrastructure provisioning |\n| Helm       | >= 3.13.0 | Kubernetes deployment       |\n| kubectl    | >= 1.28   | Kubernetes management       |\n| AWS CLI    | >= 2.0    | AWS operations              |\n| gcloud CLI | >= 450.0  | GCP operations              |\n\n### Access Requirements\n\n**AWS:**\n\n- IAM user/role with administrative permissions\n- Access to create EKS, RDS, ElastiCache, MSK, ECR resources\n- Route53 hosted zone (for DNS)\n\n**GCP:**\n\n- Service account with Owner or specific IAM roles\n- Access to create GKE, Cloud SQL, Memorystore, Pub/Sub resources\n- Cloud DNS zone (for DNS)\n\n### Network Requirements\n\n| Port | Protocol | Purpose                   |\n| ---- | -------- | ------------------------- |\n| 443  | HTTPS    | API Gateway, Web UI       |\n| 5432 | TCP      | PostgreSQL                |\n| 6379 | TCP      | Redis                     |\n| 9092 | TCP      | Kafka                     |\n| 8001 | TCP      | Constitutional AI Service |\n| 8010 | TCP      | API Gateway (internal)    |\n\n---\n\n## Architecture Overview\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Load Balancer                             \u2502\n\u2502                     (ALB/Cloud Load Balancer)                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Kubernetes Cluster                            \u2502\n\u2502                     (EKS / GKE Autopilot)                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502 API Gateway \u2502  \u2502Constitutional\u2502  \u2502 Agent Bus   \u2502              \u2502\n\u2502  \u2502   Service   \u2502  \u2502  AI Service \u2502  \u2502   Service   \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502         \u2502                \u2502                \u2502                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502              Internal Service Mesh             \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                  \u2502                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  PostgreSQL   \u2502  \u2502    Redis      \u2502  \u2502    Kafka      \u2502\n\u2502 (RDS/CloudSQL)\u2502  \u2502(ElastiCache/  \u2502  \u2502 (MSK/Pub-Sub) \u2502\n\u2502               \u2502  \u2502  Memorystore) \u2502  \u2502               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n---\n\n## AWS Deployment\n\n### Step 1: Configure Backend\n\nCreate an S3 bucket for Terraform state:\n\n```bash\naws s3 mb s3://acgs2-terraform-state-${AWS_ACCOUNT_ID} --region us-east-1\n\naws s3api put-bucket-versioning \\\n  --bucket acgs2-terraform-state-${AWS_ACCOUNT_ID} \\\n  --versioning-configuration Status=Enabled\n\naws dynamodb create-table \\\n  --table-name acgs2-terraform-locks \\\n  --attribute-definitions AttributeName=LockID,AttributeType=S \\\n  --key-schema AttributeName=LockID,KeyType=HASH \\\n  --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5\n```\n\n### Step 2: Configure Variables\n\nCreate `deploy/terraform/aws/environments/production.tfvars`:\n\n```hcl\n# Project Configuration\nproject_name = \"acgs2\"\nenvironment  = \"production\"\naws_region   = \"us-east-1\"\n\n# Networking\nvpc_cidr             = \"10.0.0.0/16\"\navailability_zones   = [\"us-east-1a\", \"us-east-1b\", \"us-east-1c\"]\nprivate_subnet_cidrs = [\"10.0.1.0/24\", \"10.0.2.0/24\", \"10.0.3.0/24\"]\npublic_subnet_cidrs  = [\"10.0.101.0/24\", \"10.0.102.0/24\", \"10.0.103.0/24\"]\n\n# EKS Configuration\neks_cluster_version = \"1.28\"\neks_node_groups = {\n  general = {\n    instance_types = [\"m6i.xlarge\"]\n    min_size       = 3\n    max_size       = 10\n    desired_size   = 3\n    disk_size      = 100\n    labels = {\n      role = \"general\"\n    }\n  }\n  compute = {\n    instance_types = [\"c6i.2xlarge\"]\n    min_size       = 2\n    max_size       = 20\n    desired_size   = 2\n    disk_size      = 100\n    labels = {\n      role = \"compute\"\n    }\n    taints = [{\n      key    = \"dedicated\"\n      value  = \"compute\"\n      effect = \"NO_SCHEDULE\"\n    }]\n  }\n}\n\n# RDS Configuration\nrds_instance_class         = \"db.r6g.xlarge\"\nrds_allocated_storage      = 100\nrds_max_allocated_storage  = 500\nrds_multi_az               = true\nrds_backup_retention_period = 30\nrds_deletion_protection    = true\n\n# ElastiCache Configuration\nelasticache_node_type       = \"cache.r6g.large\"\nelasticache_num_cache_nodes = 3\nelasticache_automatic_failover = true\n\n# MSK Configuration\nmsk_instance_type   = \"kafka.m5.large\"\nmsk_number_of_nodes = 3\nmsk_ebs_volume_size = 100\n\n# Tags\ntags = {\n  Project              = \"ACGS-2\"\n  Environment          = \"production\"\n  ConstitutionalHash   = \"cdd01ef066bc6cf2\"\n  ManagedBy            = \"terraform\"\n}\n```\n\n### Step 3: Deploy Infrastructure\n\n```bash\ncd deploy/terraform/aws\n\n# Initialize Terraform\nterraform init \\\n  -backend-config=\"bucket=acgs2-terraform-state-${AWS_ACCOUNT_ID}\" \\\n  -backend-config=\"key=acgs2/production/terraform.tfstate\" \\\n  -backend-config=\"region=us-east-1\" \\\n  -backend-config=\"dynamodb_table=acgs2-terraform-locks\"\n\n# Review plan\nterraform plan -var-file=\"environments/production.tfvars\" -out=tfplan\n\n# Apply infrastructure\nterraform apply tfplan\n```\n\n### Step 4: Configure kubectl\n\n```bash\naws eks update-kubeconfig \\\n  --region us-east-1 \\\n  --name acgs2-production \\\n  --alias acgs2-production\n```\n\n---\n\n## GCP Deployment\n\n### Step 1: Configure Backend\n\n```bash\n# Create GCS bucket for state\ngsutil mb -p ${GCP_PROJECT_ID} -l us-central1 gs://acgs2-terraform-state-${GCP_PROJECT_ID}\ngsutil versioning set on gs://acgs2-terraform-state-${GCP_PROJECT_ID}\n```\n\n### Step 2: Configure Variables\n\nCreate `deploy/terraform/gcp/environments/production.tfvars`:\n\n```hcl\n# Project Configuration\nproject_id  = \"your-gcp-project-id\"\nregion      = \"us-central1\"\nenvironment = \"production\"\n\n# GKE Configuration\ngke_enable_autopilot = true\ngke_release_channel  = \"STABLE\"\n\n# Cloud SQL Configuration\ncloudsql_tier                = \"db-custom-4-16384\"\ncloudsql_availability_type   = \"REGIONAL\"\ncloudsql_disk_size           = 100\ncloudsql_backup_enabled      = true\ncloudsql_point_in_time_recovery = true\n\n# Memorystore Configuration\nmemorystore_tier          = \"STANDARD_HA\"\nmemorystore_memory_size   = 5\nmemorystore_replica_count = 2\n\n# Labels\nlabels = {\n  project            = \"acgs2\"\n  environment        = \"production\"\n  constitutional-hash = \"cdd01ef066bc6cf2\"\n  managed-by         = \"terraform\"\n}\n```\n\n### Step 3: Deploy Infrastructure\n\n```bash\ncd deploy/terraform/gcp\n\nterraform init \\\n  -backend-config=\"bucket=acgs2-terraform-state-${GCP_PROJECT_ID}\" \\\n  -backend-config=\"prefix=acgs2/production\"\n\nterraform plan -var-file=\"environments/production.tfvars\" -out=tfplan\n\nterraform apply tfplan\n```\n\n### Step 4: Configure kubectl\n\n```bash\ngcloud container clusters get-credentials acgs2-production \\\n  --region us-central1 \\\n  --project ${GCP_PROJECT_ID}\n```\n\n---\n\n## Helm Chart Deployment\n\n### Step 1: Add Helm Repository\n\n```bash\n# Add required repositories\nhelm repo add bitnami https://charts.bitnami.com/bitnami\nhelm repo update\n```\n\n### Step 2: Configure Values\n\nCreate `values-production.yaml`:\n\n```yaml\nglobal:\n  environment: production\n  constitutionalHash: \"cdd01ef066bc6cf2\"\n\n# API Gateway\napiGateway:\n  replicaCount: 3\n  resources:\n    requests:\n      cpu: 500m\n      memory: 512Mi\n    limits:\n      cpu: 2000m\n      memory: 2Gi\n  ingress:\n    enabled: true\n    className: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-prod\n    hosts:\n      - host: api.acgs.yourdomain.com\n        paths:\n          - path: /\n            pathType: Prefix\n    tls:\n      - secretName: acgs2-api-tls\n        hosts:\n          - api.acgs.yourdomain.com\n\n# Constitutional Service\nconstitutionalService:\n  replicaCount: 3\n  resources:\n    requests:\n      cpu: 1000m\n      memory: 2Gi\n    limits:\n      cpu: 4000m\n      memory: 8Gi\n\n# Agent Bus\nagentBus:\n  replicaCount: 3\n  resources:\n    requests:\n      cpu: 500m\n      memory: 1Gi\n    limits:\n      cpu: 2000m\n      memory: 4Gi\n\n# External Services (use Terraform-provisioned)\npostgresql:\n  enabled: false\nexternalDatabase:\n  host: \"your-rds-endpoint.rds.amazonaws.com\"\n  port: 5432\n  database: acgs2\n  existingSecret: acgs2-db-credentials\n\nredis:\n  enabled: false\nexternalRedis:\n  host: \"your-elasticache-endpoint.cache.amazonaws.com\"\n  port: 6379\n  existingSecret: acgs2-redis-credentials\n\nkafka:\n  enabled: false\nexternalKafka:\n  brokers: \"your-msk-brokers:9092\"\n  existingSecret: acgs2-kafka-credentials\n\n# Monitoring\nmetrics:\n  enabled: true\n  serviceMonitor:\n    enabled: true\n```\n\n### Step 3: Create Secrets\n\n```bash\n# Database credentials\nkubectl create secret generic acgs2-db-credentials \\\n  --from-literal=username=acgs2_admin \\\n  --from-literal=password='your-secure-password' \\\n  -n acgs2\n\n# Redis credentials\nkubectl create secret generic acgs2-redis-credentials \\\n  --from-literal=password='your-redis-password' \\\n  -n acgs2\n\n# API keys\nkubectl create secret generic acgs2-api-keys \\\n  --from-literal=jwt-secret='your-jwt-secret' \\\n  --from-literal=encryption-key='your-encryption-key' \\\n  -n acgs2\n```\n\n### Step 4: Deploy\n\n```bash\n# Create namespace\nkubectl create namespace acgs2\n\n# Install chart\nhelm upgrade --install acgs2 ./deploy/helm/acgs2 \\\n  --namespace acgs2 \\\n  --values values-production.yaml \\\n  --wait \\\n  --timeout 10m\n```\n\n---\n\n## Identity Provider Integration\n\n### Okta Configuration\n\n1. Create an Okta application:\n\n   - Application type: OIDC - Web Application\n   - Grant types: Authorization Code, Refresh Token\n   - Sign-in redirect URIs: `https://api.acgs.yourdomain.com/auth/okta/callback`\n\n2. Configure ACGS-2:\n\n```yaml\n# In Helm values\nidentity:\n  okta:\n    enabled: true\n    domain: \"your-org.okta.com\"\n    clientId: \"your-client-id\"\n    existingSecret: acgs2-okta-credentials\n    groupMapping:\n      \"ACGS-Admins\": \"admin\"\n      \"ACGS-Operators\": \"operator\"\n      \"ACGS-Viewers\": \"viewer\"\n```\n\n### Azure AD Configuration\n\n1. Register an application in Azure AD:\n\n   - Supported account types: Single tenant\n   - Redirect URI: `https://api.acgs.yourdomain.com/auth/azure/callback`\n\n2. Configure ACGS-2:\n\n```yaml\nidentity:\n  azureAd:\n    enabled: true\n    tenantId: \"your-tenant-id\"\n    clientId: \"your-client-id\"\n    existingSecret: acgs2-azure-credentials\n```\n\n---\n\n## Post-Deployment Configuration\n\n### Verify Deployment\n\n```bash\n# Check pod status\nkubectl get pods -n acgs2\n\n# Check services\nkubectl get svc -n acgs2\n\n# Verify constitutional hash in logs\nkubectl logs -n acgs2 -l app.kubernetes.io/name=constitutional-service | grep \"cdd01ef066bc6cf2\"\n```\n\n### Initialize System\n\n```bash\n# Run database migrations\nkubectl exec -n acgs2 deployment/acgs2-api-gateway -- python manage.py migrate\n\n# Create initial admin user\nkubectl exec -n acgs2 deployment/acgs2-api-gateway -- python manage.py createsuperuser\n```\n\n### Health Check\n\n```bash\n# API health\ncurl https://api.acgs.yourdomain.com/health\n\n# Constitutional service health\ncurl https://api.acgs.yourdomain.com/api/v1/constitutional/health\n```\n\n---\n\n## Monitoring & Observability\n\n### Prometheus/Grafana\n\nThe Helm chart includes ServiceMonitor and PrometheusRule resources:\n\n```bash\n# Verify ServiceMonitor\nkubectl get servicemonitor -n acgs2\n\n# Access Grafana dashboards\nkubectl port-forward svc/prometheus-grafana 3000:80 -n monitoring\n```\n\n### Key Metrics\n\n| Metric                            | Description                    | Alert Threshold |\n| --------------------------------- | ------------------------------ | --------------- |\n| `acgs2_constitutional_hash_valid` | Constitutional hash validation | != 1            |\n| `acgs2_request_duration_seconds`  | Request latency                | P99 > 5s        |\n| `acgs2_compliance_check_total`    | Compliance validations         | Error rate > 1% |\n| `acgs2_agent_messages_total`      | Agent message throughput       | -               |\n\n---\n\n## Production Sizing Guide\n\nTo ensure optimal performance and reliability of the ACGS-2 platform, follow these hardware recommendations based on your expected workload.\n\n### Deployment Tiers\n\n| Component      | Small (Dev/Test) | Medium (Staging)    | Large (Production) |\n| -------------- | ---------------- | ------------------- | ------------------ |\n| **Throughput** | < 100 msg/sec    | 100 - 1,000 msg/sec | > 1,000 msg/sec    |\n| **Agents**     | < 50             | 50 - 500            | > 500              |\n\n### Resource Recommendations (Per Replica)\n\n#### API Gateway\n\n- **Small**: 0.5 vCPU, 512Mi RAM\n- **Medium**: 1 vCPU, 1Gi RAM\n- **Large**: 2 vCPU, 2Gi RAM\n\n#### Constitutional Service\n\n- **Small**: 1 vCPU, 2Gi RAM\n- **Medium**: 2 vCPU, 4Gi RAM\n- **Large**: 4 vCPU, 8Gi RAM\n\n#### Agent Bus Service\n\n- **Small**: 0.5 vCPU, 1Gi RAM\n- **Medium**: 1 vCPU, 2Gi RAM\n- **Large**: 2 vCPU, 4Gi RAM\n\n#### Deliberation Layer (BERT)\n\n- **Small**: 1 vCPU, 2Gi RAM\n- **Medium**: 2 vCPU, 4Gi RAM\n- **Large**: 4 vCPU, 8Gi RAM (GPU recommended)\n\n### Infrastructure Services\n\n| Service        | Small          | Medium          | Large            |\n| -------------- | -------------- | --------------- | ---------------- |\n| **PostgreSQL** | db.t3.medium   | db.m6g.large    | db.r6g.xlarge    |\n| **Redis**      | cache.t3.small | cache.m6g.large | cache.r6g.large  |\n| **Kafka**      | kafka.t3.small | kafka.m5.large  | kafka.m5.2xlarge |\n\n### Storage Recommendations\n\n- **Audit Logs**: 100GB+ (SSD recommended)\n- **Message Queue**: 50GB+ (High IOPS)\n- **Policy Registry**: 10GB+\n\n---\n\n## Security Hardening\n\n### Network Policies\n\nThe deployment includes zero-trust network policies. Verify:\n\n```bash\nkubectl get networkpolicy -n acgs2\n```\n\n### Pod Security\n\nAll pods run with:\n\n- Non-root user (UID 1000)\n- Read-only root filesystem\n- Dropped capabilities\n- Seccomp profile\n\n### Secrets Management\n\nFor production, consider:\n\n- AWS Secrets Manager / GCP Secret Manager integration\n- HashiCorp Vault for dynamic secrets\n- Sealed Secrets for GitOps workflows\n\n---\n\n## Troubleshooting\n\n### Common Issues\n\n**Pod CrashLoopBackOff:**\n\n```bash\nkubectl describe pod -n acgs2 <pod-name>\nkubectl logs -n acgs2 <pod-name> --previous\n```\n\n**Database Connection Issues:**\n\n```bash\n# Test connectivity\nkubectl run -it --rm debug --image=postgres:15 --restart=Never -- \\\n  psql -h <db-host> -U acgs2_admin -d acgs2\n```\n\n**Constitutional Hash Mismatch:**\n\n```bash\n# Check all services for hash consistency\nkubectl exec -n acgs2 deployment/acgs2-constitutional-service -- \\\n  grep -r \"cdd01ef066bc6cf2\" /app/\n```\n\n### Support\n\n- Documentation: https://docs.acgs.io\n- Issues: https://github.com/acgs/acgs2/issues\n- Email: support@acgs.io\n\n---\n\n**Constitutional Hash:** `cdd01ef066bc6cf2` - All deployments must validate against this hash.\n",
        "timestamp": "2026-01-04T05:35:51.134105"
      },
      "worktree_state": null,
      "task_intent": {
        "title": "060-document-error-codes-and-troubleshooting-for-commo",
        "description": "The codebase has 13 TODO/FIXME comments across critical files including webhooks.py, approval_chain_engine.py, and config_validator.py. Additionally, there's no centralized documentation for error codes, failure modes, or troubleshooting guides. Users encountering errors have no reference for resolution.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-03T19:36:08.604232",
  "last_updated": "2026-01-04T05:35:51.169886"
}