{
  "file_path": "acgs2-core/enhanced_agent_bus/utils.py",
  "main_branch_history": [],
  "task_views": {
    "056-reduce-excessive-any-type-usage-in-python-codebase": {
      "task_id": "056-reduce-excessive-any-type-usage-in-python-codebase",
      "branch_point": {
        "commit_hash": "fc6e42927298263034acf989773f3200e422ad17",
        "content": "\"\"\"\nACGS-2 Enhanced Agent Bus - Utilities\nConstitutional Hash: cdd01ef066bc6cf2\n\"\"\"\n\nimport re\nfrom datetime import datetime, timezone\nfrom typing import Any\n\n\ndef redact_error_message(error: Exception) -> str:\n    \"\"\"Redact sensitive information from error messages (VULN-008).\"\"\"\n    error_msg = str(error)\n    # Redact potential URLs/URIs\n    redacted = re.sub(r'[a-zA-Z0-9+.-]+://[^\\s<>\"]+', \"[REDACTED_URI]\", error_msg)\n    # Redact common credential patterns\n    redacted = re.sub(\n        r\"(?i)(key|secret|token|password|auth|pwd)=[^ \\b\\n\\r\\t,;]+\", r\"\\1=[REDACTED]\", redacted\n    )\n    # Redact absolute file paths (Unix-style)\n    redacted = re.sub(r\"/(?:[a-zA-Z0-9._-]+/)+[a-zA-Z0-9._-]+\", \"[REDACTED_PATH]\", redacted)\n    return redacted\n\n\ndef get_iso_timestamp() -> str:\n    \"\"\"Get current UTC timestamp in ISO format.\"\"\"\n    return datetime.now(timezone.utc).isoformat()\n\n\nclass LRUCache:\n    \"\"\"Simple LRU cache for validation results.\"\"\"\n\n    def __init__(self, maxsize: int = 1000):\n        from collections import OrderedDict\n\n        self._cache = OrderedDict()\n        self._maxsize = maxsize\n\n    def get(self, key: Any) -> Any:\n        if key not in self._cache:\n            return None\n        self._cache.move_to_end(key)\n        return self._cache[key]\n\n    def set(self, key: Any, value: Any) -> None:\n        if key in self._cache:\n            self._cache.move_to_end(key)\n        self._cache[key] = value\n        if len(self._cache) > self._maxsize:\n            self._cache.popitem(last=False)\n\n    def clear(self) -> None:\n        self._cache.clear()\n",
        "timestamp": "2026-01-04T05:35:58.374613"
      },
      "worktree_state": null,
      "task_intent": {
        "title": "056-reduce-excessive-any-type-usage-in-python-codebase",
        "description": "Found 373 occurrences of ': Any' type annotations across 120+ Python files, with high concentrations in integration-service (16 occurrences), acgs2-core/breakthrough (79 occurrences), and acgs2-core/enhanced_agent_bus (50+ occurrences). Excessive use of 'Any' defeats the purpose of type hints and can mask type-related bugs.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-03T19:36:18.351765",
  "last_updated": "2026-01-04T05:35:58.439838"
}