{
  "file_path": "acgs2-core/sdk/python/acgs2_sdk/models.py",
  "main_branch_history": [],
  "task_views": {
    "056-reduce-excessive-any-type-usage-in-python-codebase": {
      "task_id": "056-reduce-excessive-any-type-usage-in-python-codebase",
      "branch_point": {
        "commit_hash": "fc6e42927298263034acf989773f3200e422ad17",
        "content": "\"\"\"\nACGS-2 SDK Models\nConstitutional Hash: cdd01ef066bc6cf2\n\"\"\"\n\nfrom datetime import datetime\nfrom enum import Enum\nfrom typing import Any, Generic, TypeVar\nfrom uuid import UUID\n\nfrom pydantic import BaseModel, Field, field_validator\n\nfrom acgs2_sdk.constants import CONSTITUTIONAL_HASH\n\n# =============================================================================\n# Enums\n# =============================================================================\n\n\nclass MessageType(str, Enum):\n    \"\"\"Agent message types.\"\"\"\n\n    COMMAND = \"command\"\n    QUERY = \"query\"\n    EVENT = \"event\"\n    RESPONSE = \"response\"\n    ERROR = \"error\"\n\n\nclass Priority(str, Enum):\n    \"\"\"Message priority levels.\"\"\"\n\n    CRITICAL = \"critical\"\n    HIGH = \"high\"\n    NORMAL = \"normal\"\n    LOW = \"low\"\n\n\nclass PolicyStatus(str, Enum):\n    \"\"\"Policy lifecycle status.\"\"\"\n\n    DRAFT = \"draft\"\n    PENDING_REVIEW = \"pending_review\"\n    APPROVED = \"approved\"\n    ACTIVE = \"active\"\n    DEPRECATED = \"deprecated\"\n    ARCHIVED = \"archived\"\n\n\nclass ApprovalStatus(str, Enum):\n    \"\"\"Approval request status.\"\"\"\n\n    PENDING = \"pending\"\n    APPROVED = \"approved\"\n    REJECTED = \"rejected\"\n    ESCALATED = \"escalated\"\n    EXPIRED = \"expired\"\n\n\nclass ComplianceStatus(str, Enum):\n    \"\"\"Compliance check status.\"\"\"\n\n    COMPLIANT = \"compliant\"\n    NON_COMPLIANT = \"non_compliant\"\n    PENDING_REVIEW = \"pending_review\"\n    UNKNOWN = \"unknown\"\n\n\nclass EventSeverity(str, Enum):\n    \"\"\"Audit event severity levels.\"\"\"\n\n    DEBUG = \"debug\"\n    INFO = \"info\"\n    WARNING = \"warning\"\n    ERROR = \"error\"\n    CRITICAL = \"critical\"\n\n\nclass EventCategory(str, Enum):\n    \"\"\"Audit event categories.\"\"\"\n\n    GOVERNANCE = \"governance\"\n    POLICY = \"policy\"\n    AGENT = \"agent\"\n    AUTHENTICATION = \"authentication\"\n    AUTHORIZATION = \"authorization\"\n    AUDIT = \"audit\"\n    SYSTEM = \"system\"\n    ML_MODEL = \"ml_model\"\n    PREDICTION = \"prediction\"\n\n\nclass ModelTrainingStatus(str, Enum):\n    \"\"\"ML model training status.\"\"\"\n\n    TRAINING = \"training\"\n    COMPLETED = \"completed\"\n    FAILED = \"failed\"\n    STOPPED = \"stopped\"\n\n\nclass DriftDirection(str, Enum):\n    \"\"\"Model drift direction.\"\"\"\n\n    NONE = \"none\"\n    INCREASE = \"increase\"\n    DECREASE = \"decrease\"\n\n\nclass ABNTestStatus(str, Enum):\n    \"\"\"A/B test status.\"\"\"\n\n    ACTIVE = \"active\"\n    COMPLETED = \"completed\"\n    PAUSED = \"paused\"\n    CANCELLED = \"cancelled\"\n\n\n# =============================================================================\n# Base Models\n# =============================================================================\n\n\nclass ConstitutionalModel(BaseModel):\n    \"\"\"Base model with constitutional hash validation.\"\"\"\n\n    constitutional_hash: str = Field(\n        default=CONSTITUTIONAL_HASH,\n        alias=\"constitutionalHash\",\n    )\n\n    @field_validator(\"constitutional_hash\")\n    @classmethod\n    def validate_hash(cls, v: str) -> str:\n        if v != CONSTITUTIONAL_HASH:\n            raise ValueError(\n                f\"Constitutional hash mismatch: expected {CONSTITUTIONAL_HASH}, got {v}\"\n            )\n        return v\n\n    model_config = {\"populate_by_name\": True}\n\n\nT = TypeVar(\"T\")\n\n\nclass PaginatedResponse(BaseModel, Generic[T]):\n    \"\"\"Paginated API response.\"\"\"\n\n    data: list[T]\n    total: int\n    page: int\n    page_size: int = Field(alias=\"pageSize\")\n    total_pages: int = Field(alias=\"totalPages\")\n\n    model_config = {\"populate_by_name\": True}\n\n\n# =============================================================================\n# Agent Models\n# =============================================================================\n\n\nclass AgentMessage(ConstitutionalModel):\n    \"\"\"Agent communication message.\"\"\"\n\n    id: UUID\n    type: MessageType\n    priority: Priority = Priority.NORMAL\n    source_agent_id: str = Field(alias=\"sourceAgentId\")\n    target_agent_id: str | None = Field(default=None, alias=\"targetAgentId\")\n    payload: dict[str, Any]\n    timestamp: datetime\n    correlation_id: UUID | None = Field(default=None, alias=\"correlationId\")\n    metadata: dict[str, str] | None = None\n\n\nclass AgentInfo(BaseModel):\n    \"\"\"Agent information.\"\"\"\n\n    id: str\n    name: str\n    type: str\n    status: str\n    capabilities: list[str]\n    metadata: dict[str, str]\n    last_seen: datetime = Field(alias=\"lastSeen\")\n    constitutional_hash: str = Field(alias=\"constitutionalHash\")\n\n    model_config = {\"populate_by_name\": True}\n\n\n# =============================================================================\n# Policy Models\n# =============================================================================\n\n\nclass Policy(ConstitutionalModel):\n    \"\"\"Policy definition.\"\"\"\n\n    id: UUID\n    name: str = Field(min_length=1, max_length=255)\n    version: str\n    description: str | None = None\n    status: PolicyStatus\n    rules: list[dict[str, Any]]\n    tenant_id: str | None = Field(default=None, alias=\"tenantId\")\n    created_at: datetime = Field(alias=\"createdAt\")\n    updated_at: datetime = Field(alias=\"updatedAt\")\n    created_by: str = Field(alias=\"createdBy\")\n    tags: list[str] | None = None\n    compliance_tags: list[str] | None = Field(default=None, alias=\"complianceTags\")\n\n\n# =============================================================================\n# Compliance Models\n# =============================================================================\n\n\nclass ComplianceViolation(BaseModel):\n    \"\"\"Compliance rule violation.\"\"\"\n\n    rule_id: str = Field(alias=\"ruleId\")\n    message: str\n    severity: EventSeverity\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass ComplianceResult(ConstitutionalModel):\n    \"\"\"Compliance validation result.\"\"\"\n\n    policy_id: UUID = Field(alias=\"policyId\")\n    status: ComplianceStatus\n    score: float = Field(ge=0, le=100)\n    violations: list[ComplianceViolation]\n    timestamp: datetime\n\n\n# =============================================================================\n# Approval Models\n# =============================================================================\n\n\nclass ApprovalDecision(BaseModel):\n    \"\"\"Individual approval decision.\"\"\"\n\n    approver_id: str = Field(alias=\"approverId\")\n    decision: ApprovalStatus\n    reasoning: str | None = None\n    timestamp: datetime\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass ApprovalRequest(ConstitutionalModel):\n    \"\"\"Approval request.\"\"\"\n\n    id: UUID\n    request_type: str = Field(alias=\"requestType\")\n    requester_id: str = Field(alias=\"requesterId\")\n    status: ApprovalStatus\n    risk_score: float = Field(ge=0, le=100, alias=\"riskScore\")\n    required_approvers: int = Field(ge=1, alias=\"requiredApprovers\")\n    current_approvals: int = Field(alias=\"currentApprovals\")\n    decisions: list[ApprovalDecision]\n    payload: dict[str, Any]\n    created_at: datetime = Field(alias=\"createdAt\")\n    expires_at: datetime | None = Field(default=None, alias=\"expiresAt\")\n\n\n# =============================================================================\n# Audit Models\n# =============================================================================\n\n\nclass AuditEvent(ConstitutionalModel):\n    \"\"\"Audit event record.\"\"\"\n\n    id: UUID\n    category: EventCategory\n    severity: EventSeverity\n    action: str\n    actor: str\n    resource: str\n    resource_id: str | None = Field(default=None, alias=\"resourceId\")\n    outcome: str  # \"success\" | \"failure\" | \"partial\"\n    details: dict[str, Any] | None = None\n    timestamp: datetime\n    tenant_id: str | None = Field(default=None, alias=\"tenantId\")\n    correlation_id: UUID | None = Field(default=None, alias=\"correlationId\")\n\n\n# =============================================================================\n# Governance Models\n# =============================================================================\n\n\nclass GovernanceDecision(ConstitutionalModel):\n    \"\"\"Governance decision record.\"\"\"\n\n    id: UUID\n    request_id: UUID = Field(alias=\"requestId\")\n    decision: str  # \"approve\" | \"deny\" | \"escalate\"\n    reasoning: str\n    policy_violations: list[str] = Field(alias=\"policyViolations\")\n    risk_score: float = Field(ge=0, le=100, alias=\"riskScore\")\n    reviewer_ids: list[str] = Field(alias=\"reviewerIds\")\n    timestamp: datetime\n    blockchain_anchor: str | None = Field(default=None, alias=\"blockchainAnchor\")\n\n\n# =============================================================================\n# ML Governance Models\n# =============================================================================\n\n\nclass MLModel(ConstitutionalModel):\n    \"\"\"ML model information.\"\"\"\n\n    id: str\n    name: str\n    version: str\n    description: str | None = None\n    model_type: str = Field(alias=\"modelType\")\n    framework: str\n    accuracy_score: float | None = Field(default=None, alias=\"accuracyScore\")\n    training_status: ModelTrainingStatus = Field(alias=\"trainingStatus\")\n    last_trained_at: datetime | None = Field(default=None, alias=\"lastTrainedAt\")\n    created_at: datetime = Field(alias=\"createdAt\")\n    updated_at: datetime = Field(alias=\"updatedAt\")\n\n\nclass ModelPrediction(ConstitutionalModel):\n    \"\"\"ML model prediction result.\"\"\"\n\n    id: str\n    model_id: str = Field(alias=\"modelId\")\n    model_version: str = Field(alias=\"modelVersion\")\n    input_features: dict[str, Any] = Field(alias=\"inputFeatures\")\n    prediction: Any\n    confidence_score: float | None = Field(default=None, alias=\"confidenceScore\")\n    prediction_metadata: dict[str, Any] | None = Field(default=None, alias=\"predictionMetadata\")\n    timestamp: datetime\n\n\nclass DriftDetection(ConstitutionalModel):\n    \"\"\"Model drift detection result.\"\"\"\n\n    model_id: str = Field(alias=\"modelId\")\n    drift_score: float = Field(alias=\"driftScore\")\n    drift_direction: DriftDirection = Field(alias=\"driftDirection\")\n    baseline_accuracy: float = Field(alias=\"baselineAccuracy\")\n    current_accuracy: float = Field(alias=\"currentAccuracy\")\n    features_affected: list[str] = Field(alias=\"featuresAffected\")\n    detected_at: datetime = Field(alias=\"detectedAt\")\n    recommendations: list[str]\n\n\nclass ABNTest(ConstitutionalModel):\n    \"\"\"A/B test configuration.\"\"\"\n\n    id: str\n    name: str\n    description: str | None = None\n    model_a_id: str = Field(alias=\"modelAId\")\n    model_b_id: str = Field(alias=\"modelBId\")\n    status: ABNTestStatus\n    test_duration_days: int = Field(alias=\"testDurationDays\")\n    traffic_split_percentage: float = Field(alias=\"trafficSplitPercentage\")  # A/B split\n    success_metric: str = Field(alias=\"successMetric\")\n    created_at: datetime = Field(alias=\"createdAt\")\n    completed_at: datetime | None = Field(default=None, alias=\"completedAt\")\n\n\nclass FeedbackSubmission(ConstitutionalModel):\n    \"\"\"User feedback for model training.\"\"\"\n\n    prediction_id: str | None = Field(default=None, alias=\"predictionId\")\n    model_id: str = Field(alias=\"modelId\")\n    feedback_type: str = Field(alias=\"feedbackType\")  # \"correction\" | \"rating\" | \"explanation\"\n    feedback_value: Any = Field(\n        alias=\"feedbackValue\"\n    )  # Correct value, rating score, or explanation\n    user_id: str | None = Field(default=None, alias=\"userId\")\n    context: dict[str, Any] | None = None\n    submitted_at: datetime = Field(alias=\"submittedAt\")\n\n\n# =============================================================================\n# Request Models\n# =============================================================================\n\n\nclass CreatePolicyRequest(BaseModel):\n    \"\"\"Request to create a new policy.\"\"\"\n\n    name: str = Field(min_length=1, max_length=255)\n    description: str | None = None\n    rules: list[dict[str, Any]]\n    tags: list[str] | None = None\n    compliance_tags: list[str] | None = Field(default=None, alias=\"complianceTags\")\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass UpdatePolicyRequest(BaseModel):\n    \"\"\"Request to update a policy.\"\"\"\n\n    name: str | None = Field(default=None, min_length=1, max_length=255)\n    description: str | None = None\n    rules: list[dict[str, Any]] | None = None\n    status: PolicyStatus | None = None\n    tags: list[str] | None = None\n    compliance_tags: list[str] | None = Field(default=None, alias=\"complianceTags\")\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass SendMessageRequest(BaseModel):\n    \"\"\"Request to send an agent message.\"\"\"\n\n    type: MessageType\n    priority: Priority = Priority.NORMAL\n    target_agent_id: str | None = Field(default=None, alias=\"targetAgentId\")\n    payload: dict[str, Any]\n    correlation_id: str | None = Field(default=None, alias=\"correlationId\")\n    metadata: dict[str, str] | None = None\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass CreateApprovalRequest(BaseModel):\n    \"\"\"Request to create an approval request.\"\"\"\n\n    request_type: str = Field(alias=\"requestType\")\n    payload: dict[str, Any]\n    risk_score: float | None = Field(default=None, ge=0, le=100, alias=\"riskScore\")\n    required_approvers: int | None = Field(default=None, ge=1, alias=\"requiredApprovers\")\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass SubmitApprovalDecision(BaseModel):\n    \"\"\"Request to submit an approval decision.\"\"\"\n\n    decision: str  # \"approve\" | \"reject\"\n    reasoning: str\n\n\nclass ValidateComplianceRequest(BaseModel):\n    \"\"\"Request to validate compliance.\"\"\"\n\n    policy_id: str = Field(alias=\"policyId\")\n    context: dict[str, Any]\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass QueryAuditEventsRequest(BaseModel):\n    \"\"\"Request to query audit events.\"\"\"\n\n    category: EventCategory | None = None\n    severity: EventSeverity | None = None\n    actor: str | None = None\n    resource: str | None = None\n    start_time: datetime | None = Field(default=None, alias=\"startTime\")\n    end_time: datetime | None = Field(default=None, alias=\"endTime\")\n    page: int = 1\n    page_size: int = Field(default=50, alias=\"pageSize\")\n    sort_by: str | None = Field(default=None, alias=\"sortBy\")\n    sort_order: str | None = Field(default=None, alias=\"sortOrder\")\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass CreateMLModelRequest(BaseModel):\n    \"\"\"Request to create/register an ML model.\"\"\"\n\n    name: str\n    description: str | None = None\n    model_type: str = Field(alias=\"modelType\")\n    framework: str\n    initial_accuracy_score: float | None = Field(default=None, alias=\"initialAccuracyScore\")\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass UpdateMLModelRequest(BaseModel):\n    \"\"\"Request to update an ML model.\"\"\"\n\n    name: str | None = None\n    description: str | None = None\n    accuracy_score: float | None = Field(default=None, alias=\"accuracyScore\")\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass MakePredictionRequest(BaseModel):\n    \"\"\"Request to make a prediction with an ML model.\"\"\"\n\n    model_id: str = Field(alias=\"modelId\")\n    features: dict[str, Any]\n    include_confidence: bool | None = Field(default=None, alias=\"includeConfidence\")\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass SubmitFeedbackRequest(BaseModel):\n    \"\"\"Request to submit feedback for model training.\"\"\"\n\n    prediction_id: str | None = Field(default=None, alias=\"predictionId\")\n    model_id: str = Field(alias=\"modelId\")\n    feedback_type: str = Field(alias=\"feedbackType\")\n    feedback_value: Any = Field(alias=\"feedbackValue\")\n    user_id: str | None = Field(default=None, alias=\"userId\")\n    context: dict[str, Any] | None = None\n\n    model_config = {\"populate_by_name\": True}\n\n\nclass CreateABNTestRequest(BaseModel):\n    \"\"\"Request to create an A/B test.\"\"\"\n\n    name: str\n    description: str | None = None\n    model_a_id: str = Field(alias=\"modelAId\")\n    model_b_id: str = Field(alias=\"modelBId\")\n    test_duration_days: int = Field(alias=\"testDurationDays\")\n    traffic_split_percentage: float = Field(alias=\"trafficSplitPercentage\")\n    success_metric: str = Field(alias=\"successMetric\")\n\n    model_config = {\"populate_by_name\": True}\n",
        "timestamp": "2026-01-04T05:35:58.374613"
      },
      "worktree_state": null,
      "task_intent": {
        "title": "056-reduce-excessive-any-type-usage-in-python-codebase",
        "description": "Found 373 occurrences of ': Any' type annotations across 120+ Python files, with high concentrations in integration-service (16 occurrences), acgs2-core/breakthrough (79 occurrences), and acgs2-core/enhanced_agent_bus (50+ occurrences). Excessive use of 'Any' defeats the purpose of type hints and can mask type-related bugs.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-03T19:36:18.300241",
  "last_updated": "2026-01-04T05:35:59.144507"
}