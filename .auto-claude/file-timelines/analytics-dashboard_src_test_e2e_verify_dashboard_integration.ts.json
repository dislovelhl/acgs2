{
  "file_path": "analytics-dashboard/src/test/e2e/verify_dashboard_integration.ts",
  "main_branch_history": [],
  "task_views": {
    "054-extract-duplicated-loadingstate-and-api-config-in-": {
      "task_id": "054-extract-duplicated-loadingstate-and-api-config-in-",
      "branch_point": {
        "commit_hash": "4a99fe22e8e0087919301b1aa185d4e2c6da716c",
        "content": "import { getLogger } from '../../../../../../sdk/typescript/src/utils/logger';\nconst logger = getLogger('verify_dashboard_integration');\n\n\n/**\n * Dashboard \u2192 Analytics-API Integration Verification Script\n *\n * This script provides programmatic verification of the dashboard's\n * integration with the analytics-api backend.\n *\n * Run with: npx tsx src/test/e2e/verify_dashboard_integration.ts\n *\n * Prerequisites:\n * - analytics-api running at http://localhost:8080\n * - analytics-dashboard running at http://localhost:5173\n */\n\nconst API_BASE_URL = process.env.VITE_ANALYTICS_API_URL || \"http://localhost:8080\";\n\ninterface VerificationResult {\n  endpoint: string;\n  status: \"pass\" | \"fail\";\n  message: string;\n  duration: number;\n  response?: unknown;\n}\n\ninterface VerificationReport {\n  timestamp: string;\n  total_checks: number;\n  passed: number;\n  failed: number;\n  results: VerificationResult[];\n}\n\n/**\n * Verifies a single API endpoint\n */\nasync function verifyEndpoint(\n  endpoint: string,\n  method: \"GET\" | \"POST\" = \"GET\",\n  body?: object\n): Promise<VerificationResult> {\n  const start = Date.now();\n  const url = `${API_BASE_URL}${endpoint}`;\n\n  try {\n    const options: RequestInit = {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    };\n\n    if (body && method === \"POST\") {\n      options.body = JSON.stringify(body);\n    }\n\n    const response = await fetch(url, options);\n    const duration = Date.now() - start;\n\n    if (!response.ok) {\n      return {\n        endpoint,\n        status: \"fail\",\n        message: `HTTP ${response.status}: ${response.statusText}`,\n        duration,\n      };\n    }\n\n    const contentType = response.headers.get(\"content-type\");\n    let data: unknown;\n\n    if (contentType?.includes(\"application/json\")) {\n      data = await response.json();\n    } else if (contentType?.includes(\"application/pdf\")) {\n      const blob = await response.blob();\n      data = { type: \"pdf\", size: blob.size };\n    } else {\n      data = await response.text();\n    }\n\n    return {\n      endpoint,\n      status: \"pass\",\n      message: `Success (${duration}ms)`,\n      duration,\n      response: data,\n    };\n  } catch (error) {\n    const duration = Date.now() - start;\n    return {\n      endpoint,\n      status: \"fail\",\n      message: error instanceof Error ? error.message : \"Unknown error\",\n      duration,\n    };\n  }\n}\n\n/**\n * Verifies the /insights endpoint\n */\nasync function verifyInsightsEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/insights\");\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\n      \"summary\",\n      \"business_impact\",\n      \"recommended_action\",\n      \"confidence\",\n    ];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify confidence is in valid range\n    const confidence = data.confidence as number;\n    if (confidence < 0 || confidence > 1) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Invalid confidence value: ${confidence}`,\n      };\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /anomalies endpoint\n */\nasync function verifyAnomaliesEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/anomalies\");\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\n      \"analysis_timestamp\",\n      \"total_records_analyzed\",\n      \"anomalies_detected\",\n      \"anomalies\",\n    ];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify anomalies is an array\n    if (!Array.isArray(data.anomalies)) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: \"anomalies field is not an array\",\n      };\n    }\n\n    // Verify each anomaly has required structure\n    const anomalies = data.anomalies as Array<Record<string, unknown>>;\n    for (const anomaly of anomalies) {\n      if (!anomaly.anomaly_id || !anomaly.severity_label) {\n        return {\n          ...result,\n          status: \"fail\",\n          message: \"Anomaly missing required fields (anomaly_id, severity_label)\",\n        };\n      }\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /predictions endpoint\n */\nasync function verifyPredictionsEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/predictions\");\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\n      \"forecast_timestamp\",\n      \"forecast_days\",\n      \"model_trained\",\n      \"predictions\",\n      \"summary\",\n    ];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify predictions is an array\n    if (!Array.isArray(data.predictions)) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: \"predictions field is not an array\",\n      };\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /query endpoint\n */\nasync function verifyQueryEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/query\", \"POST\", {\n    question: \"Show violations this week\",\n  });\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\"query\", \"answer\", \"data\", \"query_understood\"];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify answer is not empty\n    if (!data.answer || (data.answer as string).length === 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: \"Empty answer returned\",\n      };\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /export/pdf endpoint\n */\nasync function verifyExportPdfEndpoint(): Promise<VerificationResult> {\n  const start = Date.now();\n  const url = `${API_BASE_URL}/export/pdf`;\n\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/pdf\",\n      },\n    });\n    const duration = Date.now() - start;\n\n    if (!response.ok) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: `HTTP ${response.status}: ${response.statusText}`,\n        duration,\n      };\n    }\n\n    const contentType = response.headers.get(\"content-type\");\n    const contentDisposition = response.headers.get(\"content-disposition\");\n\n    // Verify PDF content type\n    if (!contentType?.includes(\"application/pdf\")) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: `Wrong content type: ${contentType}`,\n        duration,\n      };\n    }\n\n    // Verify PDF file download\n    const blob = await response.blob();\n    if (blob.size < 100) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: `PDF too small (${blob.size} bytes)`,\n        duration,\n      };\n    }\n\n    // Verify content-disposition header\n    if (!contentDisposition?.includes(\"attachment\")) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: \"Missing attachment content-disposition\",\n        duration,\n      };\n    }\n\n    return {\n      endpoint: \"/export/pdf\",\n      status: \"pass\",\n      message: `Success - PDF size: ${blob.size} bytes (${duration}ms)`,\n      duration,\n      response: { size: blob.size, contentType, contentDisposition },\n    };\n  } catch (error) {\n    const duration = Date.now() - start;\n    return {\n      endpoint: \"/export/pdf\",\n      status: \"fail\",\n      message: error instanceof Error ? error.message : \"Unknown error\",\n      duration,\n    };\n  }\n}\n\n  logger.info(\"=\" .repeat(60);\n  logger.info(\"Dashboard \u2192 Analytics-API Integration Verification\";\n  logger.info(\"=\" .repeat(60);\n  logger.info(`API Base URL: ${API_BASE_URL}`;\n  logger.info(`Timestamp: ${new Date().toISOString()}`;\n  logger.info(\"\";\n  console.log(\"=\" .repeat(60));\n  console.log(`API Base URL: ${API_BASE_URL}`);\n  console.log(`Timestamp: ${new Date().toISOString()}`);\n  console.log(\"\");\n  logger.info(\"1. Verifying GET /insights endpoint...\";\n  const results: VerificationResult[] = [];\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n  // Verify each endpoint\n  logger.info(\"2. Verifying GET /anomalies endpoint...\";\n  results.push(await verifyInsightsEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  logger.info(\"3. Verifying GET /predictions endpoint...\";\n  results.push(await verifyAnomaliesEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  logger.info(\"4. Verifying POST /query endpoint...\";\n  results.push(await verifyPredictionsEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  logger.info(\"5. Verifying POST /export/pdf endpoint...\";\n  results.push(await verifyQueryEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  console.log(\"5. Verifying POST /export/pdf endpoint...\");\n  results.push(await verifyExportPdfEndpoint());\n  console.log(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`);\n\n  logger.info(\"\";\n  logger.info(\"=\" .repeat(60);\n  logger.info(\"VERIFICATION SUMMARY\";\n  logger.info(\"=\" .repeat(60);\n  logger.info(`Total Checks: ${results.length}`;\n  logger.info(`Passed: ${passed}`;\n  logger.info(`Failed: ${failed}`;\n  logger.info(`Status: ${failed === 0 ? \"ALL CHECKS PASSED\" : \"SOME CHECKS FAILED\"}`;\n  console.log(`Total Checks: ${results.length}`);\n  console.log(`Passed: ${passed}`);\n    logger.info(\"\";\n    logger.info(\"Failed checks:\";\n\n  if (failed > 0) {\n    console.log(\"\");\n        logger.info(`  - ${r.endpoint}: ${r.message}`;\n    results\n      .filter((r) => r.status === \"fail\")\n      .forEach((r) => {\n        console.log(`  - ${r.endpoint}: ${r.message}`);\n      });\n  }\n\n  return {\n    timestamp: new Date().toISOString(),\n    total_checks: results.length,\n    passed,\n    failed,\n    results,\n  };\n}\n\n// Run verification if executed directly\nrunVerification()\n  .then((report) => {\n    process.exit(report.failed > 0 ? 1 : 0);\n  })\n  .catch((error) => {\n    console.error(\"Verification failed:\", error);\n    process.exit(1);\n  });\n",
        "timestamp": "2026-01-03T18:35:24.567548"
      },
      "worktree_state": {
        "content": "import { getLogger } from '../../../../../../sdk/typescript/src/utils/logger';\nimport { API_BASE_URL } from '../../lib';\n\nconst logger = getLogger('verify_dashboard_integration');\n\n\n/**\n * Dashboard \u2192 Analytics-API Integration Verification Script\n *\n * This script provides programmatic verification of the dashboard's\n * integration with the analytics-api backend.\n *\n * Run with: npx tsx src/test/e2e/verify_dashboard_integration.ts\n *\n * Prerequisites:\n * - analytics-api running at http://localhost:8080\n * - analytics-dashboard running at http://localhost:5173\n */\n\ninterface VerificationResult {\n  endpoint: string;\n  status: \"pass\" | \"fail\";\n  message: string;\n  duration: number;\n  response?: unknown;\n}\n\ninterface VerificationReport {\n  timestamp: string;\n  total_checks: number;\n  passed: number;\n  failed: number;\n  results: VerificationResult[];\n}\n\n/**\n * Verifies a single API endpoint\n */\nasync function verifyEndpoint(\n  endpoint: string,\n  method: \"GET\" | \"POST\" = \"GET\",\n  body?: object\n): Promise<VerificationResult> {\n  const start = Date.now();\n  const url = `${API_BASE_URL}${endpoint}`;\n\n  try {\n    const options: RequestInit = {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    };\n\n    if (body && method === \"POST\") {\n      options.body = JSON.stringify(body);\n    }\n\n    const response = await fetch(url, options);\n    const duration = Date.now() - start;\n\n    if (!response.ok) {\n      return {\n        endpoint,\n        status: \"fail\",\n        message: `HTTP ${response.status}: ${response.statusText}`,\n        duration,\n      };\n    }\n\n    const contentType = response.headers.get(\"content-type\");\n    let data: unknown;\n\n    if (contentType?.includes(\"application/json\")) {\n      data = await response.json();\n    } else if (contentType?.includes(\"application/pdf\")) {\n      const blob = await response.blob();\n      data = { type: \"pdf\", size: blob.size };\n    } else {\n      data = await response.text();\n    }\n\n    return {\n      endpoint,\n      status: \"pass\",\n      message: `Success (${duration}ms)`,\n      duration,\n      response: data,\n    };\n  } catch (error) {\n    const duration = Date.now() - start;\n    return {\n      endpoint,\n      status: \"fail\",\n      message: error instanceof Error ? error.message : \"Unknown error\",\n      duration,\n    };\n  }\n}\n\n/**\n * Verifies the /insights endpoint\n */\nasync function verifyInsightsEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/insights\");\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\n      \"summary\",\n      \"business_impact\",\n      \"recommended_action\",\n      \"confidence\",\n    ];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify confidence is in valid range\n    const confidence = data.confidence as number;\n    if (confidence < 0 || confidence > 1) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Invalid confidence value: ${confidence}`,\n      };\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /anomalies endpoint\n */\nasync function verifyAnomaliesEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/anomalies\");\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\n      \"analysis_timestamp\",\n      \"total_records_analyzed\",\n      \"anomalies_detected\",\n      \"anomalies\",\n    ];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify anomalies is an array\n    if (!Array.isArray(data.anomalies)) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: \"anomalies field is not an array\",\n      };\n    }\n\n    // Verify each anomaly has required structure\n    const anomalies = data.anomalies as Array<Record<string, unknown>>;\n    for (const anomaly of anomalies) {\n      if (!anomaly.anomaly_id || !anomaly.severity_label) {\n        return {\n          ...result,\n          status: \"fail\",\n          message: \"Anomaly missing required fields (anomaly_id, severity_label)\",\n        };\n      }\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /predictions endpoint\n */\nasync function verifyPredictionsEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/predictions\");\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\n      \"forecast_timestamp\",\n      \"forecast_days\",\n      \"model_trained\",\n      \"predictions\",\n      \"summary\",\n    ];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify predictions is an array\n    if (!Array.isArray(data.predictions)) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: \"predictions field is not an array\",\n      };\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /query endpoint\n */\nasync function verifyQueryEndpoint(): Promise<VerificationResult> {\n  const result = await verifyEndpoint(\"/query\", \"POST\", {\n    question: \"Show violations this week\",\n  });\n\n  if (result.status === \"pass\" && result.response) {\n    const data = result.response as Record<string, unknown>;\n\n    // Verify required fields\n    const requiredFields = [\"query\", \"answer\", \"data\", \"query_understood\"];\n    const missingFields = requiredFields.filter(\n      (field) => !(field in data)\n    );\n\n    if (missingFields.length > 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: `Missing required fields: ${missingFields.join(\", \")}`,\n      };\n    }\n\n    // Verify answer is not empty\n    if (!data.answer || (data.answer as string).length === 0) {\n      return {\n        ...result,\n        status: \"fail\",\n        message: \"Empty answer returned\",\n      };\n    }\n  }\n\n  return result;\n}\n\n/**\n * Verifies the /export/pdf endpoint\n */\nasync function verifyExportPdfEndpoint(): Promise<VerificationResult> {\n  const start = Date.now();\n  const url = `${API_BASE_URL}/export/pdf`;\n\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/pdf\",\n      },\n    });\n    const duration = Date.now() - start;\n\n    if (!response.ok) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: `HTTP ${response.status}: ${response.statusText}`,\n        duration,\n      };\n    }\n\n    const contentType = response.headers.get(\"content-type\");\n    const contentDisposition = response.headers.get(\"content-disposition\");\n\n    // Verify PDF content type\n    if (!contentType?.includes(\"application/pdf\")) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: `Wrong content type: ${contentType}`,\n        duration,\n      };\n    }\n\n    // Verify PDF file download\n    const blob = await response.blob();\n    if (blob.size < 100) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: `PDF too small (${blob.size} bytes)`,\n        duration,\n      };\n    }\n\n    // Verify content-disposition header\n    if (!contentDisposition?.includes(\"attachment\")) {\n      return {\n        endpoint: \"/export/pdf\",\n        status: \"fail\",\n        message: \"Missing attachment content-disposition\",\n        duration,\n      };\n    }\n\n    return {\n      endpoint: \"/export/pdf\",\n      status: \"pass\",\n      message: `Success - PDF size: ${blob.size} bytes (${duration}ms)`,\n      duration,\n      response: { size: blob.size, contentType, contentDisposition },\n    };\n  } catch (error) {\n    const duration = Date.now() - start;\n    return {\n      endpoint: \"/export/pdf\",\n      status: \"fail\",\n      message: error instanceof Error ? error.message : \"Unknown error\",\n      duration,\n    };\n  }\n}\n\n  logger.info(\"=\" .repeat(60);\n  logger.info(\"Dashboard \u2192 Analytics-API Integration Verification\";\n  logger.info(\"=\" .repeat(60);\n  logger.info(`API Base URL: ${API_BASE_URL}`;\n  logger.info(`Timestamp: ${new Date().toISOString()}`;\n  logger.info(\"\";\n  console.log(\"=\" .repeat(60));\n  console.log(`API Base URL: ${API_BASE_URL}`);\n  console.log(`Timestamp: ${new Date().toISOString()}`);\n  console.log(\"\");\n  logger.info(\"1. Verifying GET /insights endpoint...\";\n  const results: VerificationResult[] = [];\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n  // Verify each endpoint\n  logger.info(\"2. Verifying GET /anomalies endpoint...\";\n  results.push(await verifyInsightsEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  logger.info(\"3. Verifying GET /predictions endpoint...\";\n  results.push(await verifyAnomaliesEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  logger.info(\"4. Verifying POST /query endpoint...\";\n  results.push(await verifyPredictionsEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  logger.info(\"5. Verifying POST /export/pdf endpoint...\";\n  results.push(await verifyQueryEndpoint());\n  logger.info(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`;\n\n  console.log(\"5. Verifying POST /export/pdf endpoint...\");\n  results.push(await verifyExportPdfEndpoint());\n  console.log(`   ${results[results.length - 1].status.toUpperCase()}: ${results[results.length - 1].message}`);\n\n  logger.info(\"\";\n  logger.info(\"=\" .repeat(60);\n  logger.info(\"VERIFICATION SUMMARY\";\n  logger.info(\"=\" .repeat(60);\n  logger.info(`Total Checks: ${results.length}`;\n  logger.info(`Passed: ${passed}`;\n  logger.info(`Failed: ${failed}`;\n  logger.info(`Status: ${failed === 0 ? \"ALL CHECKS PASSED\" : \"SOME CHECKS FAILED\"}`;\n  console.log(`Total Checks: ${results.length}`);\n  console.log(`Passed: ${passed}`);\n    logger.info(\"\";\n    logger.info(\"Failed checks:\";\n\n  if (failed > 0) {\n    console.log(\"\");\n        logger.info(`  - ${r.endpoint}: ${r.message}`;\n    results\n      .filter((r) => r.status === \"fail\")\n      .forEach((r) => {\n        console.log(`  - ${r.endpoint}: ${r.message}`);\n      });\n  }\n\n  return {\n    timestamp: new Date().toISOString(),\n    total_checks: results.length,\n    passed,\n    failed,\n    results,\n  };\n}\n\n// Run verification if executed directly\nrunVerification()\n  .then((report) => {\n    process.exit(report.failed > 0 ? 1 : 0);\n  })\n  .catch((error) => {\n    console.error(\"Verification failed:\", error);\n    process.exit(1);\n  });\n",
        "last_modified": "2026-01-03T19:10:12.025588"
      },
      "task_intent": {
        "title": "054-extract-duplicated-loadingstate-and-api-config-in-",
        "description": "The analytics-dashboard has 4 widget components (PredictionWidget, AnomalyWidget, InsightWidget, QueryInterface) that each independently define the same LoadingState type and API_BASE_URL constant. This pattern is repeated across 7+ files when including tests, leading to maintenance burden and potential inconsistencies.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-03T18:35:24.608644",
  "last_updated": "2026-01-03T18:35:24.610473"
}