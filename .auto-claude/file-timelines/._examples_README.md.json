{
  "file_path": "./examples/README.md",
  "main_branch_history": [],
  "task_views": {
    "061-create-end-to-end-governance-workflow-examples-wit": {
      "task_id": "061-create-end-to-end-governance-workflow-examples-wit",
      "branch_point": {
        "commit_hash": "fc6e42927298263034acf989773f3200e422ad17",
        "content": "# ACGS-2 Example Projects\n\n<!-- Constitutional Hash: cdd01ef066bc6cf2 -->\n\nA collection of progressively advanced examples demonstrating AI governance patterns with the ACGS-2 platform and Open Policy Agent (OPA).\n\n## Video Tutorial\n\n<!-- VIDEO_PLACEHOLDER: Example Project Walkthrough\n     Replace this comment with video embed when recorded:\n     <a href=\"https://www.youtube.com/watch?v=VIDEO_ID\">\n       <img src=\"https://img.youtube.com/vi/VIDEO_ID/0.jpg\" alt=\"Example Project Walkthrough\" width=\"480\">\n     </a>\n-->\n\n| Video | Duration | Topics Covered |\n|-------|----------|----------------|\n| [Example Project Walkthrough](#) | 10-12 min | Running all 3 examples end-to-end |\n\n> **Production Status**: Script complete, pending recording. See [video script](../docs/quickstart/video-scripts/02-example-project-walkthrough.md) for details.\n\n## Quick Start\n\n```bash\n# Navigate to any example\ncd examples/01-basic-policy-evaluation\n\n# Start OPA\ndocker compose up -d\n\n# Install Python dependencies\npip install -r requirements.txt\n\n# Run the example\npython evaluate_policy.py\n\n# Clean up\ndocker compose down\n```\n\n## Example Catalog\n\n| Example | Difficulty | Topics | Time to Complete |\n|---------|------------|--------|------------------|\n| [01-basic-policy-evaluation](#example-1-basic-policy-evaluation) | Beginner | OPA basics, Rego syntax, Python client | 10 min |\n| [02-ai-model-approval](#example-2-ai-model-approval) | Intermediate | Risk-based workflows, FastAPI integration | 20 min |\n| [03-data-access-control](#example-3-data-access-control) | Advanced | RBAC, ABAC, context-based policies | 25 min |\n\n---\n\n## Example 1: Basic Policy Evaluation\n\n**Directory**: `01-basic-policy-evaluation/`\n\nA minimal \"hello world\" example that teaches the fundamentals of OPA policy evaluation.\n\n### What You'll Learn\n\n- Starting OPA with Docker Compose\n- Writing Rego policies with `rego.v1` syntax\n- Querying policies from Python\n- Understanding allow/deny decisions\n\n### Key Concepts\n\n- **Package namespacing**: Organizing policies into packages\n- **Default rules**: Setting deny-by-default security\n- **Role-based access**: Simple RBAC implementation\n\n### Quick Run\n\n```bash\ncd 01-basic-policy-evaluation\ndocker compose up -d\npip install -r requirements.txt\npython evaluate_policy.py\n```\n\n### Expected Output\n\n```\nTesting policy evaluations...\n\nTest: Admin writes document\n  Input: {\"user\": {\"name\": \"alice\", \"role\": \"admin\"}, \"action\": \"write\"}\n  Result: ALLOWED (green)\n\nTest: Developer reads document\n  Input: {\"user\": {\"name\": \"bob\", \"role\": \"developer\"}, \"action\": \"read\"}\n  Result: ALLOWED (green)\n\nTest: Guest reads document\n  Input: {\"user\": {\"name\": \"eve\", \"role\": \"guest\"}, \"action\": \"read\"}\n  Result: DENIED (red)\n```\n\n[View full documentation](./01-basic-policy-evaluation/README.md)\n\n---\n\n## Example 2: AI Model Approval\n\n**Directory**: `02-ai-model-approval/`\n\nAn intermediate example demonstrating a real-world AI governance workflow with risk-based approval decisions.\n\n### What You'll Learn\n\n- Modeling governance decisions in Rego\n- Implementing tiered risk thresholds\n- Multi-factor policy evaluation\n- Building REST APIs with FastAPI + OPA\n\n### Key Concepts\n\n- **Risk assessment**: Categorizing AI models by risk score\n- **Compliance checks**: Validating bias testing, documentation, security review\n- **Reviewer approval**: Human-in-the-loop for high-risk decisions\n- **Environment constraints**: Stricter rules for production deployments\n\n### Risk Categories\n\n| Risk Level | Score Range | Approval Requirements |\n|------------|-------------|----------------------|\n| Low | 0.0 - 0.3 | Automated approval |\n| Medium | 0.3 - 0.7 | Compliance checks required |\n| High | 0.7 - 1.0 | Human reviewer required |\n\n### Quick Run\n\n```bash\ncd 02-ai-model-approval\ndocker compose up -d\npip install -r requirements.txt\n\n# Run the evaluation script\npython evaluate_approval.py\n\n# Or start the FastAPI service\nuvicorn app:app --reload --port 8000\n```\n\n### Expected Output\n\n```\nAI Model Approval Policy Evaluation\n====================================\n\nTest: Low-risk model (auto-approve)\n  Risk Score: 0.25\n  Decision: APPROVED\n\nTest: Medium-risk model (needs compliance)\n  Risk Score: 0.55, Compliance: bias_tested=true\n  Decision: APPROVED\n\nTest: High-risk model (needs reviewer)\n  Risk Score: 0.85, Reviewer: None\n  Decision: DENIED\n  Reason: High-risk model requires reviewer approval\n```\n\n[View full documentation](./02-ai-model-approval/README.md)\n\n---\n\n## Example 3: Data Access Control\n\n**Directory**: `03-data-access-control/`\n\nAn advanced example combining RBAC (Role-Based Access Control) and ABAC (Attribute-Based Access Control) for sophisticated data governance.\n\n### What You'll Learn\n\n- Combining RBAC and ABAC patterns\n- Role hierarchy implementation\n- Data sensitivity classification\n- Clearance level enforcement\n\n### Key Concepts\n\n- **Role hierarchy**: Admins > Analysts > Viewers\n- **Sensitivity levels**: public < internal < confidential < restricted\n- **Clearance matching**: User clearance must meet data sensitivity\n- **Denial reasons**: Detailed explanations for access denials\n\n### Data Sensitivity Levels\n\n| Level | Classification | Who Can Access |\n|-------|---------------|----------------|\n| 0 | Public | Anyone |\n| 1 | Internal | Employees (clearance >= 1) |\n| 2 | Confidential | Analysts+ (clearance >= 2) |\n| 3 | Restricted | Admins only (clearance >= 3) |\n\n### Quick Run\n\n```bash\ncd 03-data-access-control\ndocker compose up -d\npip install -r requirements.txt\npython check_access.py\n```\n\n### Expected Output\n\n```\nData Access Control Evaluation\n==============================\n\nTest: Admin accessing restricted data\n  User: alice (admin, clearance=3)\n  Resource: financial-report (restricted, level=3)\n  Decision: ALLOWED\n\nTest: Analyst accessing confidential data\n  User: bob (analyst, clearance=2)\n  Resource: quarterly-results (confidential, level=2)\n  Decision: ALLOWED\n\nTest: Viewer accessing confidential data\n  User: charlie (viewer, clearance=1)\n  Resource: quarterly-results (confidential, level=2)\n  Decision: DENIED\n  Reason: Insufficient clearance level\n```\n\n[View full documentation](./03-data-access-control/README.md)\n\n---\n\n## Common Patterns\n\n### Policy Structure\n\nAll examples follow the same Rego policy pattern:\n\n```rego\npackage example\n\nimport rego.v1\n\n# Default deny\ndefault allow := false\n\n# Allow rules\nallow if {\n    # conditions\n}\n\n# Denial reasons for debugging\ndenial_reasons contains reason if {\n    not allow\n    reason := \"Explanation of why denied\"\n}\n```\n\n### Python Client Pattern\n\n```python\nimport requests\n\nOPA_URL = os.environ.get(\"OPA_URL\", \"http://localhost:8181\")\n\ndef evaluate_policy(policy_path: str, input_data: dict) -> dict:\n    \"\"\"Query OPA policy with input data.\"\"\"\n    response = requests.post(\n        f\"{OPA_URL}/v1/data/{policy_path}\",\n        json={\"input\": input_data}\n    )\n    response.raise_for_status()\n    return response.json()\n```\n\n### Docker Compose Structure\n\n```yaml\nservices:\n  opa:\n    image: openpolicyagent/opa:latest\n    ports:\n      - \"${OPA_PORT:-8181}:8181\"\n    volumes:\n      - ./policies:/policies:ro\n    command:\n      - \"run\"\n      - \"--server\"\n      - \"--addr=0.0.0.0:8181\"\n      - \"/policies\"\n```\n\n---\n\n## Troubleshooting\n\n### Port Already in Use\n\n```bash\n# Use a different port\nOPA_PORT=8182 docker compose up -d\nexport OPA_URL=http://localhost:8182\n```\n\n### OPA Not Starting\n\n```bash\n# Check container logs\ndocker compose logs opa\n\n# Verify policy syntax\ndocker run --rm -v $(pwd)/policies:/policies \\\n  openpolicyagent/opa:latest test /policies\n```\n\n### Policy Returns Undefined\n\nEnsure your query path matches the policy package:\n- Policy: `package hello` -> Query: `/v1/data/hello/allow`\n- Policy: `package ai.model.approval` -> Query: `/v1/data/ai/model/approval/allowed`\n\n### Python Connection Errors\n\n```python\n# Check if OPA is running\ncurl http://localhost:8181/health\n\n# Set the correct URL\nexport OPA_URL=http://localhost:8181\n```\n\n---\n\n## Creating Your Own Examples\n\n### Step 1: Copy a Template\n\n```bash\ncp -r 01-basic-policy-evaluation my-new-example\ncd my-new-example\n```\n\n### Step 2: Modify the Policy\n\nEdit `policies/*.rego` with your policy logic:\n\n```rego\npackage myapp\n\nimport rego.v1\n\ndefault allow := false\n\nallow if {\n    # Your conditions here\n}\n```\n\n### Step 3: Update the Client\n\nModify `evaluate_policy.py` to test your scenarios.\n\n### Step 4: Document Your Example\n\nUpdate `README.md` with:\n- What the example demonstrates\n- How to run it\n- Expected output\n- Troubleshooting tips\n\n---\n\n## Resources\n\n### Documentation\n\n- [ACGS-2 Quickstart Guide](../docs/quickstart/README.md)\n- [OPA Documentation](https://www.openpolicyagent.org/docs/)\n- [Rego Policy Language](https://www.openpolicyagent.org/docs/latest/policy-language/)\n\n### Interactive Learning\n\n- [Policy Experimentation Notebook](../notebooks/01-policy-experimentation.ipynb)\n- [Governance Visualization Notebook](../notebooks/02-governance-visualization.ipynb)\n\n### Video Tutorials\n\n| Video | Description | Script |\n|-------|-------------|--------|\n| [Quickstart Walkthrough](../docs/quickstart/README.md#video-tutorials) | Getting started in 8 minutes | [Script](../docs/quickstart/video-scripts/01-quickstart-walkthrough.md) |\n| [Example Project Walkthrough](#video-tutorial) | All 3 examples end-to-end | [Script](../docs/quickstart/video-scripts/02-example-project-walkthrough.md) |\n| Jupyter Notebook Tutorial | Interactive policy experimentation | [Coming Soon](../notebooks/README.md) |\n\n---\n\n## Feedback\n\nFound an issue or have a suggestion? We'd love to hear from you!\n\n- [Open an issue](https://github.com/ACGS-Project/ACGS-2/issues/new?labels=examples)\n- [Submit feedback](../docs/feedback.md)\n\n---\n\n*Last Updated: 2025-01-03*\n*Constitutional Hash: cdd01ef066bc6cf2*\n",
        "timestamp": "2026-01-04T05:35:49.744738"
      },
      "worktree_state": null,
      "task_intent": {
        "title": "061-create-end-to-end-governance-workflow-examples-wit",
        "description": "Create comprehensive examples demonstrating complete governance workflows from policy creation through enforcement to audit logging, targeting Enterprise DevOps/MLOps engineers deploying AI systems. The examples will show: defining constitutional policies, enforcing them on agent actions, handling HITL approvals, and auditing decisions.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-03T19:36:07.456783",
  "last_updated": "2026-01-04T05:35:49.790678"
}