âš¡ ACGS-2 Performance Regression Testing
========================================
ğŸ“ Project Root: /home/dislove/document/acgs2
ğŸ“ Results Dir: /home/dislove/document/acgs2/reports/performance

ğŸ¯ Performance Targets:
  - P99 Latency: < 0.328ms
  - Throughput: > 2605 RPS
  - Cache Hit Rate: > 0.95
  - Memory Usage: < 4.0MB per pod
  - CPU Usage: < 75.0%

ğŸ” Checking Service Health...
----------------------------
[0;32mâœ… Agent Bus: Healthy[0m
[0;32mâœ… API Gateway: Healthy[0m
[0;32mâœ… OPA: Healthy[0m

ğŸƒ Running Performance Benchmark...
-----------------------------------
Running 30-second performance benchmark with 50 concurrent users...
2026-01-02 19:06:57,084 - INFO - Starting ACGS-2 performance benchmark with constitutional hash: cdd01ef066bc6cf2
2026-01-02 19:06:57,084 - INFO - Phase 1: System warm-up
2026-01-02 19:06:57,098 - INFO - Warm-up complete: 50/50 requests successful
2026-01-02 19:07:02,104 - INFO - Phase 2: Latency benchmarking
Latency test:   0%|          | 0/100 [00:00<?, ?it/s]Latency test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100/100 [00:00<00:00, 2962.98it/s]
2026-01-02 19:07:02,140 - INFO - P99 latency: 1.343ms (target: 0.278ms)
2026-01-02 19:07:02,140 - INFO - Phase 3: Throughput benchmarking
2026-01-02 19:07:02,140 - INFO - Testing throughput at 1000 RPS
2026-01-02 19:07:02,337 - INFO - Testing throughput at 2000 RPS
2026-01-02 19:07:02,769 - INFO - Testing throughput at 3000 RPS
2026-01-02 19:07:03,388 - INFO - Testing throughput at 4000 RPS
2026-01-02 19:07:04,276 - INFO - Testing throughput at 5000 RPS
2026-01-02 19:07:05,416 - INFO - Testing throughput at 6000 RPS
2026-01-02 19:07:06,767 - INFO - Testing throughput at 7000 RPS
2026-01-02 19:07:08,357 - INFO - Max throughput achieved: 5060 RPS (target: 6310 RPS)
2026-01-02 19:07:08,361 - INFO - Phase 4: Sustained load testing
2026-01-02 19:07:50,344 - INFO - Sustained load test: 2000.00 RPS, success rate: 100.00%
2026-01-02 19:07:50,345 - INFO - Phase 5: Resource usage validation
2026-01-02 19:07:50,347 - INFO -
================================================================================
2026-01-02 19:07:50,347 - INFO - ACGS-2 PERFORMANCE BENCHMARK RESULTS
2026-01-02 19:07:50,347 - INFO - ================================================================================
2026-01-02 19:07:50,347 - INFO - Constitutional Hash: cdd01ef066bc6cf2
2026-01-02 19:07:50,347 - INFO - Timestamp: 2026-01-03T00:07:50.347270+00:00
2026-01-02 19:07:50,347 - ERROR - Overall Result: FAILED
2026-01-02 19:07:50,347 - INFO - Tests Passed: 3/5
2026-01-02 19:07:50,347 - INFO -
2026-01-02 19:07:50,347 - INFO -   p99_latency_ms: 1.343 (target: 0.278) âŒ FAIL
2026-01-02 19:07:50,347 - INFO -   throughput_rps: 5060.457 (target: 6310.000) âŒ FAIL
2026-01-02 19:07:50,347 - INFO -   sustained_throughput_rps: 2000.000 (target: 1800.000) âœ… PASS
2026-01-02 19:07:50,347 - INFO -   memory_usage_mb: 2.500 (target: 4.000) âœ… PASS
2026-01-02 19:07:50,347 - INFO -   cpu_utilization_percent: 45.000 (target: 75.000) âœ… PASS
2026-01-02 19:07:50,347 - INFO -
2026-01-02 19:07:50,347 - INFO - RECOMMENDATIONS:
2026-01-02 19:07:50,347 - INFO -   â€¢ P99 latency (1.343ms) exceeds target (0.278ms). Consider optimizing message processing pipeline or caching.
2026-01-02 19:07:50,347 - INFO -   â€¢ Throughput (5060 RPS) below target (6310 RPS). Consider horizontal scaling or async processing improvements.

ğŸ“Š Analyzing Results...
----------------------
Performance Test Results:
=========================
âŒ FAIL p99_latency_ms: 1.3434624671936035 (target: 0.278)
âŒ FAIL throughput_rps: 5060.456855915322 (target: 6310)
âœ… PASS sustained_throughput_rps: 2000.0 (target: 1800.0)
âœ… PASS memory_usage_mb: 2.5 (target: 4.0)
âœ… PASS cpu_utilization_percent: 45.0 (target: 75.0)

[0;31mâš ï¸  Performance regression detected[0m
