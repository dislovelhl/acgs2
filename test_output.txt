============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-7.4.3, pluggy-1.5.0 -- /usr/bin/python3
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /home/dislove/document/acgs2/acgs2-core/enhanced_agent_bus
configfile: pyproject.toml
plugins: anyio-3.7.1, asyncio-0.21.1, cov-4.1.0, hypothesis-6.137.1
asyncio: mode=Mode.AUTO
collecting ... collected 3476 items

acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterState::test_closed_state PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterState::test_open_state PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterState::test_half_open_state PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterTimeoutError::test_error_creation PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterTimeoutError::test_error_message PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterTimeoutError::test_to_dict PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterCircuitOpenError::test_error_creation PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterCircuitOpenError::test_error_message PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterCircuitOpenError::test_to_dict PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestRateLimitExceededError::test_error_creation PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestRateLimitExceededError::test_error_message PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestRateLimitExceededError::test_to_dict PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterConfig::test_default_values PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterConfig::test_custom_values PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterResult::test_success_result PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterResult::test_failure_result PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterResult::test_cached_result PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterResult::test_fallback_result PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterResult::test_to_dict_success PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestAdapterResult::test_to_dict_with_error PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_initial_state_closed PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_custom_thresholds PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_record_success_in_closed PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_opens_after_threshold_failures PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_stays_closed_below_threshold PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_time_until_recovery PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_transitions_to_half_open PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_half_open_to_closed_on_success PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_half_open_to_open_on_failure PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestSimpleCircuitBreaker::test_reset PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestTokenBucketRateLimiter::test_initial_burst PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestTokenBucketRateLimiter::test_rate_limited_after_burst PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestTokenBucketRateLimiter::test_tokens_refill PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_successful_call PASSED [  0%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_caching PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_cache_disabled PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_timeout_error PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_retry_on_failure PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_fallback_on_circuit_open PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_circuit_open_no_fallback PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_invalid_response_handling PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_get_metrics PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_get_health PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_clear_cache PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestACLAdapter::test_reset_circuit_breaker PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestConstitutionalHash::test_hash_value PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestConstitutionalHash::test_exceptions_include_hash PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_adapters_base.py::TestConstitutionalHash::test_result_includes_hash PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestAdapterRegistrySingleton::test_singleton_returns_same_instance PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestAdapterRegistrySingleton::test_singleton_preserves_state PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetOrCreate::test_create_new_adapter PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetOrCreate::test_get_existing_adapter PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetOrCreate::test_create_with_config PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetOrCreate::test_create_multiple_adapters PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGet::test_get_existing_adapter PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGet::test_get_nonexistent_adapter PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestRemove::test_remove_existing_adapter PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestRemove::test_remove_nonexistent_adapter PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestListAdapters::test_list_empty_registry PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestListAdapters::test_list_populated_registry PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestResetAll::test_reset_all_adapters PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAllHealth::test_health_empty_registry PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAllHealth::test_health_all_healthy PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAllHealth::test_health_some_degraded PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAllHealth::test_health_includes_timestamp PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAllMetrics::test_metrics_empty_registry PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAllMetrics::test_metrics_aggregation PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAllMetrics::test_metrics_includes_per_adapter PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestCloseAll::test_close_all_adapters PASSED [  1%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestCloseAll::test_close_adapters_without_close_method PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestCloseAll::test_close_handles_errors PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestClear::test_clear_removes_all_adapters PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestClear::test_clear_empty_registry PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetRegistry::test_get_registry_returns_singleton PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAdapter::test_get_adapter_returns_existing PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestGetAdapter::test_get_adapter_returns_none_for_missing PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestConstitutionalCompliance::test_health_includes_constitutional_hash PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestConstitutionalCompliance::test_metrics_includes_constitutional_hash PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestConcurrency::test_multiple_creates_same_adapter PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestEdgeCases::test_adapter_with_empty_name PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_acl_registry.py::TestEdgeCases::test_health_threshold_boundary PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestAdaptiveRouterInitialization::test_default_initialization PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestAdaptiveRouterInitialization::test_custom_initialization PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestAdaptiveRouterInitialization::test_performance_metrics_initialized PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRouteMessage::test_route_low_impact_to_fast_lane PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRouteMessage::test_route_high_impact_to_deliberation PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRouteMessage::test_route_boundary_score_at_threshold PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRouteMessage::test_route_calculates_missing_impact_score PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRouteMessage::test_route_message_updates_status PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRouteMessage::test_route_with_context PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRoutingHistory::test_routing_history_recorded PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRoutingHistory::test_routing_history_disabled_when_learning_off PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRoutingHistory::test_routing_history_capped_at_1000 PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestPerformanceFeedback::test_update_feedback_approved PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestPerformanceFeedback::test_update_feedback_rejected PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestPerformanceFeedback::test_update_feedback_timeout PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestPerformanceFeedback::test_update_feedback_missing_message PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestPerformanceFeedback::test_update_feedback_disabled_when_learning_off PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestAdaptiveThresholdAdjustment::test_threshold_not_adjusted_insufficient_data PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestAdaptiveThresholdAdjustment::test_threshold_bounded_between_0_1_and_0_95 PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRoutingStatistics::test_get_routing_stats_empty PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestRoutingStatistics::test_get_routing_stats_with_data PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestThresholdManagement::test_set_impact_threshold_valid PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestThresholdManagement::test_set_impact_threshold_clamped_high PASSED [  2%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestThresholdManagement::test_set_impact_threshold_clamped_low PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestForceDeliberation::test_force_deliberation_overrides_score PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestForceDeliberation::test_force_deliberation_default_reason PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestForceDeliberation::test_force_deliberation_increments_counter PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestGetAdaptiveRouter::test_get_adaptive_router_returns_instance PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestGetAdaptiveRouter::test_get_adaptive_router_returns_same_instance PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestMultipleRoutingDecisions::test_multiple_messages_different_paths PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestConstitutionalCompliance::test_routing_preserves_constitutional_hash PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router.py::TestConstitutionalCompliance::test_routing_includes_decision_timestamp PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_route_low_risk_to_fast_lane PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_route_high_risk_to_deliberation PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_impact_score_calculation PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_routing_history_recording PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_routing_history_disabled PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_performance_feedback_update PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_performance_feedback_rejected PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_performance_feedback_timeout PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_get_routing_stats PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_routing_stats_percentages PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_set_impact_threshold PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_set_impact_threshold_bounds PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_force_deliberation PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_force_deliberation_preserves_original_score PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_routing_history_limit PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_message_status_updated_on_fast_lane PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_adaptive_router_module.py::TestAdaptiveRouterModule::test_multiple_messages_metrics PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_advanced_workflows.py::test_saga_persistence_and_resume PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_advanced_workflows.py::test_weighted_voting_consensus PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_advanced_workflows.py::test_workflow_versioning_propagation PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestLifecycle::test_initial_state_not_running PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestLifecycle::test_start_sets_running_true PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestLifecycle::test_stop_sets_running_false PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestLifecycle::test_double_start_is_safe PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestLifecycle::test_double_stop_is_safe PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentRegistration::test_register_agent_success PASSED [  3%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentRegistration::test_register_agent_with_constitutional_hash PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentRegistration::test_register_multiple_agents PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentRegistration::test_unregister_agent_success PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentRegistration::test_unregister_nonexistent_agent PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentRegistration::test_get_agent_info_exists PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentRegistration::test_get_agent_info_not_exists PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentFiltering::test_get_agents_by_type PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentFiltering::test_get_agents_by_type_empty PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentFiltering::test_get_agents_by_capability PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAgentFiltering::test_get_agents_by_capability_empty PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessageSending::test_send_message_success PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessageSending::test_send_message_validation_failure PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessageSending::test_send_message_increments_metrics PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessageSending::test_send_message_failed_increments_failed_metrics PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMultiTenantIsolation::test_tenant_mismatch_sender_rejected PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMultiTenantIsolation::test_tenant_mismatch_recipient_rejected PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMultiTenantIsolation::test_tenant_match_accepted PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMultiTenantIsolation::test_no_tenant_agents_isolated PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestBroadcast::test_broadcast_to_same_tenant_only PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestBroadcast::test_broadcast_no_tenant_isolation PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessageReceiving::test_receive_message_timeout PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessageReceiving::test_receive_message_success PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMetrics::test_get_metrics_includes_required_fields PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMetrics::test_get_metrics_async_includes_circuit_breaker PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMetrics::test_metrics_track_registered_agents PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDegradedMode::test_fallback_to_static_validation_on_processor_failure PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDegradedMode::test_degraded_mode_still_validates_hash PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDegradedMode::test_degraded_mode_rejects_invalid_hash PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDIComponents::test_processor_property PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDIComponents::test_registry_property PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDIComponents::test_router_property PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDIComponents::test_validator_property PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestSingleton::test_get_agent_bus_creates_singleton PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestSingleton::test_reset_agent_bus_clears_singleton PASSED [  4%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantHelpers::test_normalize_tenant_id_none PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantHelpers::test_normalize_tenant_id_empty_string PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantHelpers::test_normalize_tenant_id_value PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantHelpers::test_format_tenant_id_none PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantHelpers::test_format_tenant_id_value PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestInitialization::test_default_initialization PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestInitialization::test_initialization_with_custom_redis PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestInitialization::test_initialization_with_dynamic_policy PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestInitialization::test_initialization_with_metering_disabled PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestConstitutionalHash::test_bus_has_constitutional_hash PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestConstitutionalHash::test_registered_agents_have_constitutional_hash PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestEdgeCases::test_register_duplicate_agent FAILED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestEdgeCases::test_empty_capabilities_list PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestEdgeCases::test_many_capabilities PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestEdgeCases::test_unicode_tenant_id_rejected PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestFromConfigFactory::test_from_config_creates_bus PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestFromConfigFactory::test_from_config_with_custom_settings PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIStrictMode::test_maci_registration_failure_in_strict_mode PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDeliberationQueueRouting::test_requires_deliberation_high_impact PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDeliberationQueueRouting::test_requires_deliberation_low_impact PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaRouting::test_route_and_deliver_via_kafka_success PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaRouting::test_route_and_deliver_via_kafka_failure PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_normalize_tenant_id_with_value PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_normalize_tenant_id_empty_string PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_normalize_tenant_id_none PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_format_tenant_id_with_value PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_format_tenant_id_none PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_validate_tenant_consistency_sender_mismatch FAILED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_validate_tenant_consistency_recipient_mismatch FAILED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestPolicyInitialization::test_init_policy_client_disabled PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestPolicyInitialization::test_init_audit_client_when_available PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRegistryInitialization::test_init_registry_with_custom_registry PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRegistryInitialization::test_init_registry_default_inmemory PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaStartStop::test_start_initializes_kafka_and_consumer PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaStartStop::test_stop_cancels_kafka_consumer_task PASSED [  5%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDeliberationQueue::test_handle_deliberation_enqueues_message PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAsyncMetrics::test_get_metrics_async_with_healthy_policy PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestAsyncMetrics::test_get_metrics_async_with_failing_policy PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIProperties::test_maci_enabled_property_true PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIProperties::test_maci_enabled_property_false PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIProperties::test_maci_registry_property_when_enabled PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIProperties::test_maci_registry_property_when_disabled PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIProperties::test_maci_enforcer_property_when_enabled PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIProperties::test_maci_enforcer_property_when_disabled PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestValidatorInitialization::test_init_validator_with_custom_validator PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestValidatorInitialization::test_init_validator_static_hash_default PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestJWTAgentValidation::test_validate_agent_identity_no_token PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestJWTAgentValidation::test_validate_agent_identity_token_without_crypto_available PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestJWTAgentValidation::test_validate_agent_identity_dynamic_mode_no_token PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestStartWithMetricsAndCircuitBreakers::test_start_records_started_timestamp PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestStartWithMetricsAndCircuitBreakers::test_start_then_stop_lifecycle PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestPolicyClientInitialization::test_start_with_policy_client_success PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestPolicyClientInitialization::test_start_with_policy_client_failure PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRouteAndDeliverPaths::test_route_and_deliver_to_internal_queue PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaPolling::test_poll_kafka_messages_no_kafka_bus PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaPolling::test_poll_kafka_messages_with_kafka PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRegistrationWithJWTValidation::test_register_with_validated_tenant_id PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRegistrationWithJWTValidation::test_register_with_identity_validation_failure PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRegistrationWithPolicyClient::test_register_gets_dynamic_key_from_policy PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRegistrationWithPolicyClient::test_register_handles_policy_client_error PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIRegistrationPaths::test_register_with_maci_role_success PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMACIRegistrationPaths::test_register_maci_strict_mode_rollback PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestOTELTracingPaths::test_send_message_without_otel PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaMessageHandler::test_kafka_handler_processes_valid_message PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestKafkaMessageHandler::test_kafka_handler_with_invalid_message PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestCircuitBreakerHealthMetrics::test_get_metrics_async_without_circuit_breaker PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRedisRegistryPath::test_init_registry_redis_path_not_available PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestOPAValidatorPath::test_init_validator_opa_path_via_injection PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestOPAValidatorPath::test_init_validator_dynamic_policy_path PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestBroadcastMultiTenantIsolation::test_broadcast_skips_agents_from_different_tenant PASSED [  6%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestBroadcastMultiTenantIsolation::test_broadcast_to_no_tenant_agents PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestQueryMethods::test_get_registered_agents PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestQueryMethods::test_get_agents_by_type PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestQueryMethods::test_get_agents_by_capability PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestSyncMetrics::test_get_metrics_returns_sync_data PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestFailedMessagePaths::test_send_message_with_invalid_hash PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestFailedMessagePaths::test_send_message_to_nonexistent_agent PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestFailedMessagePaths::test_tenant_validation_failure PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestUnregisterAgent::test_unregister_existing_agent PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestUnregisterAgent::test_unregister_nonexistent_agent PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessagePriorityPaths::test_high_priority_message PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMessagePriorityPaths::test_low_priority_message PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestBusStopAndCleanup::test_stop_clears_agents PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestBusStopAndCleanup::test_double_start_is_safe PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestBusStopAndCleanup::test_double_stop_is_safe PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestMeteringManagerPaths::test_metering_manager_records_message PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestInternalQueueAccess::test_message_queue_exists PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestInternalQueueAccess::test_queue_size_in_metrics PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRouteAndDeliverBranches::test_message_to_unregistered_recipient_logs_debug PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestRouteAndDeliverBranches::test_message_without_to_agent PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestNormalizeTenantId::test_normalize_none_tenant PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestNormalizeTenantId::test_normalize_empty_string_tenant PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestNormalizeTenantId::test_normalize_valid_tenant PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestNormalizeTenantId::test_normalize_whitespace_tenant PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestProcessorDelegation::test_processor_metrics_included PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestProcessorDelegation::test_processor_property_access PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDynamicPolicyFlag::test_dynamic_policy_disabled_by_default PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestDynamicPolicyFlag::test_dynamic_policy_flag_passed PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentConfig::test_default_values PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentConfig::test_custom_values PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentConfig::test_to_dict PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestTask::test_default_values PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestTask::test_custom_values PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestTask::test_to_dict PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestTaskResult::test_success_result PASSED [  7%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestTaskResult::test_failure_result PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestTaskResult::test_to_dict PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentStatus::test_default_values PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentStatus::test_to_dict PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentResult::test_completed_result PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentResult::test_to_dict PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestWorkflowContext::test_initialization PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestWorkflowContext::test_signal_queue PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestWorkflowContext::test_send_and_wait_for_signal PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestWorkflowContext::test_signal_timeout PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestSignalDecorator::test_signal_decorator_marks_method PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestSignalDecorator::test_signal_decorator_default_name PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestQueryDecorator::test_query_decorator_marks_method PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestQueryDecorator::test_query_decorator_default_name PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInitializeAgentActivity::test_activity_properties PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInitializeAgentActivity::test_successful_initialization PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInitializeAgentActivity::test_constitutional_hash_mismatch PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestExecuteTaskActivity::test_activity_properties PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestExecuteTaskActivity::test_successful_task_execution PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestExecuteTaskActivity::test_task_constitutional_hash_mismatch PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestCheckpointAgentActivity::test_activity_properties PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestCheckpointAgentActivity::test_create_checkpoint PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestShutdownAgentActivity::test_activity_properties PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestShutdownAgentActivity::test_shutdown PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowInitialization::test_workflow_name PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowInitialization::test_initial_state PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowInitialization::test_signals_registered PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowInitialization::test_queries_registered PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowLifecycle::test_basic_lifecycle PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowLifecycle::test_task_processing PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowLifecycle::test_suspend_and_resume PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowLifecycle::test_multiple_tasks PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowSignals::test_assign_task_signal PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowSignals::test_shutdown_signal PASSED [  8%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowSignals::test_update_config_signal PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowQueries::test_get_status_query PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowQueries::test_get_state_query PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowQueries::test_get_task_results_query PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowQueries::test_get_pending_tasks_query PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestAgentEntityWorkflowQueries::test_get_checkpoints_query PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInMemoryWorkflowExecutor::test_start_workflow PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInMemoryWorkflowExecutor::test_cancel_workflow PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInMemoryWorkflowExecutor::test_query_nonexistent_workflow PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInMemoryWorkflowExecutor::test_send_signal_nonexistent_workflow PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestInMemoryWorkflowExecutor::test_get_context PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestEdgeCases::test_task_priority_ordering PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestEdgeCases::test_agent_state_transitions PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestEdgeCases::test_workflow_activity_base_class PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestEdgeCases::test_activity_instances_exist PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestEdgeCases::test_workflow_without_context PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestEdgeCases::test_empty_agent_config PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestEdgeCases::test_task_with_retry PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestConstitutionalCompliance::test_all_dataclasses_have_constitutional_hash PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestConstitutionalCompliance::test_workflow_context_constitutional_hash PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_agent_entity_workflow.py::TestWorkflowIntegration::test_full_workflow_cycle PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_ampo_engine.py::test_ampo_factual_compilation PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_ampo_engine.py::test_ampo_creative_compilation PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_ampo_engine.py::test_ampo_reasoning_compilation PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestAuditClientInitialization::test_default_initialization PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestAuditClientInitialization::test_custom_service_url PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestAuditClientInitialization::test_client_has_http_client PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestReportValidation::test_report_validation_with_to_dict PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestReportValidation::test_report_validation_with_plain_dataclass PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestReportValidation::test_report_validation_with_dict PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestReportValidation::test_report_validation_with_invalid_result PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestReportValidation::test_report_validation_exception_handling PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestReportValidation::test_report_validation_none_input PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestReportValidation::test_report_validation_with_empty_dict PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestGetStats::test_get_stats_success PASSED [  9%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestGetStats::test_get_stats_with_custom_url PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestGetStats::test_get_stats_connection_error PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestGetStats::test_get_stats_timeout_error PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestGetStats::test_get_stats_json_decode_error PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestClose::test_close_client PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestClose::test_close_multiple_times PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestAuditClientIntegration::test_full_workflow PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestAuditClientIntegration::test_multiple_validations PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client.py::TestAuditClientIntegration::test_mixed_validation_results PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientConfig::test_default_config PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientConfig::test_custom_config PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientConfig::test_config_based_initialization PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditBatchResult::test_batch_result_creation PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditBatchResult::test_batch_result_to_dict PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientLifecycle::test_start_creates_batch_worker PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientLifecycle::test_start_no_worker_when_batching_disabled PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientLifecycle::test_start_already_running PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientLifecycle::test_stop_flushes_pending_batch PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestAuditClientLifecycle::test_stop_cancels_batch_worker PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_queue_for_batch PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_batch_auto_flush_when_full PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_flush_empty_batch_returns_none PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_submit_batch_success PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_submit_batch_empty_returns_none PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_submit_batch_with_failures PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_submit_batch_retry_on_network_error PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchingWorkflow::test_submit_batch_non_200_response PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestCircuitBreakerIntegration::test_submit_single_circuit_open_rejection PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestCircuitBreakerIntegration::test_submit_batch_circuit_open_rejection PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestCircuitBreakerIntegration::test_circuit_breaker_exception_handling PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestHealthCheck::test_health_check_healthy PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestHealthCheck::test_health_check_degraded PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestHealthCheck::test_health_check_unhealthy PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestHealthCheck::test_health_check_with_circuit_state PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestRecentResults::test_get_recent_results_empty PASSED [ 10%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestRecentResults::test_get_recent_results_with_data PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestRecentResults::test_get_recent_results_limited PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestGlobalClientFunctions::test_get_audit_client_creates_singleton PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestGlobalClientFunctions::test_get_audit_client_with_config PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestGlobalClientFunctions::test_initialize_audit_client PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestGlobalClientFunctions::test_close_audit_client PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestGlobalClientFunctions::test_close_audit_client_when_none PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestRetryLogic::test_submit_single_retry_on_request_error PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestRetryLogic::test_submit_single_success_after_retry PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestRetryLogic::test_submit_single_non_200_response PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchFlushWorker::test_batch_flush_worker_exists_when_batching_enabled PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestBatchFlushWorker::test_batch_flush_worker_stops_on_cancel PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestStatsTracking::test_stats_track_submitted PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestStatsTracking::test_get_stats_returns_comprehensive_info PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestSerialization::test_serialize_with_to_dict PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestSerialization::test_serialize_dataclass PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestSerialization::test_serialize_dict PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestEdgeCases::test_report_with_batching_not_running PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestEdgeCases::test_concurrent_batch_operations PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_audit_client_coverage_expansion.py::TestEdgeCases::test_stop_without_start PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClientConfig::test_default_config PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClientConfig::test_custom_config PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditBatchResult::test_batch_result_creation PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditBatchResult::test_batch_result_to_dict PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClient::test_initialization_with_url PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClient::test_initialization_with_config PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClient::test_stats_initialization PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClient::test_start_stop PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClient::test_get_stats PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClient::test_health_check_disconnected PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditClient::test_get_recent_results_empty PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorBackend::test_all_backends_defined PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorBackend::test_backend_count PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorStatus::test_all_statuses_defined PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorResult::test_anchor_result_creation PASSED [ 11%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorResult::test_anchor_result_to_dict PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorResult::test_anchor_result_failed PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorManagerConfig::test_default_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAnchorManagerConfig::test_custom_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestPendingAnchor::test_pending_anchor_creation PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_initialization_default PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_initialization_with_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_stats_initialization PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_start_stop PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_anchor_root_not_running PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_anchor_root_queued PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_health_check PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBlockchainAnchorManager::test_get_recent_results_empty PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedgerConfig::test_default_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedgerConfig::test_custom_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedger::test_initialization_legacy_api PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedger::test_initialization_with_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedger::test_anchor_stats_initialization PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedger::test_get_ledger_stats PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedger::test_get_anchor_health_no_manager PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestAuditLedger::test_get_recent_anchor_results_no_manager PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestConstitutionalHashCompliance::test_constitutional_hash_value PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestConstitutionalHashCompliance::test_audit_client_includes_hash PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestConstitutionalHashCompliance::test_anchor_result_includes_hash PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestConstitutionalHashCompliance::test_batch_result_includes_hash PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestCircuitBreakerIntegration::test_audit_client_circuit_breaker_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestCircuitBreakerIntegration::test_anchor_manager_circuit_breaker_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestFireAndForgetPattern::test_fire_and_forget_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestFireAndForgetPattern::test_sync_anchoring_config PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBackendFailover::test_failover_enabled_by_default PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBackendFailover::test_failover_can_be_disabled PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestBackendFailover::test_max_failover_attempts PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestMultiBackendSupport::test_single_backend PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestMultiBackendSupport::test_multiple_backends PASSED [ 12%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestMultiBackendSupport::test_ledger_backend_string_conversion PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestEdgeCases::test_audit_client_close_not_started PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestEdgeCases::test_anchor_manager_stop_not_started PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestEdgeCases::test_ledger_stop_not_started PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_blockchain_integration.py::TestEdgeCases::test_empty_backend_list PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestConstitutionalHash::test_constitutional_hash_value PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestConstitutionalHash::test_constitutional_hash_length PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestRegistryType::test_harbor_type PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestRegistryType::test_ecr_type PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestRegistryType::test_gcr_type PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestRegistryType::test_acr_type PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestRegistryType::test_generic_type PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestRegistryType::test_all_types_exist PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleStatus::test_draft_status PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleStatus::test_pending_review_status PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleStatus::test_approved_status PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleStatus::test_published_status PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleStatus::test_deprecated_status PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleStatus::test_revoked_status PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleStatus::test_all_statuses_exist PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_create_manifest PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_default_timestamp PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_default_roots PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_default_signatures PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_default_metadata PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_invalid_constitutional_hash_raises PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_to_dict PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_from_dict PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_add_signature PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_compute_digest PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_compute_digest_deterministic PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_verify_signature_no_signatures PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleManifest::test_verify_signature_invalid_key_format PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleArtifact::test_create_artifact PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleArtifact::test_artifact_with_manifest PASSED [ 13%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleArtifact::test_artifact_annotations PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleArtifact::test_artifact_default_annotations PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBasicAuthProvider::test_credentials_encrypted PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBasicAuthProvider::test_username_decryption PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBasicAuthProvider::test_password_decryption PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBasicAuthProvider::test_get_token PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBasicAuthProvider::test_get_token_cached PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBasicAuthProvider::test_refresh_token PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestAWSECRAuthProvider::test_default_region PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestAWSECRAuthProvider::test_custom_region PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestAWSECRAuthProvider::test_profile_setting PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestAWSECRAuthProvider::test_initial_token_state PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_client_initialization PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_client_strips_trailing_slash PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_client_parses_host PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_client_with_auth_provider PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_client_with_registry_type PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_client_ssl_disabled PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_from_url_https PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_from_url_oci PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_from_url_no_scheme PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_initial_stats PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_stats_with_ecr_type PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_context_manager PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_initialize_creates_session PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestOCIRegistryClient::test_close_clears_session PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleDistributionService::test_service_initialization PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleDistributionService::test_service_with_fallbacks PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleDistributionService::test_service_default_cache_dir PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleDistributionService::test_service_custom_cache_dir PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestBundleDistributionService::test_service_initial_lkg_state PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestModuleFunctions::test_get_distribution_service_initially_none PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestModuleFunctions::test_initialize_distribution_service PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestModuleFunctions::test_close_distribution_service PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestManifestRoundTrip::test_to_dict_from_dict_roundtrip PASSED [ 14%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestAuthProviderAbstract::test_abstract_methods PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestAuthProviderAbstract::test_cannot_instantiate_directly PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestClientHeaders::test_headers_without_auth PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestClientHeaders::test_headers_with_basic_auth PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry.py::TestClientHeaders::test_headers_with_ecr_auth PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleManifestValidation::test_validate_with_no_schema_file PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleManifestValidation::test_validate_with_valid_schema PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleManifestValidation::test_validate_with_invalid_schema_data PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleManifestSignature::test_verify_signature_with_valid_signature PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleManifestSignature::test_verify_signature_with_invalid_signature PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleManifestSignature::test_verify_signature_skips_non_ed25519 PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestAWSECRAuthProviderExpanded::test_get_token_with_valid_cached_token PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestAWSECRAuthProviderExpanded::test_get_token_with_expired_token PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestAWSECRAuthProviderExpanded::test_refresh_token_with_boto3 PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestAWSECRAuthProviderExpanded::test_refresh_token_without_boto3 PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientNetworkOperations::test_check_health_success PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientNetworkOperations::test_check_health_failure PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientNetworkOperations::test_list_tags_success PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientNetworkOperations::test_list_tags_empty_on_error PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientNetworkOperations::test_delete_tag_success PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientNetworkOperations::test_delete_tag_failure PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientPushPull::test_push_bundle_constitutional_hash_mismatch PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientPushPull::test_push_bundle_auto_initialize PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientPushPull::test_push_bundle_blob_exists_skips_upload PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientPushPull::test_push_bundle_upload_initiation_failure PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientPullBundle::test_pull_bundle_success PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientPullBundle::test_pull_bundle_constitutional_hash_mismatch PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientPullBundle::test_pull_bundle_no_layers PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_publish_to_primary_only PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_publish_with_replication PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_publish_replication_failure PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_fetch_from_cache PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_fetch_from_primary PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_fetch_fallback_on_primary_failure PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_fetch_uses_lkg_when_all_fail PASSED [ 15%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestBundleDistributionServiceOperations::test_fetch_raises_when_no_lkg PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestABTestBundle::test_get_ab_test_bundle_experiment_found PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestABTestBundle::test_get_ab_test_bundle_falls_back_to_base PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientReplication::test_replicate_from PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientReplication::test_copy_bundle PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientSigning::test_sign_manifest PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestOCIRegistryClientSigning::test_sign_manifest_error PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestGlobalFunctionsExpanded::test_close_distribution_service_with_fallbacks PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_bundle_registry_coverage_expansion.py::TestGlobalFunctionsExpanded::test_initialize_with_registry_type PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_cellular_resilience.py::TestCellularResilience::test_degraded_mode_on_processor_failure PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_cellular_resilience.py::TestCellularResilience::test_isolated_mode_latency_benchmark PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_cellular_resilience.py::TestCellularResilience::test_concurrency_stress_during_outage PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_cellular_resilience.py::TestCellularResilience::test_isolated_mode_dependency_decoupling PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_create_latency_scenario PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_create_error_scenario PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_create_circuit_breaker_scenario PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_create_resource_exhaustion_scenario PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_constitutional_hash_validation PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_max_duration_enforcement PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_error_rate_validation PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_resource_level_validation PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_blast_radius_auto_add_target PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_blast_radius_custom PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosScenario::test_scenario_to_dict PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_engine_initialization PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_engine_invalid_hash PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_emergency_stop PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_reset_after_emergency_stop PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_get_metrics PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_inject_latency PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_inject_errors PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_force_circuit_open PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_simulate_resource_exhaustion PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_automatic_cleanup PASSED [ 16%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_manual_deactivation PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_emergency_stop_prevents_activation PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosEngine::test_chaos_context_manager PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestLatencyInjection::test_latency_injection_accuracy PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestLatencyInjection::test_latency_not_injected_outside_blast_radius PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestLatencyInjection::test_latency_metrics_tracking PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestErrorInjection::test_error_injection_rate PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestErrorInjection::test_error_type_injection PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestErrorInjection::test_error_not_injected_outside_blast_radius FAILED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestErrorInjection::test_error_metrics_tracking PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestConstitutionalCompliance::test_constitutional_hash_in_scenario PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestConstitutionalCompliance::test_constitutional_hash_in_metrics PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestConstitutionalCompliance::test_chaos_maintains_constitutional_compliance PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosTestDecorator::test_decorator_latency PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestChaosTestDecorator::test_decorator_errors PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestSafetyControls::test_max_duration_limit PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestSafetyControls::test_emergency_stop_clears_all_scenarios PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestSafetyControls::test_blast_radius_enforcement PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationDefaults::test_default_redis_url PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationDefaults::test_default_kafka_servers PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationDefaults::test_default_audit_service_url PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationDefaults::test_default_feature_flags PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationDefaults::test_default_maci_settings PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationDefaults::test_default_optional_dependencies PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationDefaults::test_constitutional_hash_default PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationCustomValues::test_custom_redis_url PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationCustomValues::test_custom_kafka_servers PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationCustomValues::test_custom_feature_flags PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationCustomValues::test_custom_maci_settings PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationPostInit::test_empty_constitutional_hash_filled PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationPostInit::test_provided_constitutional_hash_kept PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_defaults PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_redis_url PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_kafka_servers PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_audit_service PASSED [ 17%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[true-True] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[True-True] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[TRUE-True] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[1-True] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[yes-True] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[on-True] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[false-False] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[False-False] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[0-False] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[no-False] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[off-False] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_bool_parsing[random-False] PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationFromEnvironment::test_from_environment_all_bool_flags PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationForTesting::test_for_testing_minimal_config PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationForTesting::test_for_testing_constitutional_hash_present PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationForProduction::test_for_production_all_features_enabled PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationForProduction::test_for_production_constitutional_hash_present PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationBuilderMethods::test_with_registry PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationBuilderMethods::test_with_registry_preserves_other_values PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationBuilderMethods::test_with_validator PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationBuilderMethods::test_with_validator_preserves_other_values PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationBuilderMethods::test_builder_method_chaining PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationToDict::test_to_dict_basic_fields PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationToDict::test_to_dict_feature_flags PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationToDict::test_to_dict_optional_dependencies_as_booleans PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationToDict::test_to_dict_with_custom_dependencies PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationToDict::test_to_dict_values_match_config PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationImmutability::test_builder_creates_new_instance PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_config.py::TestBusConfigurationImmutability::test_original_unchanged_after_builder PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_all_statuses_exist PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_pending_value PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_executing_value PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_completed_value PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_compensating_value PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_compensated_value PASSED [ 18%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_failed_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStatus::test_partially_compensated_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_all_statuses_exist PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_pending_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_executing_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_completed_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_failed_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_compensating_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_compensated_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestStepStatus::test_compensation_failed_value PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaCompensation::test_basic_creation PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaCompensation::test_default_values PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaCompensation::test_custom_retry_settings PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStep::test_basic_creation PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStep::test_default_status_pending PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStep::test_default_result_none PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStep::test_default_error_none PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStep::test_custom_timeout PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStep::test_custom_retries PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStep::test_default_values PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContext::test_basic_creation PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContext::test_default_constitutional_hash PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContext::test_empty_step_results PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContext::test_get_step_result_nonexistent PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContext::test_set_and_get_step_result PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContext::test_started_at_auto_set PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContext::test_errors_list_initialized PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResult::test_basic_creation PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResult::test_completed_steps_tracked PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResult::test_default_version PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResult::test_constitutional_hash_set PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResult::test_to_dict_structure PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResult::test_to_dict_status_is_string PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaState::test_basic_creation PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaState::test_default_version PASSED [ 19%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaState::test_updated_at_auto_set PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaState::test_to_json_serialization PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaState::test_from_json_deserialization PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestFileSagaPersistenceProvider::test_save_state PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestFileSagaPersistenceProvider::test_load_state PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestFileSagaPersistenceProvider::test_load_state_nonexistent PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestFileSagaPersistenceProvider::test_delete_state PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestFileSagaPersistenceProvider::test_delete_state_nonexistent PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestFileSagaPersistenceProvider::test_directory_creation PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_reserve_capacity PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_release_capacity PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_validate_constitutional_compliance_valid PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_validate_constitutional_compliance_invalid PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_log_validation_failure PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_apply_policy_decision PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_revert_policy_decision PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_record_audit_entry PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_mark_audit_failed PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_deliver_to_target PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_recall_from_target PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_audit_llm_reasoning_safe PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestDefaultSagaActivities::test_audit_llm_reasoning_unsafe PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContextOperations::test_multiple_step_results PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContextOperations::test_overwrite_step_result PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContextOperations::test_metadata_storage PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaContextOperations::test_error_tracking PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResultEdgeCases::test_failed_saga_result PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResultEdgeCases::test_partially_compensated_result PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStateEdgeCases::test_state_with_empty_lists PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaStateEdgeCases::test_state_with_complex_context PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalHashIntegration::test_context_has_constitutional_hash PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalHashIntegration::test_result_has_constitutional_hash PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalHashIntegration::test_result_dict_has_constitutional_hash PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestAsyncCompensationExecution::test_compensation_execution PASSED [ 20%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestAsyncCompensationExecution::test_step_execution PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_initialization PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_add_step_returns_self PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_add_multiple_steps PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_get_status PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_execute_empty_saga PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_execute_single_step_success PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_execute_multiple_steps_success PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_execute_step_failure_triggers_compensation PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_compensation_lifo_order PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_optional_step_failure_continues PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_step_timeout PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_step_retries_before_failure PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_compensation_retries PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_compensation_failure PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_context_passed_to_steps PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_execution_time_measurement PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalSagaWorkflow::test_persistence_during_execution PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResume::test_resume_nonexistent_saga PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestSagaResume::test_resume_existing_saga PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestCreateConstitutionalValidationSaga::test_creates_saga_with_correct_steps PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestCreateConstitutionalValidationSaga::test_steps_have_compensations PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestCreateConstitutionalValidationSaga::test_audit_reasoning_is_optional PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestCreateConstitutionalValidationSaga::test_full_saga_execution_success PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestCreateConstitutionalValidationSaga::test_saga_with_custom_activities PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestEdgeCases::test_saga_with_none_context PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestEdgeCases::test_saga_exception_during_execution PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestEdgeCases::test_compensation_receives_correct_context PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestEdgeCases::test_idempotency_key_in_compensation PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestEdgeCases::test_default_idempotency_key_format PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestEdgeCases::test_result_to_dict_with_errors PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConcurrency::test_multiple_sagas_concurrent PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConcurrency::test_saga_isolation PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalHashInWorkflow::test_constitutional_hash_in_step_context PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalHashInWorkflow::test_default_constitutional_hash PASSED [ 21%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalHashInWorkflow::test_result_includes_constitutional_hash PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_saga_comprehensive.py::TestConstitutionalHashInWorkflow::test_constitutional_hash_constant PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestConstitutionalHashValidation::test_valid_constitutional_hash PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestConstitutionalHashValidation::test_invalid_constitutional_hash PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestConstitutionalHashValidation::test_empty_constitutional_hash PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestConstitutionalHashValidation::test_constitutional_hash_value PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestValidationResult::test_default_validation_result PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestValidationResult::test_add_error PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestValidationResult::test_add_warning PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestValidationResult::test_merge_validation_results PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageContentValidation::test_valid_content PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageContentValidation::test_empty_action_warning PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageContentValidation::test_invalid_content_type PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestAgentMessage::test_message_creation PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestAgentMessage::test_message_id_generation PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestAgentMessage::test_message_types PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageProcessor::test_process_valid_message PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageProcessor::test_process_invalid_hash_message PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageProcessor::test_handler_registration PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageProcessor::test_sync_handler PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageProcessor::test_processed_count PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessageProcessor::test_handler_error_handling PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_start_stop PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_agent_registration PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_agent_unregistration PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_unregister_nonexistent_agent PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_send_valid_message PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_send_invalid_hash_message PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_receive_message PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_receive_message_timeout PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_get_metrics PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestEnhancedAgentBus::test_constitutional_hash_in_registration PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessagePriorityAndTypes::test_message_priorities PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation.py::TestMessagePriorityAndTypes::test_governance_message_types PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation_debug.py::TestMessageProcessorDebug::test_process_valid_message_debug PASSED [ 22%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation_debug.py::TestMessageProcessorDebug::test_process_invalid_hash_message_debug PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_constitutional_validation_debug.py::TestMessageProcessorDebug::test_handler_registration_debug PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_processor_initialization PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_register_handler PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_register_multiple_handlers PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_unregister_handler PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_processed_count_property PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_failed_count_property PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_get_metrics PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_process_valid_message PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_process_invalid_constitutional_hash PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_handler_execution PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorActual::test_sync_handler_execution PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_bus_initialization PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_register_agent PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_register_agent_with_tenant PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_register_duplicate_agent PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_unregister_agent PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_unregister_nonexistent_agent PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_get_agent_info PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_get_agent_info_nonexistent PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_get_registered_agents PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_get_agents_by_type PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_get_agents_by_capability PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_is_running PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_processor_property PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_get_metrics PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_get_metrics_async PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_send_message PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_receive_message PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_receive_message_timeout PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_broadcast_message FAILED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_broadcast_multi_tenant_isolation PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestGlobalInstances::test_get_agent_bus_singleton PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestGlobalInstances::test_reset_agent_bus PASSED [ 23%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestBusLifecycle::test_start_bus PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestBusLifecycle::test_stop_bus PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestBusLifecycle::test_double_start PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestBusLifecycle::test_double_stop PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorAdditional::test_unregister_handler_not_found PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorAdditional::test_unregister_handler_wrong_type PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorAdditional::test_process_multiple_handlers PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorAdditional::test_process_empty_content PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestMessageProcessorAdditional::test_process_increments_counter PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_get_agents_by_type_empty PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_get_agents_by_capability_empty PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_send_message_updates_status PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_broadcast_to_empty_recipients FAILED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_agent_registration_updates_capabilities FAILED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_bus_metrics_format PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_multiple_message_types PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestValidationEdgeCases::test_missing_constitutional_hash PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestValidationEdgeCases::test_empty_from_agent PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreConstants::test_constitutional_hash_defined PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreConstants::test_use_rust_is_boolean PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreConstants::test_default_redis_url_defined PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreConstants::test_metrics_enabled_is_boolean PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreConstants::test_circuit_breaker_enabled_is_boolean PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreConstants::test_metering_available_is_boolean PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_message_processor_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_enhanced_agent_bus_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_agent_message_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_message_type_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_priority_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_message_status_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_decision_log_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreClassExports::test_validation_result_exported PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreProtocolExports::test_agent_registry_protocol PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreProtocolExports::test_message_router_protocol PASSED [ 24%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreProtocolExports::test_validation_strategy_protocol PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreProtocolExports::test_processing_strategy_protocol PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreImplementationExports::test_in_memory_registry_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreImplementationExports::test_direct_message_router_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreImplementationExports::test_static_hash_validation_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreImplementationExports::test_python_processing_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreImplementationExports::test_composite_processing_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreFunctionExports::test_get_agent_bus_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreFunctionExports::test_reset_agent_bus_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreAllExports::test_all_defined PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreAllExports::test_all_contains_constitutional_hash PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreAllExports::test_all_contains_message_processor PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreAllExports::test_all_contains_enhanced_agent_bus PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreAllExports::test_all_exports_are_accessible PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreBackwardCompatibility::test_constitutional_validation_alias PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreBackwardCompatibility::test_message_priority_deprecated_alias PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreMeteringExports::test_metering_config_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreMeteringExports::test_metering_hooks_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage.py::TestCoreMeteringExports::test_metered_operation_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreStrategyExports::test_rust_processing_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreStrategyExports::test_rust_validation_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreStrategyExports::test_opa_processing_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreStrategyExports::test_opa_validation_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreStrategyExports::test_dynamic_policy_processing_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreStrategyExports::test_dynamic_policy_validation_strategy_exported PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreStrategyExports::test_composite_processing_strategy_instantiable PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreValidationStrategies::test_static_hash_validation_has_validate PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreValidationStrategies::test_constitutional_validation_is_alias PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreProcessingStrategies::test_python_processing_strategy_instantiable PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreProcessingStrategies::test_python_processing_strategy_has_required_methods PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreMeteringExportsExpanded::test_metering_available_affects_exports PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreMeteringExportsExpanded::test_metering_functions_callable_when_available PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFeatureFlags::test_metrics_enabled_reflects_imports PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFeatureFlags::test_circuit_breaker_enabled_reflects_imports PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFeatureFlags::test_use_rust_reflects_rust_binding PASSED [ 25%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreRegistryExports::test_in_memory_agent_registry_functional PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreRegistryExports::test_direct_message_router_exported PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_agent_message_fields PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_agent_message_with_type_and_priority PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_message_priority_deprecated_alias PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_decision_log_instantiation PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_validation_result_with_all_fields PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_validation_result_invalid PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_message_status_all_values PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModelExports::test_message_type_all_values PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreProtocolInterfaces::test_agent_registry_is_protocol PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreProtocolInterfaces::test_message_router_is_protocol PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreProtocolInterfaces::test_validation_strategy_is_protocol PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreProtocolInterfaces::test_processing_strategy_is_protocol PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreAllExportsComplete::test_all_items_count PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreAllExportsComplete::test_all_constants_in_all PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreAllExportsComplete::test_all_core_classes_in_all PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreAllExportsComplete::test_all_strategies_in_all PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreAllExportsComplete::test_all_metering_exports_in_all PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreAllExportsComplete::test_all_functions_in_all PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFunctionalUsage::test_reset_agent_bus_callable PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFunctionalUsage::test_get_agent_bus_returns_instance PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFunctionalUsage::test_message_processor_isolated_mode PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFunctionalUsage::test_constitutional_hash_value PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreFunctionalUsage::test_default_redis_url_format PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModuleAttributes::test_module_has_docstring PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModuleAttributes::test_module_name PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModuleAttributes::test_all_is_list PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_coverage_expansion.py::TestCoreModuleAttributes::test_all_items_are_strings PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageProcessorExtended::test_unregister_handler_existing PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageProcessorExtended::test_unregister_handler_nonexistent PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageProcessorExtended::test_get_metrics PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageProcessorExtended::test_process_python_invalid_hash PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageProcessorExtended::test_run_handlers_sync PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageProcessorExtended::test_run_handlers_async PASSED [ 26%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_bus_initialization_defaults PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_bus_custom_redis_url PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_bus_start_sets_running PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_bus_stop_clears_running PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_register_agent_basic PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_unregister_agent PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_unregister_nonexistent_agent PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_send_message_updates_metrics PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_receive_message_with_timeout PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_get_agent_info PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestEnhancedAgentBusExtended::test_get_bus_metrics PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestValidationResultExtended::test_validation_result_with_metadata PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestValidationResultExtended::test_validation_result_merge PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestValidationResultExtended::test_validation_result_add_error PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestValidationResultExtended::test_validation_result_add_warning PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageQueueOperations::test_queue_put_get PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageQueueOperations::test_queue_priority_ordering PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestMessageQueueOperations::test_queue_empty_check PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestErrorHandling::test_handler_type_error_caught PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestErrorHandling::test_handler_value_error_caught PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestErrorHandling::test_handler_runtime_error_caught PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestErrorHandling::test_cancelled_error_propagates PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestConstitutionalHashValidation::test_valid_hash_constant PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestConstitutionalHashValidation::test_hash_in_message PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestConstitutionalHashValidation::test_hash_mismatch_detection PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_core_extended.py::TestConstitutionalHashValidation::test_empty_hash_rejected PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorLogDecision::test_log_decision_with_span PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorLogDecision::test_log_decision_without_span PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorLogDecision::test_get_compliance_tags_approved PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorLogDecision::test_get_compliance_tags_rejected PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorLogDecision::test_get_compliance_tags_critical_priority PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorTracing::test_process_with_otel_mocked PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorTracing::test_do_process_directly PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientEmbedded::test_evaluate_embedded_not_initialized PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientEmbedded::test_evaluate_embedded_bool_result PASSED [ 27%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientEmbedded::test_evaluate_embedded_dict_result PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientEmbedded::test_evaluate_embedded_unexpected_result_type PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientEmbedded::test_evaluate_embedded_exception PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientFallback::test_evaluate_fallback PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueuePersistence::test_load_tasks_file_not_found PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueuePersistence::test_load_tasks_invalid_json PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueuePersistence::test_load_tasks_valid_json PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueuePersistence::test_save_tasks PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueuePersistence::test_save_tasks_exception_handling PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueUpdateStatus::test_update_status_string_to_enum PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueUpdateStatus::test_update_status_invalid_string PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueUpdateStatus::test_update_status_nonexistent_task PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueResolveTask::test_resolve_task_approved PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueResolveTask::test_resolve_task_rejected PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueResolveTask::test_resolve_task_nonexistent PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorAdditional::test_prompt_injection_detection PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorAdditional::test_metering_constitutional_validation PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorAdditional::test_processed_count_property PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_client_with_custom_url PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_client_fallback_mode PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_evaluate_policy_timeout PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_health_check PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_client_close PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_client_embedded_mode PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_evaluate_with_cache PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_evaluate_without_cache PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_memory_cache PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_cache_get_from_memory PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_cache_set_to_memory PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_cache_expired PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_cache_disabled PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_redis_cache_get PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_redis_cache_set PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientAdditional::test_opa_redis_cache_error PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestEdgeCases::test_message_processor_init PASSED [ 28%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestEdgeCases::test_message_processor_constitutional_hash_property PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestEdgeCases::test_opa_client_init PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestEdgeCases::test_deliberation_queue_stop PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestEdgeCases::test_deliberation_queue_get_pending_tasks PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_submit_agent_vote_success PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_submit_agent_vote_duplicate_replaces PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_submit_agent_vote_on_completed_task PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_consensus_reached_auto_approve PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_submit_human_decision_not_under_review PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_submit_human_decision_success PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_submit_human_decision_rejection PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_get_item_details PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_get_item_details_nonexistent PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_get_queue_status PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestDeliberationQueueExtended::test_voting_deadline_property PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientExtended::test_evaluate_http_bool_result PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientExtended::test_evaluate_http_dict_result PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientExtended::test_evaluate_http_unexpected_type PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientExtended::test_evaluate_http_exception PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientExtended::test_evaluate_policy_with_caching PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientExtended::test_get_stats PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestOPAClientExtended::test_generate_cache_key PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorExtended::test_process_high_priority_message PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorExtended::test_process_query_message PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorExtended::test_process_event_message PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorExtended::test_process_with_headers PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorExtended::test_decision_log_creation PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestMessageProcessorExtended::test_processed_count_increments PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestIntegrationScenarios::test_full_deliberation_workflow PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestIntegrationScenarios::test_message_processor_with_opa_fallback PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_coverage_boost.py::TestIntegrationScenarios::test_deliberation_queue_persistence_roundtrip PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_feedback.py::TestDeliberationFeedback::test_feedback_loop_integration PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_deliberation_queue PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_deliberation_task PASSED [ 29%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_voting_service PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_voting_strategy PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_vote PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_election PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_impact_scorer PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_calculate_message_impact PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_get_impact_scorer PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_import_nonexistent_attribute_raises PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationLayerLazyLoading::test_all_exports_defined PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationGetattr::test_getattr_impact_scorer_loads_module PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationGetattr::test_getattr_calculate_message_impact PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationGetattr::test_getattr_get_impact_scorer PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationGetattr::test_getattr_invalid_raises_attribute_error PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationGetattr::test_getattr_multiple_accesses_cached PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationModuleImports::test_from_import_direct_exports PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationModuleImports::test_import_module_directly PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationModuleImports::test_direct_submodule_import_queue PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationModuleImports::test_direct_submodule_import_voting PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationModuleImports::test_direct_impact_scorer_import PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestLazyLoadingMechanism::test_get_impact_scorer_module_function_exists PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestLazyLoadingMechanism::test_impact_scorer_module_global_initialized PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestLazyLoadingMechanism::test_lazy_load_caches_module PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestLazyLoadingMechanism::test_lazy_load_import_error_message PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationQueueFromInit::test_queue_class_exists PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationQueueFromInit::test_task_class_exists PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestVotingServiceFromInit::test_voting_service_class_exists PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestVotingServiceFromInit::test_voting_strategy_exists PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestVotingServiceFromInit::test_vote_class_exists PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestVotingServiceFromInit::test_election_class_exists PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationEdgeCases::test_dir_includes_standard_exports PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationEdgeCases::test_hasattr_for_direct_exports PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationEdgeCases::test_module_name_and_package PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationEdgeCases::test_repeated_import_stability PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestDeliberationEdgeCases::test_all_list_is_complete PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_init_coverage.py::TestImpactScorerIntegration::test_impact_scorer_types_if_available PASSED [ 30%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationQueue::test_enqueue_for_deliberation PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationQueue::test_queue_status PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationQueue::test_item_details PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationQueue::test_item_details_not_found PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationItem::test_default_values PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationItem::test_voting_deadline_calculation PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAgentVote::test_vote_creation PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAgentVote::test_vote_types PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestVoting::test_submit_agent_vote PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestVoting::test_vote_update PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestVoting::test_vote_for_nonexistent_item PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestImpactScorer::test_calculate_impact_basic PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestImpactScorer::test_high_risk_content PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestImpactScorer::test_low_risk_content PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestImpactScorer::test_get_impact_scorer_singleton PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAdaptiveRouter::test_route_low_risk_to_fast_lane PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAdaptiveRouter::test_route_high_risk_to_deliberation PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAdaptiveRouter::test_routing_stats PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAdaptiveRouter::test_set_impact_threshold PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAdaptiveRouter::test_threshold_bounds PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestAdaptiveRouter::test_force_deliberation PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationStatus::test_all_statuses_exist PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestDeliberationStatus::test_status_values PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestGlobalSingletons::test_deliberation_queue_singleton PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_layer.py::TestGlobalSingletons::test_adaptive_router_singleton PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_queue_initialization PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_custom_initialization PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_enqueue_for_deliberation PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_enqueue_with_multi_agent_vote PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_enqueue_without_multi_agent_vote PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_enqueue_creates_processing_task PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_queue_status PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_item_details PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationQueueClass::test_item_details_not_found PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationItemClass::test_default_values PASSED [ 31%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationItemClass::test_custom_values PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationItemClass::test_voting_deadline_calculation PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationItemClass::test_item_id_generation PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestAgentVoteClass::test_vote_creation PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestAgentVoteClass::test_default_confidence PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestAgentVoteClass::test_timestamp_auto_set PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestVoteTypes::test_all_vote_types_exist PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestVoteTypes::test_vote_type_values PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestVotingSystem::test_submit_agent_vote PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestVotingSystem::test_multiple_agent_votes PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestVotingSystem::test_vote_update PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestVotingSystem::test_vote_for_nonexistent_item PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestConsensusChecking::test_check_consensus_insufficient_votes PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestConsensusChecking::test_check_consensus_reached PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestConsensusChecking::test_check_consensus_not_reached PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestHumanDecision::test_submit_human_decision_approved PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestHumanDecision::test_submit_human_decision_rejected PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestHumanDecision::test_submit_human_decision_wrong_status PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestHumanDecision::test_submit_human_decision_nonexistent_item PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationStatus::test_all_statuses_exist PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestDeliberationStatus::test_status_values PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestGlobalSingleton::test_get_deliberation_queue_singleton PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestStatisticsTracking::test_total_queued_increments PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_deliberation_queue_module.py::TestStatisticsTracking::test_initial_stats PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_register_agent PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_register_duplicate_returns_false PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_unregister_agent PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_unregister_nonexistent_returns_false PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_get_agent PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_get_nonexistent_returns_none PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_list_agents PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_update_metadata PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_update_metadata_nonexistent_returns_false PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_clear PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestInMemoryAgentRegistry::test_agent_count PASSED [ 32%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestDirectMessageRouter::test_route_to_existing_agent PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestDirectMessageRouter::test_route_to_nonexistent_agent PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestDirectMessageRouter::test_route_without_target PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestDirectMessageRouter::test_broadcast_excludes_sender PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestDirectMessageRouter::test_broadcast_with_exclude_list PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestCapabilityBasedRouter::test_route_by_capability PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestCapabilityBasedRouter::test_route_explicit_target_takes_precedence PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestStaticHashValidationStrategy::test_validate_valid_message PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestStaticHashValidationStrategy::test_validate_strict_mode_valid_hash PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestStaticHashValidationStrategy::test_validate_strict_mode_invalid_hash PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestCompositeValidationStrategy::test_validate_all_pass PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestCompositeValidationStrategy::test_add_strategy PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_default_dependencies PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_custom_registry_injection PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_custom_router_injection PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_custom_validator_injection PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_custom_processor_injection PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_backward_compatibility PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_full_di_workflow FAILED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestProtocolCompliance::test_registry_protocol_compliance PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestProtocolCompliance::test_router_protocol_compliance PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestProtocolCompliance::test_validator_protocol_compliance PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeInitialization::test_init_with_project_id PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeInitialization::test_init_with_different_project_ids PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeInitialization::test_init_with_empty_project_id PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeInitialization::test_mounted_tools_is_dict PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_tool_basic PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_tool_stores_correct_data PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_tool_without_description PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_tool_without_schema PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_tool_empty_config PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_multiple_tools PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_tool_overwrites_existing PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeToolRegistration::test_register_tool_with_complex_schema PASSED [ 33%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeExternalServer::test_call_external_server_basic PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeExternalServer::test_call_external_server_returns_tool_name PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeExternalServer::test_call_external_server_different_urls PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeExternalServer::test_call_external_server_with_arguments PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeExternalServer::test_call_external_server_empty_arguments PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeManifest::test_get_manifest_empty PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeManifest::test_get_manifest_with_tools PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeManifest::test_manifest_structure PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeManifest::test_manifest_tool_data PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeConcurrency::test_concurrent_tool_registration PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestMCPBridgeConcurrency::test_concurrent_external_calls PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerInitialization::test_init_creates_instance PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerInitialization::test_multiple_instances_independent PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerDashboard::test_generate_dashboard_basic PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerDashboard::test_generate_dashboard_with_stats PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerDashboard::test_generate_dashboard_grid_columns PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerDashboard::test_generate_dashboard_empty_stats PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerDashboard::test_generate_dashboard_missing_stats PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerGraphViz::test_generate_graph_viz_basic PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerGraphViz::test_generate_graph_viz_nodes PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerGraphViz::test_generate_graph_viz_links PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerGraphViz::test_generate_graph_viz_empty_data PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerGraphViz::test_generate_graph_viz_missing_keys PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerUnknownComponents::test_unknown_component_returns_error PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerUnknownComponents::test_various_unknown_types PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerUnknownComponents::test_empty_component_type PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerSchemaVersioning::test_dashboard_version PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestGenUIControllerSchemaVersioning::test_graph_viz_version PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestIntegration::test_mcp_bridge_full_workflow PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestIntegration::test_genui_controller_full_workflow PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestIntegration::test_combined_mcp_and_genui PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestModuleExports::test_mcpbridge_exported PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestModuleExports::test_genuicontroller_exported PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestConstitutionalCompliance::test_constitutional_hash_in_module PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestConstitutionalCompliance::test_mcp_bridge_is_class PASSED [ 34%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestConstitutionalCompliance::test_genui_controller_is_class PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestLogging::test_register_tool_logs PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestLogging::test_external_call_logs PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_dx_ecosystem.py::TestLogging::test_genui_generation_logs PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestSagaPatternE2E::test_saga_happy_path_all_steps_succeed PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestSagaPatternE2E::test_saga_lifo_compensation_on_failure PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestSagaPatternE2E::test_saga_compensation_failure_handling PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestSagaPatternE2E::test_saga_idempotent_compensations PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestDAGExecutionE2E::test_dag_independent_nodes_parallel_execution PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestDAGExecutionE2E::test_dag_complex_dependency_chain PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestDAGExecutionE2E::test_dag_node_failure_skips_dependents PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestDAGExecutionE2E::test_dag_as_completed_pattern PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestConstitutionalValidationE2E::test_constitutional_validation_at_workflow_start PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestConstitutionalValidationE2E::test_constitutional_validation_rejects_invalid_hash PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestConstitutionalValidationE2E::test_constitutional_validation_at_each_saga_step PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestConstitutionalValidationE2E::test_composite_validation_strategy PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestMultiAgentCoordinationE2E::test_agent_registration_and_discovery PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestMultiAgentCoordinationE2E::test_agent_message_routing PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestMultiAgentCoordinationE2E::test_multi_tenant_agent_isolation PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestMultiAgentCoordinationE2E::test_broadcast_message_to_tenant_agents PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestIntegrationWorkflowE2E::test_complete_governance_workflow PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestIntegrationWorkflowE2E::test_degraded_mode_workflow PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_e2e_workflows.py::TestIntegrationWorkflowE2E::test_high_throughput_message_processing PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_environment_check.py::test_module_imports PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_environment_check.py::test_constitutional_hash_value PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_environment_check.py::test_rust_disabled PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_environment_check.py::test_message_types_available PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_environment_check.py::test_processor_imports PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_environment_check.py::test_basic_message_flow PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalHash::test_constitutional_hash_value PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentBusError::test_basic_instantiation PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentBusError::test_with_details PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentBusError::test_custom_constitutional_hash PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentBusError::test_to_dict PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentBusError::test_inheritance PASSED [ 35%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentBusError::test_none_details_becomes_empty_dict PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalError::test_basic_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalError::test_inheritance_chain PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalHashMismatchError::test_basic_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalHashMismatchError::test_with_context PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalHashMismatchError::test_to_dict_includes_hashes PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalValidationError::test_single_error PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalValidationError::test_multiple_errors PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConstitutionalValidationError::test_with_agent_and_action PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestMessageError::test_inheritance PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestMessageValidationError::test_basic_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestMessageValidationError::test_with_warnings PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestMessageDeliveryError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestMessageTimeoutError::test_basic_timeout PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestMessageTimeoutError::test_with_operation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestMessageRoutingError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentError::test_inheritance PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentNotRegisteredError::test_basic_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentNotRegisteredError::test_with_operation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentAlreadyRegisteredError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentCapabilityError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestAgentCapabilityError::test_missing_capabilities_in_details PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestPolicyError::test_inheritance PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestPolicyEvaluationError::test_basic_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestPolicyEvaluationError::test_with_input_data PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestPolicyNotFoundError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestOPAConnectionError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestOPANotInitializedError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestDeliberationError::test_inheritance PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestDeliberationTimeoutError::test_basic_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestDeliberationTimeoutError::test_with_pending_items PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestSignatureCollectionError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestReviewConsensusError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestBusOperationError::test_inheritance PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestBusNotStartedError::test_instantiation PASSED [ 36%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestBusAlreadyStartedError::test_instantiation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestHandlerExecutionError::test_instantiation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestConfigurationError::test_instantiation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_constitutional_errors_are_classes PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_message_errors_are_classes PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_agent_errors_are_classes PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_policy_errors_are_classes PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_deliberation_errors_are_classes PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_bus_errors_are_classes PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_configuration_error_is_class PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestModuleExports::test_constitutional_hash_value PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestExceptionCatching::test_catch_specific_exception PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestExceptionCatching::test_catch_base_class PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestExceptionCatching::test_catch_agent_bus_error PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions.py::TestExceptionCatching::test_exception_chaining PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentBusError::test_basic_creation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentBusError::test_with_details PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentBusError::test_custom_constitutional_hash PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentBusError::test_to_dict PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentBusError::test_str_representation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentBusError::test_raise_and_catch PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalHashMismatchError::test_basic_creation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalHashMismatchError::test_sanitize_hash_long PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalHashMismatchError::test_sanitize_hash_short PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalHashMismatchError::test_sanitize_hash_empty PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalHashMismatchError::test_sanitize_hash_none PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalHashMismatchError::test_with_context PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalHashMismatchError::test_inheritance PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalValidationError::test_basic_creation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConstitutionalValidationError::test_with_agent_and_action PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMessageValidationError::test_basic_creation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMessageValidationError::test_with_warnings PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMessageValidationError::test_inheritance PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMessageDeliveryError::test_basic_creation PASSED [ 37%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMessageTimeoutError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMessageTimeoutError::test_with_operation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMessageRoutingError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentNotRegisteredError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentNotRegisteredError::test_inheritance PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentAlreadyRegisteredError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestAgentCapabilityError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestPolicyEvaluationError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestPolicyEvaluationError::test_with_input_data PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestPolicyEvaluationError::test_inheritance PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestPolicyNotFoundError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestOPAConnectionError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestOPANotInitializedError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestDeliberationTimeoutError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestDeliberationTimeoutError::test_with_pending_counts PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestDeliberationTimeoutError::test_inheritance PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestSignatureCollectionError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestReviewConsensusError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestBusNotStartedError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestBusNotStartedError::test_inheritance PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestBusAlreadyStartedError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestHandlerExecutionError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestConfigurationError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMACIRoleViolationError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMACIRoleViolationError::test_with_allowed_roles PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMACIRoleViolationError::test_inheritance PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMACISelfValidationError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMACISelfValidationError::test_with_output_id PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMACICrossRoleValidationError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestMACIRoleNotAssignedError::test_basic_creation PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_constitutional_errors PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_message_errors PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_agent_errors PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_policy_errors PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_deliberation_errors PASSED [ 38%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_bus_operation_errors PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_maci_errors PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_exceptions_coverage.py::TestExceptionHierarchy::test_configuration_error PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_corrupted_hash_detected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_empty_hash_rejected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_none_hash_handled PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_partial_hash_rejected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_extended_hash_rejected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_case_sensitive_hash_validation PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_unicode_injection_rejected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_whitespace_prefix_rejected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_whitespace_suffix_rejected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_hash_corruption_in_message_model PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_multiple_bit_flip_corruption_detected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConstitutionalHashCorruption::test_valid_hash_passes PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestMACIRoleDesynchronization::test_executive_cannot_validate PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestMACIRoleDesynchronization::test_legislative_cannot_audit PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestMACIRoleDesynchronization::test_judicial_cannot_propose PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestMACIRoleDesynchronization::test_unregistered_agent_rejected PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestMACIRoleDesynchronization::test_all_roles_can_query PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestMACIRoleDesynchronization::test_desync_recovery PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestPartialOPAOutages::test_opa_client_handles_timeout PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestPartialOPAOutages::test_opa_connection_error_handled PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestPartialOPAOutages::test_opa_client_has_fail_closed_architecture PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestPartialOPAOutages::test_opa_cache_prevents_outage_amplification PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestPartialOPAOutages::test_fallback_mode_available PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConflictingApprovals::test_voting_service_exists PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConflictingApprovals::test_election_creation PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConflictingApprovals::test_split_brain_scenario PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConflictingApprovals::test_conflict_injection_simulation PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestConflictingApprovals::test_empty_approval_injection PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestCombinedAttackScenarios::test_hash_corruption_plus_role_desync PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestCombinedAttackScenarios::test_opa_outage_plus_conflict_injection PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestCombinedAttackScenarios::test_cascade_failure_handling PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestCombinedAttackScenarios::test_attack_logging_completeness PASSED [ 39%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestFailClosedVerification::test_validator_defaults_to_fail_closed PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestFailClosedVerification::test_validation_result_has_required_fields PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestFailClosedVerification::test_exception_includes_constitutional_hash PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestFailClosedVerification::test_audit_trail_for_rejections PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestFailClosedVerification::test_valid_hash_accepts PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestGovernanceEdgeCases::test_zero_approvers_fails PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestGovernanceEdgeCases::test_single_approver_requires_explicit_approval PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestGovernanceEdgeCases::test_max_int_voters_handled PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestGovernanceEdgeCases::test_negative_threshold_invalid PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestGovernanceEdgeCases::test_threshold_over_100_normalizes PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestGovernanceEdgeCases::test_hash_with_null_bytes_rejected PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestAdversarialSimulator::test_simulator_defaults_inactive PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestAdversarialSimulator::test_hash_corruption_when_active PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestAdversarialSimulator::test_role_desync_when_active PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_governance_failure_modes.py::TestAdversarialSimulator::test_conflict_injection_when_active PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestGraphDatabaseManagerInterface::test_graph_database_manager_is_abstract PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestGraphDatabaseManagerInterface::test_has_required_methods PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestGraphDatabaseManagerInterface::test_abstract_methods_are_abstract PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_mock_is_graph_database_manager PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_connect_returns_true PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_disconnect_returns_none PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_query_returns_empty_list PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_query_with_params PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_query_default_params PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_add_relationships_returns_true PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_add_relationships_empty_lists PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMockGraphManager::test_add_relationships_multiple_entities PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMultiHopContext::test_get_multi_hop_context_supply_chain PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMultiHopContext::test_get_multi_hop_context_supply_chain_case_insensitive PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMultiHopContext::test_get_multi_hop_context_unknown_entity PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMultiHopContext::test_get_multi_hop_context_default_hops PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMultiHopContext::test_get_multi_hop_context_custom_hops PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMultiHopContext::test_get_multi_hop_context_supply_chain_relations PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestMultiHopContext::test_get_multi_hop_context_structure PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestCreateGraphDbManager::test_create_mock_manager PASSED [ 40%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestCreateGraphDbManager::test_create_mock_manager_case_insensitive PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestCreateGraphDbManager::test_default_is_mock PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestCreateGraphDbManager::test_unknown_type_raises_error PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestCreateGraphDbManager::test_empty_type_raises_error PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestConnectionLifecycle::test_full_lifecycle PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestConnectionLifecycle::test_multiple_queries_after_connect PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestConcurrentOperations::test_concurrent_queries PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestConcurrentOperations::test_concurrent_multi_hop_queries PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestConcurrentOperations::test_concurrent_add_relationships PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestQueryParameters::test_query_with_string_param PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestQueryParameters::test_query_with_int_param PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestQueryParameters::test_query_with_multiple_params PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestQueryParameters::test_query_with_list_param PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestRelationshipOperations::test_add_single_entity_single_relationship PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestRelationshipOperations::test_add_complex_graph_structure PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestRelationshipOperations::test_add_entities_only PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestConstitutionalCompliance::test_constitutional_hash_in_module PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestConstitutionalCompliance::test_operations_succeed_with_valid_data PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestEdgeCases::test_empty_query_string PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestEdgeCases::test_very_long_query PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestEdgeCases::test_special_characters_in_query PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestEdgeCases::test_unicode_in_query PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestEdgeCases::test_multi_hop_with_zero_hops PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_graph_database.py::TestEdgeCases::test_multi_hop_with_large_hops PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthSnapshot::test_snapshot_creation PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthSnapshot::test_snapshot_to_dict PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestSystemHealthReport::test_report_creation PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestSystemHealthReport::test_report_to_dict PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregatorConfig::test_default_config PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregatorConfig::test_custom_config PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_aggregator_start_stop SKIPPED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_aggregator_disabled PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_register_circuit_breaker PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_unregister_circuit_breaker PASSED [ 41%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_get_system_health_no_breakers PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_get_system_health_all_closed SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_get_system_health_degraded SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_get_system_health_critical SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_health_score_calculation PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_health_status_thresholds PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_health_history_collection SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_health_history_window_filtering PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_on_health_change_callback SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_on_health_change_status_transition SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_get_metrics PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_custom_breaker_integration SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregator::test_constitutional_compliance_in_reports PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregatorSingleton::test_get_health_aggregator PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestHealthAggregatorSingleton::test_reset_health_aggregator PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestFireAndForgetPattern::test_callback_does_not_block SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py::TestFireAndForgetPattern::test_callback_exception_does_not_break_aggregator SKIPPED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthSnapshot::test_snapshot_creation PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthSnapshot::test_snapshot_to_dict PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestSystemHealthReport::test_report_creation PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestSystemHealthReport::test_report_to_dict PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthAggregatorConfig::test_default_config PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthAggregatorConfig::test_custom_config PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthAggregatorInitialization::test_default_initialization PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthAggregatorInitialization::test_with_custom_config PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthScoreCalculation::test_score_all_closed PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthScoreCalculation::test_score_all_open PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthScoreCalculation::test_score_half_open_weight PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthScoreCalculation::test_score_mixed PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthScoreCalculation::test_score_no_breakers PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthStatusDetermination::test_status_healthy PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthStatusDetermination::test_status_degraded PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthStatusDetermination::test_status_critical PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestCircuitBreakerRegistration::test_register_circuit_breaker PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestCircuitBreakerRegistration::test_unregister_circuit_breaker PASSED [ 42%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestCircuitBreakerRegistration::test_unregister_nonexistent PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthChangeCallbacks::test_register_callback PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthChangeCallbacks::test_multiple_callbacks PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthChangeCallbacks::test_invoke_sync_callback PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthChangeCallbacks::test_invoke_async_callback PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestHealthChangeCallbacks::test_invoke_callback_handles_error PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGetSystemHealthWithoutCircuitBreaker::test_returns_unknown_status PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGetHealthHistory::test_empty_history PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGetHealthHistory::test_with_snapshots PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGetHealthHistory::test_custom_window PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGetHealthHistory::test_default_window PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGetMetrics::test_metrics_structure PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGetMetrics::test_metrics_values PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestAggregatorLifecycle::test_start_when_disabled PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestAggregatorLifecycle::test_start_without_circuit_breaker PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestAggregatorLifecycle::test_start_already_running PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestAggregatorLifecycle::test_stop_without_task PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGlobalFunctions::test_get_health_aggregator_creates_singleton PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGlobalFunctions::test_get_health_aggregator_with_config PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestGlobalFunctions::test_reset_health_aggregator PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestSystemHealthStatus::test_status_values PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestEdgeCases::test_max_history_size_respected PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestEdgeCases::test_custom_breaker_without_current_state PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_coverage_expansion.py::TestEdgeCases::test_health_score_precision PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_integration_with_circuit_breaker_registry SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_health_degradation_detection SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_health_monitoring_lifecycle SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_custom_breaker_with_registry SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_real_world_monitoring_scenario SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_metrics_accuracy SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_health_history_accuracy SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestHealthAggregatorIntegration::test_constitutional_compliance_throughout_lifecycle SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestGlobalSingletonIntegration::test_singleton_with_real_registry SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py::TestGlobalSingletonIntegration::test_singleton_persistence SKIPPED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerImports::test_import_hitl_manager PASSED [ 43%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerInitialization::test_initialization_with_defaults PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerInitialization::test_initialization_with_custom_audit_ledger PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestRequestApproval::test_request_approval_valid_item PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestRequestApproval::test_request_approval_missing_item PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestRequestApproval::test_request_approval_teams_channel PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestProcessApproval::test_process_approval_approve_decision PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestProcessApproval::test_process_approval_reject_decision PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestProcessApproval::test_process_approval_submission_failure PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerIntegration::test_full_approval_workflow PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerIntegration::test_full_rejection_workflow PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestNotificationPayload::test_notification_payload_structure PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestNotificationPayload::test_notification_payload_agent_info PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestAuditRecords::test_audit_record_for_approval PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestAuditRecords::test_audit_record_for_rejection PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_hitl_manager_init PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_request_approval_with_message PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_request_approval_item_not_found PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_request_approval_teams_channel PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_process_approval_approve PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_process_approval_reject PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_process_approval_invalid_item PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestActualHITLManager::test_real_process_approval_not_under_review PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerWithCustomAuditLedger::test_custom_audit_ledger_receives_results PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerWithCustomAuditLedger::test_audit_records_constitutional_hash PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestValidationResultFallback::test_validation_result_creation PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestValidationResultFallback::test_validation_result_add_error PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestValidationResultFallback::test_validation_result_to_dict PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestValidationResultFallback::test_validation_result_with_custom_metadata PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestFallbackAuditLedgerClass::test_mock_audit_ledger_returns_hash PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestFallbackAuditLedgerClass::test_mock_audit_ledger_logs_result PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestEdgeCasesAndErrorHandling::test_empty_content_message PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestEdgeCasesAndErrorHandling::test_special_characters_in_reasoning PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestEdgeCasesAndErrorHandling::test_concurrent_approval_requests PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestEdgeCasesAndErrorHandling::test_long_content_truncation PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestConstitutionalCompliance::test_constitutional_hash_in_audit_trail PASSED [ 44%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestConstitutionalCompliance::test_all_decisions_include_timestamp PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestFallbackImportPaths::test_module_level_imports PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestFallbackImportPaths::test_validation_result_interface PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestFallbackImportPaths::test_validation_result_from_module_has_to_dict PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerModuleLevelCode::test_module_has_logger PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerModuleLevelCode::test_constitutional_hash_constant PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerModuleLevelCode::test_deliberation_status_import PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerAdditionalScenarios::test_process_approval_with_various_decisions PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerAdditionalScenarios::test_request_approval_logs_correctly PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerAdditionalScenarios::test_process_approval_logs_decision PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_hitl_manager.py::TestHITLManagerAdditionalScenarios::test_multiple_sequential_approvals PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestScoringConfig::test_default_weights PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestScoringConfig::test_custom_weights PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestScoringConfig::test_boost_thresholds FAILED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCosineSimilarityFallback::test_identical_vectors PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCosineSimilarityFallback::test_orthogonal_vectors PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCosineSimilarityFallback::test_opposite_vectors PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCosineSimilarityFallback::test_zero_vector_a PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCosineSimilarityFallback::test_zero_vector_b PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCosineSimilarityFallback::test_nested_arrays PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerInitialization::test_default_initialization PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerInitialization::test_initialization_with_custom_config PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerInitialization::test_high_impact_keywords_loaded PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerCalculations::test_calculate_impact_score_empty_message PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerCalculations::test_calculate_impact_score_with_critical_keyword PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerCalculations::test_calculate_impact_score_with_low_risk_content PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerCalculations::test_calculate_impact_score_with_context PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestImpactScorerCalculations::test_score_normalization PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_no_tools_requested PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_high_risk_tool PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_read_only_tool PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_medium_risk_tool PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_multiple_tools_max_risk PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_tool_as_string PASSED [ 45%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_blockchain_tool PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPermissionScoring::test_payment_tool PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestVolumeScoring::test_low_volume PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestVolumeScoring::test_medium_volume PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestVolumeScoring::test_high_volume PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestVolumeScoring::test_very_high_volume PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestVolumeScoring::test_new_agent_low_score PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestContextScoring::test_normal_context PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestContextScoring::test_large_transaction PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestContextScoring::test_small_transaction PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestDriftScoring::test_unknown_agent_no_drift PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestDriftScoring::test_first_request_no_drift PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestDriftScoring::test_consistent_behavior_no_drift PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestDriftScoring::test_anomalous_behavior_triggers_drift PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_low_priority PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_medium_priority PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_high_priority PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_critical_priority PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_priority_enum_value PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_priority_from_context PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_normal_priority_legacy PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestPriorityFactor::test_integer_priority PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTypeFactor::test_command_type PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTypeFactor::test_governance_request_type PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTypeFactor::test_constitutional_validation_type PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTypeFactor::test_type_from_context PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTextExtraction::test_extract_content_field PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTextExtraction::test_extract_payload_field PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTextExtraction::test_extract_nested_dict PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestTextExtraction::test_extract_multiple_fields PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestGetEmbeddings::test_fallback_embeddings_when_no_model PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestGetEmbeddings::test_keyword_embeddings_cached PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestBaselineValidation::test_validate_with_baseline_same_scorer PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestBaselineValidation::test_validate_with_baseline_different_config PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestGlobalFunctions::test_get_impact_scorer_singleton PASSED [ 46%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestGlobalFunctions::test_calculate_message_impact PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestProfilingAPI::test_get_profiling_report_not_available PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestProfilingAPI::test_get_gpu_decision_matrix_not_available PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestProfilingAPI::test_reset_profiling_no_error PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCriticalPriorityBoost::test_critical_priority_boosts_score PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestCriticalPriorityBoost::test_high_semantic_boosts_score PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestEdgeCases::test_none_priority PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestEdgeCases::test_invalid_priority_string PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestEdgeCases::test_empty_tools_list PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestEdgeCases::test_malformed_tool_dict PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_config.py::TestImpactScorerConfig::test_default_config PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_config.py::TestImpactScorerConfig::test_custom_config PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_config.py::TestImpactScorerConfig::test_priority_boost PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_config.py::TestImpactScorerConfig::test_semantic_boost PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_empty_content_returns_zero PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_low_impact_content PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_high_impact_keywords_increase_score PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_priority_affects_score PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_message_type_affects_score PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_score_bounded_0_to_1 PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_nested_content_extraction PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_multiple_high_impact_keywords PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_extract_text_from_string_field PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_extract_text_from_dict_field PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_priority_factor_calculation PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_priority_factor_default PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_type_factor_high_impact PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_type_factor_low_impact PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerMocked::test_type_factor_default PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerIntegration::test_real_world_low_risk_message PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerIntegration::test_real_world_high_risk_message PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerIntegration::test_financial_transaction PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestImpactScorerIntegration::test_security_alert PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestGlobalFunctions::test_mock_calculate_message_impact PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_module.py::TestGlobalFunctions::test_scorer_singleton_pattern PASSED [ 47%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryImport::test_successful_relative_import PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryImport::test_successful_absolute_import_fallback PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryImport::test_failed_import_returns_false PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryImport::test_multiple_names_imported PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestImportWithFallback::test_first_module_success PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestImportWithFallback::test_fallback_to_second_module PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestImportWithFallback::test_default_values_used_on_failure PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestImportWithFallback::test_none_defaults_on_failure PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestImportWithFallback::test_constitutional_hash_fallback PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestOptionalImport::test_successful_import PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestOptionalImport::test_failed_import_returns_default PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestOptionalImport::test_none_default PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestOptionalImport::test_missing_attribute_returns_default PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryRelativeImport::test_relative_import_success PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryRelativeImport::test_absolute_import_fallback PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryRelativeImport::test_default_on_failure PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestTryRelativeImport::test_none_default PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestGetImportStatus::test_returns_dict PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestGetImportStatus::test_contains_expected_keys PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestGetImportStatus::test_values_are_booleans_or_strings PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestIntegration::test_import_utilities_work_together PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_import_utilities.py::TestIntegration::test_type_hints_work_correctly PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportsAvailability::test_feature_flags_defined PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportsAvailability::test_optional_modules_can_be_none PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportsAvailability::test_constitutional_hash_present PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportsAvailability::test_safe_import_pattern PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportsAvailability::test_logging_configured PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestCircuitBreakerImports::test_circuit_breaker_flag_reflects_availability PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestMeteringImports::test_metering_imports PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestOPAClientImports::test_opa_client_imports PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestAuditClientImports::test_audit_client_imports PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestOptionalImport::test_optional_import_existing PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestOptionalImport::test_optional_import_nonexistent_module PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestOptionalImport::test_optional_import_nonexistent_attr PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportFunctionsExist::test_try_relative_import_exists PASSED [ 48%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportFunctionsExist::test_try_import_exists PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportFunctionsExist::test_initialize_all_imports_exists PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportWithFallback::test_import_with_fallback_primary PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestImportWithFallback::test_import_with_fallback_uses_defaults PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestGetImportStatus::test_import_status_returns_dict PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestGetImportStatus::test_import_status_has_features PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestGetImportStatus::test_import_status_values_are_bool PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestCryptoImports::test_crypto_imports PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestConfigImports::test_config_imports PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestDeliberationImports::test_deliberation_imports PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestPolicyClientImports::test_policy_client_imports PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_imports_coverage.py::TestRustImports::test_rust_imports PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestPropertyAccessors::test_injected_impact_scorer_property PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestPropertyAccessors::test_injected_router_property PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestPropertyAccessors::test_injected_queue_property PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestPropertyAccessors::test_injected_dependencies_override_defaults PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestOPAGuardIntegration::test_opa_guard_enabled_creates_guard PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestOPAGuardIntegration::test_opa_guard_disabled_no_guard PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestOPAGuardIntegration::test_evaluate_opa_guard_returns_none_when_disabled PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestOPAGuardIntegration::test_verify_with_opa_guard_returns_none_when_disabled PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestOPAGuardIntegration::test_set_guard_callback PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestPrepareProcessingContext::test_context_includes_all_fields PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestPrepareProcessingContext::test_context_uses_sender_id_fallback PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestEnsureImpactScore::test_calculates_score_when_none PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestEnsureImpactScore::test_preserves_existing_score PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestCloseMethods::test_close_without_redis PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestCloseMethods::test_close_without_opa_guard PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestResolvedeliberationItem::test_resolve_without_queue PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestResolvedeliberationItem::test_resolve_existing_item PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestDependencyInjection::test_llm_assistant_injection PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestDependencyInjection::test_llm_assistant_none_when_disabled PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestDependencyInjection::test_opa_guard_injection PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestDependencyInjection::test_redis_queue_injection PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestDependencyInjection::test_redis_voting_injection PASSED [ 49%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestRecordPerformanceFeedback::test_feedback_skipped_when_learning_disabled PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestRecordPerformanceFeedback::test_feedback_for_fast_lane PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestRecordPerformanceFeedback::test_feedback_for_deliberation_lane PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestExecuteRouting::test_fast_lane_routing PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestExecuteRouting::test_deliberation_lane_routing PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestFinalizeProcessing::test_finalize_adds_processing_time PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestFinalizeProcessing::test_finalize_preserves_existing_guard_result PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestInitializeAsync::test_initialize_with_opa_guard PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestTimeoutErrorHandling::test_timeout_returns_error_result PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestValueErrorHandling::test_value_error_returns_error_result PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestRuntimeErrorHandling::test_runtime_error_returns_error_result PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestLayerStatsErrorHandling::test_stats_handles_value_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestLayerStatsErrorHandling::test_stats_handles_runtime_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestUpdateDeliberationOutcome::test_update_skipped_when_learning_disabled PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestUpdateDeliberationOutcome::test_update_handles_missing_item PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestAgentVoteErrorHandling::test_submit_vote_handles_value_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestAgentVoteErrorHandling::test_submit_vote_handles_runtime_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestHumanDecisionErrorHandling::test_submit_decision_handles_type_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestHumanDecisionErrorHandling::test_submit_decision_handles_attribute_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestAnalyzeTrendsErrorHandling::test_trends_handles_value_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestAnalyzeTrendsErrorHandling::test_trends_handles_runtime_error PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestDeliberationProcessingWithRedis::test_redis_queue_parameter_accepted PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestAgentVoteWithRedis::test_redis_voting_parameter_accepted PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestAgentVoteWithRedis::test_enable_redis_flag_accepted PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestThresholdConfiguration::test_high_risk_threshold_configured PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_coverage_expansion.py::TestThresholdConfiguration::test_impact_threshold_synced_to_router PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestDeliberationLayerInitialization::test_default_initialization PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestDeliberationLayerInitialization::test_custom_initialization PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestDeliberationLayerInitialization::test_components_initialized PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestDeliberationLayerInitialization::test_redis_disabled_by_default PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestDeliberationLayerInitialization::test_callbacks_initially_none PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestMessageProcessing::test_process_message_returns_result PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestMessageProcessing::test_process_message_calculates_impact_score PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestMessageProcessing::test_process_low_risk_to_fast_lane PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestMessageProcessing::test_process_high_risk_to_deliberation PASSED [ 50%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestCallbacks::test_set_fast_lane_callback PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestCallbacks::test_set_deliberation_callback PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestCallbacks::test_fast_lane_callback_executed PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestCallbacks::test_deliberation_callback_executed PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestHumanDecision::test_submit_human_decision_approved PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestHumanDecision::test_submit_human_decision_rejected PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestHumanDecision::test_submit_human_decision_nonexistent_item PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestAgentVote::test_submit_agent_vote PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestAgentVote::test_submit_multiple_agent_votes PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestAgentVote::test_submit_agent_vote_nonexistent_item PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestLayerStats::test_get_layer_stats_structure PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestLayerStats::test_get_layer_stats_features PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestLayerStats::test_get_layer_stats_threshold PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestForceDeliberation::test_force_deliberation PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestForceDeliberation::test_force_deliberation_preserves_original_score PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestTrendAnalysis::test_analyze_trends_without_llm PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestTrendAnalysis::test_analyze_trends_with_llm PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestGlobalSingleton::test_get_deliberation_layer_singleton PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestErrorHandling::test_process_message_handles_error PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_integration_module.py::TestAsyncInitialize::test_initialize_without_redis PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_intent_classifier.py::test_classify_factual PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_intent_classifier.py::test_classify_reasoning PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_intent_classifier.py::test_classify_creative PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_intent_classifier.py::test_classify_general PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_intent_classifier.py::test_classify_async PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_is_runtime_checkable PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_has_register_method PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_has_unregister_method PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_has_get_method PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_has_list_agents_method PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_has_exists_method PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_has_update_metadata_method PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestAgentRegistryProtocol::test_mock_implementation PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageRouterProtocol::test_is_runtime_checkable PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageRouterProtocol::test_has_route_method PASSED [ 51%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageRouterProtocol::test_has_broadcast_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageRouterProtocol::test_mock_implementation PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestValidationStrategyProtocol::test_is_runtime_checkable PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestValidationStrategyProtocol::test_has_validate_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestValidationStrategyProtocol::test_mock_implementation PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProcessingStrategyProtocol::test_is_runtime_checkable PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProcessingStrategyProtocol::test_has_process_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProcessingStrategyProtocol::test_has_is_available_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProcessingStrategyProtocol::test_has_get_name_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProcessingStrategyProtocol::test_mock_implementation PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageHandlerProtocol::test_is_runtime_checkable PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageHandlerProtocol::test_has_handle_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageHandlerProtocol::test_has_can_handle_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMessageHandlerProtocol::test_mock_implementation PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMetricsCollectorProtocol::test_is_runtime_checkable PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMetricsCollectorProtocol::test_has_record_message_processed PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMetricsCollectorProtocol::test_has_record_agent_registered PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMetricsCollectorProtocol::test_has_record_agent_unregistered PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMetricsCollectorProtocol::test_has_get_metrics PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestMetricsCollectorProtocol::test_mock_implementation PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestModuleExports::test_all_protocols_exported PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolNonImplementation::test_empty_class_not_registry PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolNonImplementation::test_partial_implementation_not_registry PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolNonImplementation::test_wrong_signature_class PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolIsAbstract::test_cannot_instantiate_registry PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolIsAbstract::test_cannot_instantiate_router PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolIsAbstract::test_cannot_instantiate_validation_strategy PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolIsAbstract::test_cannot_instantiate_processing_strategy PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolIsAbstract::test_cannot_instantiate_message_handler PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolIsAbstract::test_cannot_instantiate_metrics_collector PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces.py::TestProtocolInheritance::test_explicit_inheritance_works PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestAgentRegistryProtocol::test_protocol_is_runtime_checkable PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestAgentRegistryProtocol::test_protocol_has_required_methods PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestAgentRegistryProtocol::test_protocol_has_exists_method PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestMessageHandlerProtocol::test_protocol_exists PASSED [ 52%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestMessageHandlerProtocol::test_has_handle_method PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestMessageHandlerProtocol::test_has_can_handle_method PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestMessageRouterProtocol::test_protocol_exists PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestMessageRouterProtocol::test_has_route_method PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestMetricsCollectorProtocol::test_has_record_agent_registered PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestMetricsCollectorProtocol::test_has_record_agent_unregistered PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestProcessingStrategyProtocol::test_has_is_available_method PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestValidationStrategyProtocol::test_protocol_exists PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestValidationStrategyProtocol::test_has_validate_method PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestModelDefaultValues::test_message_with_defaults PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestModelDefaultValues::test_message_id_generated PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestModelDefaultValues::test_conversation_id_generated PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestInterfacesAllExports::test_all_defined PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestInterfacesAllExports::test_all_contains_agent_registry PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestInterfacesAllExports::test_all_contains_message_router PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestInterfacesAllExports::test_all_contains_metrics_collector PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestInterfacesAllExports::test_all_contains_message_handler PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage.py::TestInterfacesAllExports::test_all_exports_are_accessible PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestAgentRegistryIsinstance::test_mock_implementation_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestAgentRegistryIsinstance::test_incomplete_implementation_not_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMessageRouterIsinstance::test_mock_implementation_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMessageRouterIsinstance::test_incomplete_implementation_not_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestValidationStrategyIsinstance::test_mock_implementation_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProcessingStrategyIsinstance::test_mock_implementation_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProcessingStrategyIsinstance::test_mock_is_available PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProcessingStrategyIsinstance::test_mock_get_name PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMessageHandlerIsinstance::test_mock_implementation_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMetricsCollectorIsinstance::test_mock_implementation_isinstance PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_register_and_get PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_duplicate_register PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_unregister PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_unregister_nonexistent PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_list_agents PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_update_metadata PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_update_metadata_nonexistent PASSED [ 53%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRegistryFunctional::test_get_nonexistent PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRouterFunctional::test_route PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRouterFunctional::test_broadcast PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockRouterFunctional::test_broadcast_with_exclude PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockValidationFunctional::test_valid_message PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockValidationFunctional::test_invalid_message PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockProcessingFunctional::test_process PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockHandlerFunctional::test_handle PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockHandlerFunctional::test_can_handle_matching_type PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockHandlerFunctional::test_can_handle_non_matching_type PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestMockMetricsFunctional::test_record_and_get_metrics PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestInterfacesModuleStructure::test_all_exports_count PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestInterfacesModuleStructure::test_module_docstring_has_constitutional_hash PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolDocstrings::test_agent_registry_docstring PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolDocstrings::test_message_router_docstring PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolDocstrings::test_validation_strategy_docstring PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolDocstrings::test_processing_strategy_docstring PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolDocstrings::test_message_handler_docstring PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolDocstrings::test_metrics_collector_docstring PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolMethodSignatures::test_agent_registry_register_signature PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolMethodSignatures::test_message_router_route_signature PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolMethodSignatures::test_message_router_broadcast_signature PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolMethodSignatures::test_validation_strategy_validate_signature PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolMethodSignatures::test_processing_strategy_process_signature PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestRealImplementationsMatchProtocol::test_inmemory_agent_registry PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestRealImplementationsMatchProtocol::test_direct_message_router PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestRealImplementationsMatchProtocol::test_python_processing_strategy PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestRealImplementationsMatchProtocol::test_static_hash_validation_strategy PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestRealImplementationsMatchProtocol::test_opa_processing_strategy PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestRealImplementationsMatchProtocol::test_opa_validation_strategy PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolRuntimeCheckable::test_agent_registry_is_protocol PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolRuntimeCheckable::test_message_router_is_protocol PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolRuntimeCheckable::test_validation_strategy_is_protocol PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolRuntimeCheckable::test_processing_strategy_is_protocol PASSED [ 54%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolRuntimeCheckable::test_message_handler_is_protocol PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_interfaces_coverage_expansion.py::TestProtocolRuntimeCheckable::test_metrics_collector_is_protocol PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusInitialization::test_default_initialization PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusInitialization::test_custom_initialization PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusInitialization::test_multiple_bootstrap_servers PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestTopicNaming::test_get_topic_name_basic PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestTopicNaming::test_get_topic_name_with_dots_in_tenant PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestTopicNaming::test_get_topic_name_empty_tenant PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestTopicNaming::test_get_topic_name_none_tenant PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestTopicNaming::test_get_topic_name_case_insensitive PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusLifecycle::test_start_without_kafka PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusLifecycle::test_stop_without_producer PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusLifecycle::test_stop_with_mock_producer PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusLifecycle::test_stop_with_consumers PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestSendMessage::test_send_message_producer_not_started PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestSendMessage::test_send_message_not_running PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestSendMessage::test_send_message_success PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestSendMessage::test_send_message_with_partition_key PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestSendMessage::test_send_message_with_auto_generated_conversation_id PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestSendMessage::test_send_message_failure PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestSubscribe::test_subscribe_without_kafka PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestOrchestrator::test_orchestrator_initialization PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestOrchestrator::test_dispatch_task PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestOrchestrator::test_dispatch_task_with_worker_type PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestBlackboard::test_blackboard_initialization PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestBlackboard::test_blackboard_topic_format PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestBlackboard::test_blackboard_update PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestBlackboard::test_blackboard_update_content PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestBlackboard::test_blackboard_multiple_updates PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaAvailableFlag::test_kafka_available_is_boolean PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusIntegration::test_orchestrator_blackboard_workflow PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus.py::TestKafkaEventBusIntegration::test_multiple_tenants PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusInit::test_default_init PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusInit::test_custom_init PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusTopicNaming::test_topic_name_basic PASSED [ 55%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusTopicNaming::test_topic_name_empty_tenant PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusTopicNaming::test_topic_name_sanitizes_dots PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusTopicNaming::test_topic_name_lowercases_type PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusSendMessage::test_send_raises_when_not_started PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusStartStop::test_start_without_kafka_logs_error PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaEventBusStartStop::test_stop_when_not_started PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestOrchestrator::test_orchestrator_init PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestOrchestrator::test_dispatch_task PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestBlackboard::test_blackboard_init PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestBlackboard::test_blackboard_update PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_kafka_bus_coverage.py::TestKafkaConstants::test_kafka_available_is_bool PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestLLMAssistantInitialization::test_default_initialization PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestLLMAssistantInitialization::test_custom_model_name PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestLLMAssistantInitialization::test_initialization_without_langchain PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysis::test_fallback_analysis_basic PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysis::test_fallback_analysis_low_risk PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysis::test_fallback_analysis_high_risk PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysis::test_fallback_analysis_emergency PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackReasoning::test_fallback_reasoning_no_votes PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackReasoning::test_fallback_reasoning_with_votes PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackReasoning::test_fallback_reasoning_with_human_decision PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackReasoning::test_fallback_reasoning_low_approval PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestTrendAnalysis::test_trend_analysis_empty_history PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestTrendAnalysis::test_trend_analysis_high_approval PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestTrendAnalysis::test_trend_analysis_low_approval PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestMessageSummaryExtraction::test_extract_message_summary_basic PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestMessageSummaryExtraction::test_extract_message_summary_long_content PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestMessageSummaryExtraction::test_extract_message_summary_with_payload PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestVoteSummarization::test_summarize_votes_empty PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestVoteSummarization::test_summarize_votes_with_data PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestVoteSummarization::test_summarize_votes_truncates_reasoning PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestDeliberationHistorySummarization::test_summarize_empty_history PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestDeliberationHistorySummarization::test_summarize_history_with_data PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestGlobalSingleton::test_get_llm_assistant_singleton PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysisKeywords::test_critical_keyword PASSED [ 56%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysisKeywords::test_security_keyword PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysisKeywords::test_breach_keyword PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_llm_assistant_module.py::TestFallbackAnalysisKeywords::test_violation_keyword PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIAgentRoleConfig::test_basic_creation PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIAgentRoleConfig::test_with_capabilities PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIAgentRoleConfig::test_with_metadata PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIAgentRoleConfig::test_string_role_normalization PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIAgentRoleConfig::test_uppercase_string_role PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfig::test_default_values PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfig::test_with_agents PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfig::test_get_role_for_agent PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfig::test_get_role_with_default PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfig::test_get_agent_config PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_loader_initialization PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_from_dict PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_from_dict_with_capabilities PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_from_dict_alternate_id_key PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_from_json PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_from_yaml PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_from_env PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_from_env_strict_mode_default PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_auto_detect_json PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_auto_detect_yaml PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigLoader::test_load_none_uses_env PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestApplyMACIConfig::test_apply_config_to_registry PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestApplyMACIConfig::test_apply_empty_config PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestApplyMACIConfig::test_apply_config_with_metadata PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigIntegration::test_full_config_workflow PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_config.py::TestMACIConfigIntegration::test_constitutional_hash_preserved PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIAgentRecord::test_create_record PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIAgentRecord::test_add_output PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIAgentRecord::test_owns_output PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIAgentRecord::test_can_perform_executive PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIAgentRecord::test_can_perform_legislative PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIAgentRecord::test_can_perform_judicial PASSED [ 57%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIAgentRecord::test_can_validate_role PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_register_agent PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_get_agent PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_get_nonexistent_agent PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_unregister_agent PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_record_output PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_get_output_producer PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_get_agents_by_role PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIRoleRegistry::test_is_self_output PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerRolePermissions::test_executive_can_propose PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerRolePermissions::test_executive_cannot_validate PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerRolePermissions::test_legislative_can_extract_rules PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerRolePermissions::test_legislative_cannot_propose PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerRolePermissions::test_judicial_can_validate PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerRolePermissions::test_judicial_cannot_propose PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerRolePermissions::test_all_roles_can_query PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerSelfValidation::test_judicial_cannot_validate_own_output PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerSelfValidation::test_judicial_can_validate_other_agent_output PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerSelfValidation::test_self_validation_detected_via_registry PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerCrossRoleValidation::test_judicial_cannot_validate_judicial_output PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerCrossRoleValidation::test_judicial_can_validate_executive_output PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerCrossRoleValidation::test_judicial_can_validate_legislative_output PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerCrossRoleValidation::test_cross_role_validation_with_target_agent_id PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerUnregisteredAgents::test_strict_mode_rejects_unregistered PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIEnforcerUnregisteredAgents::test_non_strict_mode_allows_unregistered PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_governance_request_from_executive FAILED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_governance_request_from_judicial_fails FAILED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_validation_request_from_judicial FAILED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_query_from_any_role FAILED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationLog::test_successful_validations_logged PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationLog::test_failed_validations_logged PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationLog::test_clear_validation_log PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIExceptions::test_role_violation_error_details PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIExceptions::test_self_validation_error_details PASSED [ 58%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIExceptions::test_cross_role_validation_error_details PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestRolePermissionsConstants::test_executive_permissions PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestRolePermissionsConstants::test_legislative_permissions PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestRolePermissionsConstants::test_judicial_permissions PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestRolePermissionsConstants::test_validation_constraints PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIConstitutionalHash::test_agent_record_has_hash PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIConstitutionalHash::test_validation_result_has_hash PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIConstitutionalHash::test_registry_has_hash PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIConstitutionalHash::test_enforcer_has_hash PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIConstitutionalHash::test_strategy_has_hash PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIMiddlewareFactory::test_create_middleware_with_custom_enforcer PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIMiddlewareFactory::test_create_middleware_default_enforcer PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIMiddlewareFactory::test_middleware_passes_valid_message FAILED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIMiddlewareFactory::test_middleware_blocks_invalid_message PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIMiddlewareFactory::test_middleware_blocks_role_violation PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestFailClosedTargetAgent::test_validation_fails_on_missing_target_agent PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestFailClosedTargetAgent::test_validation_passes_with_registered_target PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestFailClosedTargetAgent::test_validation_log_records_target_not_found PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestReadLockConcurrency::test_concurrent_register_and_get PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestReadLockConcurrency::test_concurrent_get_agents_by_role PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestReadLockConcurrency::test_concurrent_output_producer_lookup PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestEnhancedAgentBusMACIIntegration::test_bus_maci_enabled_by_default PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestEnhancedAgentBusMACIIntegration::test_bus_maci_enabled PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestEnhancedAgentBusMACIIntegration::test_bus_maci_strict_mode PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestEnhancedAgentBusMACIIntegration::test_bus_maci_non_strict_mode PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestEnhancedAgentBusMACIIntegration::test_register_agent_with_maci_role PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestEnhancedAgentBusMACIIntegration::test_register_agent_without_maci_role PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestEnhancedAgentBusMACIIntegration::test_register_all_maci_roles PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMessageProcessorMACIIntegration::test_processor_maci_enabled_by_default PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMessageProcessorMACIIntegration::test_processor_maci_enabled PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMessageProcessorMACIIntegration::test_processor_maci_with_registry PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMessageProcessorMACIIntegration::test_auto_select_strategy_includes_maci PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMessageProcessorMACIIntegration::test_auto_select_strategy_excludes_maci_when_disabled PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIProcessingStrategyIntegration::test_maci_strategy_creation PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIProcessingStrategyIntegration::test_maci_strategy_with_external_registry PASSED [ 59%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIProcessingStrategyIntegration::test_maci_strategy_validates_messages PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIEndToEndIntegration::test_full_maci_workflow PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIEndToEndIntegration::test_maci_role_separation_enforced PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIConstitutionalCompliance::test_maci_bus_has_constitutional_hash PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIConstitutionalCompliance::test_maci_registry_has_constitutional_hash PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIConstitutionalCompliance::test_maci_enforcer_has_constitutional_hash PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_maci_integration.py::TestMACIConstitutionalCompliance::test_agent_record_has_constitutional_hash PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestProfilingLevel::test_all_levels_defined PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestProfilingLevel::test_level_count PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemorySnapshot::test_snapshot_creation PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemorySnapshot::test_mb_properties PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemorySnapshot::test_to_dict PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemorySnapshot::test_optional_fields PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryDelta::test_delta_creation PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryDelta::test_delta_mb_property PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryDelta::test_leak_candidate_detection PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryDelta::test_to_dict PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfilingConfig::test_default_config PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfilingConfig::test_custom_config PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_start_stop PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_enqueue_when_stopped PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_enqueue_when_running PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_queue_full_drops_snapshot PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_callback_invoked PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_get_recent_snapshots PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_get_memory_stats_empty PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestAsyncMemoryQueue::test_get_memory_stats_with_data PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_disabled_by_default PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_start_when_disabled PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_start_when_enabled PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_stop_when_not_started PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_take_snapshot_basic PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_take_snapshot_detailed PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_reset_peak PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfiler::test_compare_to_baseline_not_started PASSED [ 60%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfilingContext::test_context_disabled PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfilingContext::test_context_enabled PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestMemoryProfilingContext::test_context_with_queue PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestProfileMemoryDecorator::test_decorator_disabled PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestModuleLevel::test_memory_profiling_available PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestModuleLevel::test_get_memory_profiler PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestConstitutionalHash::test_snapshot_has_hash PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestConstitutionalHash::test_delta_has_hash PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_memory_profiler.py::TestConstitutionalHash::test_queue_stats_has_hash PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_init_default_maxsize PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_init_custom_maxsize PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_get_missing_key PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_set_and_get PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_get_moves_to_end PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_set_updates_existing PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_eviction_on_maxsize PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCache::test_eviction_respects_lru_order PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorInit::test_default_init PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorInit::test_isolated_mode PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorInit::test_dynamic_policy_disabled PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorInit::test_policy_fail_closed PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorInit::test_metering_disabled PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorInit::test_maci_enabled_by_default PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorInit::test_maci_enabled PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorHandlers::test_register_handler PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorHandlers::test_register_multiple_handlers PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorHandlers::test_unregister_handler PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorMetrics::test_processed_count PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorMetrics::test_failed_count PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorMetrics::test_get_metrics PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorMetrics::test_success_rate_calculation PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorMetrics::test_success_rate_no_division_by_zero PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionDetection::test_no_injection PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionDetection::test_detects_ignore_instruction PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionDetection::test_detects_system_prompt_manipulation PASSED [ 61%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionDetection::test_detects_jailbreak_pattern PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionDetection::test_injection_result_has_metadata PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionDetection::test_handles_dict_content PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorProcess::test_process_valid_message PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorProcess::test_process_with_injection_fails PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorProcess::test_process_increments_count PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorProcess::test_process_with_custom_strategy PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestProcessingStrategy::test_processing_strategy_property PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestProcessingStrategy::test_auto_select_strategy PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionPatterns::test_patterns_exist PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestPromptInjectionPatterns::test_patterns_are_strings PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestValidationCache::test_validation_cache_initialized PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestValidationCache::test_cache_has_default_size PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorConfiguration::test_opa_client_initialized PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorConfiguration::test_constitutional_hash_set PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorConfiguration::test_handlers_initialized_empty PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorConfiguration::test_unregister_nonexistent_handler PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorConfiguration::test_unregister_from_type_without_handlers PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCacheClear::test_cache_handles_empty_get PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCacheClear::test_cache_overwrites_value PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestLRUCacheClear::test_cache_respects_maxsize_one PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorProcessingStrategy::test_processing_strategy_property PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_message_processor_coverage.py::TestMessageProcessorProcessingStrategy::test_isolated_mode_uses_python_strategy PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringConfig::test_default_config PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringConfig::test_custom_config PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringConfig::test_disabled_config PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestAsyncMeteringQueue::test_queue_initialization PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestAsyncMeteringQueue::test_enqueue_nowait PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestAsyncMeteringQueue::test_enqueue_when_disabled PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestAsyncMeteringQueue::test_queue_overflow_handling PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestAsyncMeteringQueue::test_get_metrics PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringHooks::test_on_constitutional_validation PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringHooks::test_on_agent_message PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringHooks::test_on_policy_evaluation PASSED [ 62%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringHooks::test_on_deliberation_request PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringHooks::test_on_hitl_approval PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringMixin::test_configure_metering PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringMixin::test_start_stop_metering PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteringMixin::test_get_metering_metrics PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestSingletons::test_get_metering_queue PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestSingletons::test_get_metering_hooks PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestSingletons::test_reset_metering PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_basic PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_with_validation_result PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_with_exception PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_with_object_tenant_id PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_with_custom_extract_tenant PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_with_custom_extract_agent PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_extract_tenant_exception_handling PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestMeteredOperationDecorator::test_decorator_extract_agent_exception_handling PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestLatencyImpact::test_enqueue_latency PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestLatencyImpact::test_hooks_latency PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestConstitutionalCompliance::test_constitutional_hash_in_config PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestConstitutionalCompliance::test_constitutional_hash_in_metrics PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestIntegrationWithMessageProcessor::test_processor_with_metering FAILED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestIntegrationWithMessageProcessor::test_processor_metering_disabled FAILED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestIntegrationWithAgentBus::test_bus_with_metering PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestIntegrationWithAgentBus::test_bus_metering_disabled PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerInit::test_init_with_hooks_and_queue PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerInit::test_init_without_hooks PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerInit::test_init_with_custom_hash PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerInit::test_init_default_hash PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerProperties::test_is_enabled_true PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerProperties::test_is_enabled_false PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerProperties::test_hooks_property PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerProperties::test_hooks_property_none PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerProperties::test_queue_property PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerProperties::test_queue_property_none PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerLifecycle::test_start_calls_queue_start PASSED [ 63%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerLifecycle::test_start_without_queue PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerLifecycle::test_stop_calls_queue_stop PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerLifecycle::test_stop_without_queue PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordAgentMessage::test_record_agent_message_success PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordAgentMessage::test_record_agent_message_with_invalid_result PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordAgentMessage::test_record_agent_message_disabled PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordAgentMessage::test_record_agent_message_exception_handled PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordAgentMessage::test_record_agent_message_default_tenant PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordDeliberationRequest::test_record_deliberation_request_success PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordDeliberationRequest::test_record_deliberation_request_disabled PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordDeliberationRequest::test_record_deliberation_request_exception_handled PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordValidationResult::test_record_validation_result_success PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordValidationResult::test_record_validation_result_with_error_type PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordValidationResult::test_record_validation_result_disabled PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestRecordValidationResult::test_record_validation_result_exception_handled PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestGetMetrics::test_get_metrics_with_queue PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestGetMetrics::test_get_metrics_without_queue PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestCreateMeteringManager::test_create_metering_manager_disabled PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestCreateMeteringManager::test_create_metering_manager_import_error PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestCreateMeteringManager::test_create_metering_manager_custom_hash PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerIntegration::test_full_lifecycle PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_metering_manager.py::TestMeteringManagerIntegration::test_fire_and_forget_pattern PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestBottleneckType::test_compute_bound_value PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestBottleneckType::test_io_bound_value PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestBottleneckType::test_memory_bound_value PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestBottleneckType::test_unknown_value PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestBottleneckType::test_all_variants_accessible PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestInferenceMetrics::test_basic_creation PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestInferenceMetrics::test_memory_delta_property PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestInferenceMetrics::test_cpu_delta_property PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestInferenceMetrics::test_timestamp_auto_generated PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestInferenceMetrics::test_negative_memory_delta PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestProfilingMetrics::test_basic_creation PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestProfilingMetrics::test_to_dict_structure PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestProfilingMetrics::test_to_dict_latency_values PASSED [ 64%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestProfilingMetrics::test_to_dict_cpu_values PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestProfilingMetrics::test_to_dict_analysis_values PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerInit::test_default_initialization PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerInit::test_custom_max_samples PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerInit::test_prometheus_disabled PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerInit::test_thread_lock_created PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerTrack::test_track_records_sample PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerTrack::test_track_measures_execution_time PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerTrack::test_track_handles_exceptions PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerTrack::test_track_multiple_calls PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerTrack::test_track_different_models PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerDecorator::test_profile_decorator_basic PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerDecorator::test_profile_decorator_preserves_return PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerDecorator::test_profile_decorator_with_args PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerDecorator::test_profile_decorator_with_kwargs PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerAsyncDecorator::test_profile_async_basic PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerAsyncDecorator::test_profile_async_measures_time PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerMetrics::test_get_metrics_empty PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerMetrics::test_get_metrics_basic PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerMetrics::test_get_metrics_latency_percentiles PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerMetrics::test_get_metrics_with_few_samples PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerClassifyBottleneck::test_classify_compute_bound PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerClassifyBottleneck::test_classify_io_bound_low_cpu PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerClassifyBottleneck::test_classify_io_bound_low_latency PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerClassifyBottleneck::test_classify_unknown PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerReport::test_generate_report_empty PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerReport::test_generate_report_with_data PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerReport::test_generate_report_multiple_models PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerReset::test_reset_specific_model PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerReset::test_reset_all PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestModelProfilerReset::test_reset_nonexistent_model PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestSampleLimiting::test_samples_limited_to_max PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestGetAllMetrics::test_get_all_metrics_empty PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestGetAllMetrics::test_get_all_metrics_multiple_models PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestGlobalProfiler::test_get_global_profiler_singleton PASSED [ 65%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestGlobalProfiler::test_profile_inference_decorator PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestProfileAsyncCall::test_profile_async_call_coroutine PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestProfileAsyncCall::test_profile_async_call_sync_function PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestCPUAndMemoryMeasurement::test_get_cpu_percent_with_psutil PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestCPUAndMemoryMeasurement::test_get_memory_mb_with_psutil PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestCPUAndMemoryMeasurement::test_get_cpu_percent_without_psutil PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestCPUAndMemoryMeasurement::test_get_memory_mb_without_psutil PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestPrometheusIntegration::test_prometheus_disabled_no_error PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestPrometheusIntegration::test_prometheus_metrics_recorded PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_model_profiler_comprehensive.py::TestThreadSafety::test_concurrent_tracking PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestAgentMessageExtended::test_create_message_basic PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestAgentMessageExtended::test_message_default_values PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestAgentMessageExtended::test_message_to_dict PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestAgentMessageExtended::test_message_to_dict_raw PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestAgentMessageExtended::test_message_from_dict PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestAgentMessageExtended::test_message_from_dict_defaults PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestDecisionLogExtended::test_decision_log_basic PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestDecisionLogExtended::test_decision_log_defaults PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestDecisionLogExtended::test_decision_log_to_dict PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestDecisionLogExtended::test_decision_log_with_custom_timestamp PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestMessageEnums::test_message_type_values PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestMessageEnums::test_priority_values PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestMessageEnums::test_message_status_values PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestMessageEnums::test_enum_iteration PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestRoutingContext::test_routing_context_basic PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestRoutingContext::test_routing_context_custom_timeout PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestRoutingContext::test_routing_context_missing_source PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_coverage.py::TestRoutingContext::test_routing_context_missing_target PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestConstitutionalHashCompliance::test_constitutional_hash_value PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestRoutingContext::test_basic_creation PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestRoutingContext::test_with_all_fields PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestRoutingContext::test_empty_source_agent_raises PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestRoutingContext::test_empty_target_agent_raises PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestRoutingContext::test_both_empty_raises_source_error PASSED [ 66%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_default_creation PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_custom_message PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_to_dict PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_from_dict PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_from_dict_defaults PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_routing_context_optional PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_routing_context_set PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_security_context PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_performance_metrics PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_impact_score PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_expires_at PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestAgentMessage::test_headers PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestMessageType::test_all_types PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestMessageType::test_type_count PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestPriority::test_all_priorities PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestPriority::test_priority_ordering PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestValidationStatus::test_all_statuses PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestMessagePriority::test_all_priorities PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestMessagePriority::test_priority_ordering PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestMessageStatus::test_all_statuses PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_models_extended.py::TestModuleExports::test_all_exports PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalStatus::test_all_statuses_exist PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalStatus::test_status_count PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApproverRole::test_all_roles_exist PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApproverRole::test_role_count PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestEscalationLevel::test_escalation_levels PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestEscalationLevel::test_level_ordering PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprover::test_approver_creation PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprover::test_approver_has_role_positive PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprover::test_approver_has_role_negative PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprover::test_approver_default_values PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalDecision::test_decision_creation PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalDecision::test_decision_to_dict PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalDecision::test_decision_default_metadata PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_policy_creation PASSED [ 67%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_policy_defaults PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_validate_approvers_min_approvers PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_validate_approvers_success PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_validate_approvers_self_approval_rejected PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_validate_approvers_require_all_roles PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_validate_approvers_all_roles_met PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalPolicy::test_validate_approvers_requires_any_role PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalRequest::test_request_creation PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalRequest::test_request_invalid_constitutional_hash PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalRequest::test_request_auto_deadline PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalRequest::test_request_compute_hash PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalRequest::test_request_to_dict PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestApprovalRequest::test_request_default_escalation_level PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestSlackNotificationChannel::test_send_approval_request PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestSlackNotificationChannel::test_send_decision_notification PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestSlackNotificationChannel::test_send_escalation_notification PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestSlackNotificationChannel::test_get_risk_emoji PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestTeamsNotificationChannel::test_send_approval_request PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestTeamsNotificationChannel::test_send_decision_notification PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestTeamsNotificationChannel::test_send_escalation_notification PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestTeamsNotificationChannel::test_get_theme_color PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_engine_initialization PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_default_policies PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_start_and_stop PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_register_approver PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_register_policy PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_create_request PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_create_request_auto_approve_low_risk PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_create_request_unknown_policy PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_submit_decision_approved PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_submit_decision_rejected PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_submit_decision_request_not_found PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_submit_decision_approver_not_registered PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_submit_decision_duplicate PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_submit_decision_reasoning_required PASSED [ 68%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_cancel_request PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_cancel_nonexistent_request PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_get_request PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_get_pending_requests PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_get_pending_requests_filtered_by_tenant PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_get_stats PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_select_policy_for_risk PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverWorkflowEngine::test_get_eligible_approvers PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestModuleFunctions::test_get_workflow_engine_initial PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestModuleFunctions::test_initialize_and_shutdown_workflow_engine PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverIntegration::test_full_approval_workflow PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverIntegration::test_rejection_stops_workflow PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_multi_approver.py::TestMultiApproverIntegration::test_audit_callback_invoked PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_async_function PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_sync_function PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_with_args_recording PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_exception_handling PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_sync_exception_handling PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_default_name PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_with_service_name PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTracedDecorator::test_traced_with_attributes PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestMeteredDecorator::test_metered_async_function PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestMeteredDecorator::test_metered_sync_function PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestMeteredDecorator::test_metered_tracks_exceptions PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestMeteredDecorator::test_metered_sync_tracks_exceptions PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestMeteredDecorator::test_metered_custom_histogram_name PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTimedDecorator::test_timed_async_function PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTimedDecorator::test_timed_sync_function PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTimedDecorator::test_timed_seconds_unit PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestTimedDecorator::test_timed_exception_still_records PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestSpanContext::test_span_context_sync PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestSpanContext::test_span_context_async PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestSpanContext::test_span_context_with_attributes PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestSpanContext::test_span_context_exception_handling PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestSpanContext::test_span_context_async_exception PASSED [ 69%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestSpanContext::test_span_context_with_service_name PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestDecoratorCombinations::test_traced_and_metered PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestDecoratorCombinations::test_traced_and_timed PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestDecoratorCombinations::test_all_decorators_sync PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_decorators.py::TestConstitutionalHashPresence::test_constitutional_hash_in_module PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestTelemetryConfig::test_default_values PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestTelemetryConfig::test_custom_values PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestNoOpImplementations::test_noop_span PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestNoOpImplementations::test_noop_tracer PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestNoOpImplementations::test_noop_counter PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestNoOpImplementations::test_noop_histogram PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestNoOpImplementations::test_noop_updown_counter PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestNoOpImplementations::test_noop_meter PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestTracingContext::test_basic_context PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestTracingContext::test_with_attributes PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestTracingContext::test_with_service_name PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestTracingContext::test_exception_handling PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestMetricsRegistry::test_registry_creation PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestMetricsRegistry::test_counter_creation PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestMetricsRegistry::test_histogram_creation PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestMetricsRegistry::test_gauge_creation PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestMetricsRegistry::test_increment_counter PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestMetricsRegistry::test_record_latency PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestMetricsRegistry::test_set_gauge PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestGetTracer::test_get_default_tracer PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestGetTracer::test_get_named_tracer PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestGetMeter::test_get_default_meter PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestGetMeter::test_get_named_meter PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestConstitutionalHash::test_hash_exported PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_telemetry.py::TestConstitutionalHash::test_otel_available_flag PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutError::test_error_creation PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutError::test_error_message PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutError::test_error_to_dict PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayer::test_layer_values PASSED [ 70%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutBudget::test_budget_creation PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutBudget::test_remaining_budget PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutBudget::test_is_exceeded PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutBudget::test_soft_limit PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutBudget::test_timing PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestLayerTimeoutBudget::test_reset PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_default_initialization PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_custom_total_budget PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_get_layer_budget PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_get_unknown_layer_raises PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_total_timing PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_execute_with_budget_success PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_execute_with_budget_timeout PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_execute_with_budget_non_strict PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_execute_sync_with_budget_success PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_execute_sync_with_budget_exceeded PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_execute_sync_exception_passthrough PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_execute_async_exception_passthrough PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_budget_report PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestTimeoutBudgetManager::test_reset_all PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestConstitutionalHash::test_hash_exported PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestConstitutionalHash::test_manager_includes_hash PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_observability_timeout_budget.py::TestConstitutionalHash::test_error_includes_hash PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPARequest::test_request_with_trace_id PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPARequest::test_request_auto_generate_trace_id PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPARequest::test_request_with_all_options PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAResponse::test_response_minimal PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAResponse::test_response_full PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAResponse::test_response_to_dict PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterConfig::test_default_config PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterConfig::test_custom_config PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterInit::test_init_default_config PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterInit::test_init_custom_config PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterInit::test_init_none_config_uses_default PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetHttpClient::test_get_http_client_creates_session PASSED [ 71%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetHttpClient::test_get_http_client_returns_cached PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetHttpClient::test_get_http_client_import_error PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterSimulateResponse::test_simulate_response_fail_closed PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterSimulateResponse::test_simulate_response_fail_open PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterParseResponse::test_parse_response_bool_result PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterParseResponse::test_parse_response_dict_with_allow PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterParseResponse::test_parse_response_dict_with_allowed PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterParseResponse::test_parse_response_with_explanation PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterParseResponse::test_parse_response_with_metrics PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterParseResponse::test_parse_response_empty_result PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterParseResponse::test_parse_response_decision_id_generated PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterValidateResponse::test_validate_response_valid_true PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterValidateResponse::test_validate_response_valid_false PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterValidateResponse::test_validate_response_invalid_type PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetCacheKey::test_get_cache_key_basic PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetCacheKey::test_get_cache_key_different_inputs PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetCacheKey::test_get_cache_key_uses_policy_path PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetCacheKey::test_get_cache_key_default_policy_path PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetFallbackResponse::test_fallback_response_fail_closed PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterGetFallbackResponse::test_fallback_response_fail_open PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterClose::test_close_with_client PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterClose::test_close_without_client PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterExecute::test_execute_without_http_client PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterExecute::test_execute_with_query_params PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterExecute::test_execute_non_200_status_fail_closed PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterExecute::test_execute_timeout_fail_closed PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterExecute::test_execute_exception_fail_closed PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestCheckConstitutionalCompliance::test_check_compliance_creates_adapter PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestCheckConstitutionalCompliance::test_check_compliance_with_context PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestCheckConstitutionalCompliance::test_check_compliance_with_provided_adapter PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestCheckAgentPermission::test_check_permission_basic PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestCheckAgentPermission::test_check_permission_with_target PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestCheckAgentPermission::test_check_permission_with_adapter PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestEvaluateMaciRole::test_evaluate_maci_role_basic PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestEvaluateMaciRole::test_evaluate_maci_role_with_target PASSED [ 72%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestEvaluateMaciRole::test_evaluate_maci_role_with_adapter PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterIntegration::test_full_workflow_simulated PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterIntegration::test_fail_closed_security_model PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterIntegration::test_fail_open_security_model PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterEdgeCases::test_parse_response_nested_dict PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterEdgeCases::test_cache_key_with_complex_input PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterEdgeCases::test_request_with_empty_input PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_adapter_coverage.py::TestOPAAdapterEdgeCases::test_response_with_none_values PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_initialization PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_context_manager PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_evaluate_policy_fallback PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_evaluate_policy_invalid_hash PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_validate_constitutional_valid PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_validate_constitutional_invalid PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_check_agent_authorization PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_check_agent_authorization_denied PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_cache_functionality PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_health_check PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_get_stats PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_http_mode_with_mock PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_load_policy PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_global_client_singleton PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_initialize_global_client PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_error_handling_network_failure PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_cache_key_generation PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_cache_expiration PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_authorization_with_context PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClient::test_multiple_concurrent_evaluations PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClientEdgeCases::test_empty_input_data PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClientEdgeCases::test_invalid_policy_path PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClientEdgeCases::test_large_input_data PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client.py::TestOPAClientEdgeCases::test_special_characters_in_input PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInit::test_default_init PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInit::test_custom_opa_url PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInit::test_fail_closed_always_enforced PASSED [ 73%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInit::test_custom_cache_ttl PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInit::test_custom_timeout PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientCaching::test_generate_cache_key PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientCaching::test_cache_key_varies_with_input PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientContextManager::test_aenter_initializes PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientContextManager::test_aexit_closes PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInitializeClose::test_initialize_creates_http_client PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInitializeClose::test_initialize_idempotent PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInitializeClose::test_close_clears_http_client PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientInitializeClose::test_close_safe_when_not_initialized PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientEvaluatePolicy::test_evaluate_returns_cached_result PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientEvaluatePolicy::test_evaluate_fail_closed_on_error PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientEvaluatePolicy::test_fail_open_not_supported PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientValidateConstitutional::test_validate_with_correct_hash PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientCheckAgentAuthorization::test_check_authorization PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientHealthCheck::test_health_check_success PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientHealthCheck::test_health_check_connection_error PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientHealthCheck::test_health_check_timeout PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientLoadPolicy::test_load_policy_success PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientLoadPolicy::test_load_policy_failure PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientGetStats::test_get_stats_returns_dict PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestGetRedisUrl::test_get_redis_url_default PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestGetRedisUrl::test_get_redis_url_returns_string PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestModuleFunctions::test_get_opa_client_returns_client PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestModuleFunctions::test_initialize_and_close_opa_client PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientConstants::test_redis_available_is_bool PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientConstants::test_opa_sdk_available_is_bool PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientEvaluationMethods::test_evaluate_http_success PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientEvaluationMethods::test_evaluate_fallback PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientEvaluationMethods::test_handle_evaluation_error_fail_closed PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientBundleLoading::test_load_bundle_from_url_success PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientBundleLoading::test_load_bundle_from_url_failure PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_client_coverage.py::TestOPAClientBundleLoading::test_verify_bundle_returns_bool PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestOPAGuardInit::test_default_initialization PASSED [ 74%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestOPAGuardInit::test_custom_initialization PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestOPAGuardInit::test_stats_initialization PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestOPAGuardInit::test_default_signers_configured PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestOPAGuardLifecycle::test_initialize PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestOPAGuardLifecycle::test_initialize_with_existing_client PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestOPAGuardLifecycle::test_close PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestConstitutionalCompliance::test_valid_constitutional_hash PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestConstitutionalCompliance::test_invalid_constitutional_hash PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestConstitutionalCompliance::test_no_constitutional_hash PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskCalculation::test_low_risk_action PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskCalculation::test_high_risk_action PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskCalculation::test_score_capped_at_one PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskCalculation::test_risk_level_determination PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestActionVerification::test_allow_low_risk_action PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestActionVerification::test_require_signatures_high_risk PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestActionVerification::test_require_review_critical_risk PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestActionVerification::test_deny_policy_denied PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestActionVerification::test_deny_constitutional_failure PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestActionVerification::test_stats_updated PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestCriticAgentRegistration::test_register_critic_agent PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestCriticAgentRegistration::test_register_multiple_critics PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestStatistics::test_get_statistics PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestStatistics::test_statistics_copy PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestAuditLog::test_log_decision PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestAuditLog::test_get_audit_log PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestAuditLog::test_audit_log_limit PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskFactorIdentification::test_identify_destructive_action PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskFactorIdentification::test_identify_production_impact PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskFactorIdentification::test_identify_sensitive_data PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard.py::TestRiskFactorIdentification::test_no_risk_factors PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestOPAGuardInitialization::test_default_initialization PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestOPAGuardInitialization::test_custom_initialization PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestOPAGuardInitialization::test_initial_stats PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestOPAGuardInitialization::test_default_signers_configured PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestOPAGuardLifecycle::test_initialize_with_client PASSED [ 75%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestOPAGuardLifecycle::test_close PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestConstitutionalCompliance::test_valid_constitutional_hash PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestConstitutionalCompliance::test_invalid_constitutional_hash PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestConstitutionalCompliance::test_no_constitutional_hash PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestConstitutionalCompliance::test_fail_closed_on_error PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestConstitutionalCompliance::test_fail_open_on_error PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskCalculation::test_low_risk_action_score PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskCalculation::test_high_risk_action_type PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskCalculation::test_impact_score_contribution PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskCalculation::test_global_scope_increases_risk PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskCalculation::test_risk_score_capped_at_one PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskLevelDetermination::test_low_risk_level PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskLevelDetermination::test_medium_risk_level PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskLevelDetermination::test_high_risk_level PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskLevelDetermination::test_critical_risk_level PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskFactorIdentification::test_destructive_action_identified PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskFactorIdentification::test_sensitive_data_identified PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestRiskFactorIdentification::test_production_impact_identified PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestActionVerification::test_allow_low_risk_action PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestActionVerification::test_deny_policy_denied PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestActionVerification::test_require_signatures_high_risk PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestActionVerification::test_require_review_critical_risk PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestActionVerification::test_deny_constitutional_failure PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestActionVerification::test_stats_updated PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestCriticAgentManagement::test_register_critic_agent PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestCriticAgentManagement::test_register_multiple_critics PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestCriticAgentManagement::test_unregister_critic_agent PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestCriticAgentManagement::test_unregister_nonexistent_agent PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestAuditLogging::test_log_decision PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestAuditLogging::test_get_audit_log PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestAuditLogging::test_audit_log_limit PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestSignatureCollection::test_collect_signatures_timeout PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestSignatureCollection::test_submit_signature PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestSignatureCollection::test_reject_signature PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestReviewSubmission::test_submit_for_review_timeout PASSED [ 76%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestReviewSubmission::test_submit_review PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestGlobalFunctions::test_initialize_opa_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestGlobalFunctions::test_get_opa_guard_after_init PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestGlobalFunctions::test_close_opa_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestConstitutionalHashExport::test_guard_constitutional_hash_value PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestConstitutionalHashExport::test_guard_result_includes_hash PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestEdgeCases::test_verify_action_with_exception PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestEdgeCases::test_verify_action_with_cancelled_error PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestEdgeCases::test_empty_action PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestEdgeCases::test_risk_factors_empty_action PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestEdgeCases::test_submit_signature_unknown_decision PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestEdgeCases::test_submit_review_unknown_decision PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_actual.py::TestFallbackBehavior::test_fallback_mode_warning PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestVerifyAction::test_verify_action_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestVerifyAction::test_verify_action_without_context PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestVerifyAction::test_verify_action_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestCollectSignatures::test_collect_signatures_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestCollectSignatures::test_collect_signatures_default_timeout PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestCollectSignatures::test_collect_signatures_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitSignature::test_submit_signature_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitSignature::test_submit_signature_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitForReview::test_submit_for_review_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitForReview::test_submit_for_review_default_timeout PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitForReview::test_submit_for_review_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitCriticReview::test_submit_critic_review_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitCriticReview::test_submit_critic_review_minimal_args PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestSubmitCriticReview::test_submit_critic_review_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestRegisterCriticAgent::test_register_critic_agent_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestRegisterCriticAgent::test_register_critic_agent_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestUnregisterCriticAgent::test_unregister_critic_agent_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestUnregisterCriticAgent::test_unregister_critic_agent_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestGetGuardAuditLog::test_get_guard_audit_log_with_guard PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestGetGuardAuditLog::test_get_guard_audit_log_defaults PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestGetGuardAuditLog::test_get_guard_audit_log_guard_disabled PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestOPAGuardMixinIntegration::test_full_verification_workflow PASSED [ 77%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_mixin.py::TestOPAGuardMixinIntegration::test_all_methods_disabled_gracefully PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestConstitutionalHash::test_guard_constitutional_hash_value PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestGuardDecision::test_all_decisions PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestGuardDecision::test_decision_count PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureStatus::test_all_statuses PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewStatus::test_all_statuses PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestGuardResult::test_default_creation PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestGuardResult::test_custom_guard_result PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestGuardResult::test_guard_result_with_validation_errors PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestGuardResult::test_guard_result_with_signatures_required PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestGuardResult::test_guard_result_to_dict PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignature::test_signature_creation PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignature::test_signature_with_custom_hash PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignature::test_signature_with_details PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_default_signature_result PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_signature_result_with_requirements PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_add_signature PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_add_signature_unauthorized_signer PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_add_duplicate_signature_updates PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_signature_rejection PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_reject_unauthorized_signer PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_signature_result_to_dict PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestSignatureResult::test_threshold_based_completion PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestCriticReview::test_default_critic_review PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestCriticReview::test_critic_review_with_details PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_default_review_result PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_add_review PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_consensus_approval PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_consensus_rejection PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_consensus_escalation PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_no_consensus_with_insufficient_reviews PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_consensus_confidence_calculation PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_review_result_to_dict PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestReviewResult::test_empty_review_no_crash PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_opa_guard_models.py::TestModuleExports::test_all_exports PASSED [ 78%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientInit::test_default_initialization PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientInit::test_custom_initialization PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientInit::test_url_trailing_slash_stripped PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientContextManager::test_aenter_initializes_client PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientContextManager::test_aexit_closes_client PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientInitializeClose::test_initialize_creates_http_client PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientInitializeClose::test_initialize_idempotent PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientInitializeClose::test_close_closes_http_client PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientInitializeClose::test_close_when_no_client PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientGetPolicyContent::test_get_policy_content_success PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientGetPolicyContent::test_get_policy_content_with_client_id PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientGetPolicyContent::test_get_policy_content_uses_cache PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientGetPolicyContent::test_get_policy_content_cache_expired PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_message_success PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_message_exceeds_max_length PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_message_prohibited_content PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_message_topic_warning PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_message_no_policy_fallback PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientGetCurrentPublicKey::test_get_public_key_success PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientGetCurrentPublicKey::test_get_public_key_error_returns_none PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientHealthCheck::test_health_check_success PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientHealthCheck::test_health_check_http_error PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientHealthCheck::test_health_check_timeout_error PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientHealthCheck::test_health_check_connect_error PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client.py::TestPolicyRegistryClientHealthCheck::test_health_check_value_error PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_init_defaults PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_init_custom PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_url_strips_trailing_slash PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_aenter_initializes PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_aexit_closes PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_initialize_creates_client PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_initialize_idempotent PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_close_clears_client PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestPolicyRegistryClientActual::test_close_safe_when_none PASSED [ 79%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGetPolicyContentActual::test_success PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGetPolicyContentActual::test_with_client_id PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGetPolicyContentActual::test_404_returns_none PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGetPolicyContentActual::test_timeout_raises PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGetPolicyContentActual::test_connect_error_raises PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_no_policy_fails_closed_by_default PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_no_policy_with_fail_open_returns_warning PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_valid_content_passes PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_exceeds_length_fails PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_prohibited_content_fails PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_topic_warning PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_network_error_fails_closed_by_default PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestValidateMessageActual::test_network_error_with_fail_open_returns_warning PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestHealthCheckActual::test_healthy PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestHealthCheckActual::test_http_error PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestHealthCheckActual::test_timeout PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestHealthCheckActual::test_connect_error PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGetPublicKeyActual::test_success PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGetPublicKeyActual::test_error_returns_none PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGlobalFunctionsActual::test_get_policy_client_creates_singleton PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGlobalFunctionsActual::test_initialize_policy_client PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGlobalFunctionsActual::test_close_policy_client PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_actual.py::TestGlobalFunctionsActual::test_close_when_none PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInit::test_default_init PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInit::test_custom_registry_url PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInit::test_custom_api_key PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInit::test_custom_timeout PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInit::test_custom_cache_ttl PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInit::test_fail_closed_mode PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInit::test_custom_max_cache_size PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientCaching::test_cache_is_ordered_dict PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientCaching::test_empty_cache_on_init PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestDefaultMaxCacheSize::test_default_exists PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientContextManager::test_aenter_initializes PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientContextManager::test_aexit_closes PASSED [ 80%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInitialize::test_initialize_creates_http_client PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInitialize::test_initialize_with_api_key_sets_header PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientInitialize::test_initialize_idempotent PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientClose::test_close_clears_http_client PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientClose::test_close_safe_when_not_initialized PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestGetPolicyClient::test_get_policy_client_returns_client PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestGetPolicyClient::test_get_policy_client_with_fail_closed PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientGetPolicyContent::test_get_policy_content_returns_cached PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_no_policy_fail_open PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_no_policy_fail_closed PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_exceeds_max_length PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_prohibited_content PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_allowed_topics_warning PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientValidateMessageSignature::test_validate_passes_with_valid_content PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientHealthCheck::test_health_check_success PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientHealthCheck::test_health_check_http_error PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientHealthCheck::test_health_check_timeout PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientHealthCheck::test_health_check_connection_error PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_policy_client_coverage.py::TestPolicyRegistryClientHealthCheck::test_health_check_parsing_error PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_successful_processing PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_failed_validation PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_with_custom_validation_strategy PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_handler_execution PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_handler_error_type_error PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_handler_error_value_error PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_handler_runtime_error PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_is_available PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_get_name PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestPythonProcessingStrategy::test_no_handlers_for_message_type PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_no_rust_processor_unavailable PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_successful_rust_processing PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_rust_validation_failure PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_rust_processing_exception PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_circuit_breaker_trips_after_failures PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_circuit_breaker_reset_after_success PASSED [ 81%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_get_name PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestRustProcessingStrategy::test_async_rust_process_method PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestDynamicPolicyProcessingStrategy::test_no_policy_client_unavailable PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestDynamicPolicyProcessingStrategy::test_successful_policy_processing PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestDynamicPolicyProcessingStrategy::test_policy_validation_failure PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestDynamicPolicyProcessingStrategy::test_policy_validation_exception PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestDynamicPolicyProcessingStrategy::test_is_available_with_client PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestDynamicPolicyProcessingStrategy::test_get_name PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestOPAProcessingStrategy::test_no_opa_client_unavailable PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestOPAProcessingStrategy::test_successful_opa_processing PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestOPAProcessingStrategy::test_opa_validation_failure PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestOPAProcessingStrategy::test_opa_validation_exception PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestOPAProcessingStrategy::test_is_available_with_client PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestOPAProcessingStrategy::test_get_name PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_first_strategy_succeeds PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_fallback_on_unavailable PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_fallback_on_exception PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_all_strategies_fail PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_record_failure_called_on_exception PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_is_available_any_available PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_is_available_none_available PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestCompositeProcessingStrategy::test_get_name PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestMACIProcessingStrategy::test_delegates_to_inner_strategy PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestMACIProcessingStrategy::test_is_available_depends_on_inner PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestMACIProcessingStrategy::test_get_name_includes_inner PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestMACIProcessingStrategy::test_registry_property PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestMACIProcessingStrategy::test_enforcer_property PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestMACIProcessingStrategy::test_strict_mode_error_handling PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestProcessingStrategyIntegration::test_python_strategy_end_to_end PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestProcessingStrategyIntegration::test_composite_with_python_fallback PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies.py::TestProcessingStrategyIntegration::test_maci_wrapping_python PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_init_defaults PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_is_available PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_get_name PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_process_valid_message PASSED [ 82%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_process_invalid_hash PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_process_with_sync_handler PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_process_with_async_handler PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_process_handler_type_error PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_process_handler_runtime_error PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_process_handler_value_error PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_init_with_custom_validation PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestPythonProcessingStrategy::test_init_with_metrics_enabled PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestDynamicPolicyProcessingStrategy::test_init_without_client PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestDynamicPolicyProcessingStrategy::test_is_available_false_without_client PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestDynamicPolicyProcessingStrategy::test_get_name PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestDynamicPolicyProcessingStrategy::test_process_not_available PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestDynamicPolicyProcessingStrategy::test_process_with_mock_client PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestDynamicPolicyProcessingStrategy::test_process_validation_failure PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestDynamicPolicyProcessingStrategy::test_process_exception_handling PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestOPAProcessingStrategy::test_init_without_client PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestOPAProcessingStrategy::test_get_name PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestOPAProcessingStrategy::test_process_not_available PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestOPAProcessingStrategy::test_process_with_mock_client PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestOPAProcessingStrategy::test_process_validation_failure PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestOPAProcessingStrategy::test_process_with_handlers PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_init_with_strategies PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_is_available_true PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_is_available_false PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_get_name PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_process_first_strategy_succeeds PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_process_fallback_on_failure PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_process_all_fail PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_process_skips_unavailable PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestCompositeProcessingStrategy::test_process_calls_record_failure PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_init_with_inner_strategy PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_get_name PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_registry_property PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_enforcer_property PASSED [ 83%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_process_delegates_when_maci_unavailable PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_process_maci_validation_fails PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_process_maci_then_inner PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_is_available_checks_both PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_process_maci_exception_strict_mode PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_process_maci_exception_non_strict PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestMACIProcessingStrategy::test_init_with_custom_registry_enforcer PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestStrategyIntegration::test_composite_with_python_strategy PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestStrategyIntegration::test_maci_with_python_inner PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestStrategyIntegration::test_multiple_handlers_execute_in_order PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestStrategyIntegration::test_message_status_lifecycle PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_processing_strategies_coverage.py::TestStrategyIntegration::test_message_updated_at_changes PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_prompt_standardization.py::test_analyze_message_impact_prompt_standardization PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_prompt_standardization.py::test_generate_decision_reasoning_prompt_standardization PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalCompliance::test_constitutional_hash_present PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalCompliance::test_constitutional_hash_in_module PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalCompliance::test_recovery_policy_has_constitutional_hash PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalCompliance::test_recovery_result_has_constitutional_hash PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalCompliance::test_recovery_task_has_constitutional_hash PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalCompliance::test_orchestrator_validates_constitutional_hash PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryStrategy::test_exponential_backoff_value PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryStrategy::test_linear_backoff_value PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryStrategy::test_immediate_value PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryStrategy::test_manual_value PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryState::test_idle_state PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryState::test_scheduled_state PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryState::test_in_progress_state PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryState::test_succeeded_state PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryState::test_failed_state PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryState::test_cancelled_state PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryState::test_awaiting_manual_state PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryPolicy::test_default_values PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryPolicy::test_custom_values PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryPolicy::test_validation_max_retry_attempts PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryPolicy::test_validation_backoff_multiplier PASSED [ 84%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryPolicy::test_validation_initial_delay PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryPolicy::test_validation_max_delay PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryResult::test_result_creation PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryResult::test_result_with_error PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryResult::test_result_to_dict PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryTask::test_task_creation PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryTask::test_task_ordering PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryTask::test_task_defaults PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_orchestrator_initialization PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_orchestrator_with_custom_policy PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_orchestrator_start_stop PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_orchestrator_double_start_raises PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_schedule_recovery_basic PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_schedule_recovery_with_priority PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_schedule_recovery_with_custom_policy PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_execute_recovery_not_found PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_execute_recovery_success PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_execute_recovery_with_health_check PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_execute_recovery_health_check_fails PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_cancel_recovery PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_cancel_nonexistent_recovery PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_set_recovery_policy PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_get_recovery_policy_default PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_get_recovery_status_structure PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestrator::test_recovery_history_tracking PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestExponentialBackoffTiming::test_exponential_backoff_calculation PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestExponentialBackoffTiming::test_exponential_backoff_max_delay PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestLinearBackoffTiming::test_linear_backoff_calculation PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestImmediateStrategy::test_immediate_strategy_no_delay PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestPriorityQueueOrdering::test_priority_queue_ordering PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestPriorityQueueOrdering::test_same_priority_ordering PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalValidationBeforeRecovery::test_schedule_validates_constitutional_hash PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalValidationBeforeRecovery::test_execute_validates_constitutional_hash PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestConstitutionalValidationBeforeRecovery::test_set_policy_validates_constitutional_hash PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestModuleExports::test_all_enums_exported PASSED [ 85%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestModuleExports::test_all_classes_exported PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestModuleExports::test_all_exceptions_exported PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestModuleExports::test_constants_exported PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestratorIntegration::test_full_recovery_workflow PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestratorIntegration::test_multiple_service_recovery PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_recovery_orchestrator.py::TestRecoveryOrchestratorIntegration::test_recovery_with_max_retries_exhausted PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_connect_success PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_connect_redis_unavailable PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_enqueue_deliberation_item PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_enqueue_without_connection PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_get_deliberation_item PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_get_nonexistent_item PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_update_deliberation_status PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_remove_deliberation_item PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_get_pending_items PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisDeliberationQueue::test_get_stream_info PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_submit_vote PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_submit_vote_without_connection PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_get_votes PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_get_vote_count PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_check_consensus_approved PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_check_consensus_rejected PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_check_consensus_insufficient_votes PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestRedisVotingSystem::test_check_consensus_threshold_not_met PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestGlobalInstances::test_get_redis_deliberation_queue PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_integration.py::TestGlobalInstances::test_get_redis_voting_system PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_register_success PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_register_duplicate PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_unregister_success PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_unregister_not_found PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_get_agent PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_get_nonexistent PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_list_agents PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_exists PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_update_metadata_success PASSED [ 86%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_update_metadata_not_found PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestRedisAgentRegistry::test_clear PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_redis_registry.py::TestEnhancedAgentBusRedisIntegration::test_bus_initializes_redis_registry PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_list_agents_empty PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_register_and_list PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_get_nonexistent_agent PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_unregister_cleans_up PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_update_metadata PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_exists_method PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_clear_removes_all PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_agent_count PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_register_duplicate PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_unregister_nonexistent PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestInMemoryAgentRegistryExtended::test_update_metadata_nonexistent PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestDirectMessageRouter::test_route_to_existing_agent PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestDirectMessageRouter::test_route_to_nonexistent_agent PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestDirectMessageRouter::test_route_with_no_target PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestDirectMessageRouter::test_broadcast_excludes_sender PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestDirectMessageRouter::test_broadcast_with_exclude PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestDirectMessageRouter::test_route_tenant_mismatch PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestDirectMessageRouter::test_route_tenant_match PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestCapabilityBasedRouter::test_route_with_explicit_target PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestCapabilityBasedRouter::test_route_by_capabilities PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestCapabilityBasedRouter::test_route_no_matching_capabilities PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestCapabilityBasedRouter::test_route_no_capabilities_required PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestCapabilityBasedRouter::test_broadcast_with_capabilities PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestCapabilityBasedRouter::test_broadcast_no_capabilities_includes_all PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_registry_broadcast.py::TestCapabilityBasedRouter::test_broadcast_excludes_sender_and_list PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRetrievalTriadInitialization::test_default_initialization PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRetrievalTriadInitialization::test_custom_weights PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRetrievalTriadInitialization::test_equal_weights PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRetrievalTriadInitialization::test_vector_heavy_weights PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestVectorSearch::test_vector_search_returns_results PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestVectorSearch::test_vector_search_result_structure PASSED [ 87%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestVectorSearch::test_vector_search_includes_query PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestVectorSearch::test_vector_search_score_range PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestKeywordSearch::test_keyword_search_returns_results PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestKeywordSearch::test_keyword_search_result_structure PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestKeywordSearch::test_keyword_search_includes_query PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestKeywordSearch::test_keyword_search_score_range PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestGraphSearch::test_graph_search_with_known_entity PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestGraphSearch::test_graph_search_unknown_entity PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestGraphSearch::test_graph_search_result_structure PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestGraphSearch::test_graph_search_multi_hop_context PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestResultMerging::test_merge_empty_results PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestResultMerging::test_merge_single_source PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestResultMerging::test_merge_multiple_sources PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestResultMerging::test_merge_duplicate_ids PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestResultMerging::test_merge_respects_limit PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestResultMerging::test_merge_sorted_by_triad_score PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestResultMerging::test_merge_with_custom_weights PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRAGuardStability::test_stability_empty_results PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRAGuardStability::test_stability_single_result PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRAGuardStability::test_stability_consistent_scores PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRAGuardStability::test_stability_varying_scores PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRAGuardStability::test_stability_missing_scores PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestFullSearch::test_search_returns_results PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestFullSearch::test_search_results_have_stability_info PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestFullSearch::test_search_respects_limit PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestFullSearch::test_search_with_supply_chain_query PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestFullSearch::test_search_default_limit PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestFullSearch::test_search_results_sorted_by_score PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestParallelExecution::test_concurrent_searches PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestParallelExecution::test_parallel_search_components PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestParallelExecution::test_multiple_triads_concurrent PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_empty_query PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_very_long_query PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_special_characters_in_query PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_unicode_query PASSED [ 88%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_limit_zero PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_limit_one PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_very_large_limit PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestEdgeCases::test_weights_with_zero_values PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestWeightConfigurations::test_vector_only_weights PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestWeightConfigurations::test_keyword_only_weights PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestWeightConfigurations::test_graph_only_weights PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestLogging::test_search_logs_query PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestConstitutionalCompliance::test_constitutional_hash_in_module PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestConstitutionalCompliance::test_search_with_constitutional_context PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRRFScoring::test_rrf_first_rank_scoring PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRRFScoring::test_rrf_second_rank_scoring PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestRRFScoring::test_rrf_combined_sources PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestGraphManagerIntegration::test_uses_graph_manager_for_search PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_retrieval_triad.py::TestGraphManagerIntegration::test_graph_search_with_mock_manager PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxProviderInterface::test_sandbox_provider_is_abstract PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxProviderInterface::test_sandbox_provider_has_required_methods PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxProviderInterface::test_abstract_methods_are_abstract PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_init_default_url PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_init_custom_url PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_firecracker_is_sandbox_provider PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_execute_code_success PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_execute_code_cold_start_time PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_execute_code_different_languages PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_execute_code_default_language PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_execute_code_default_timeout PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_spawn_instance PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_spawn_instance_unique_ids PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_terminate_instance PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_terminate_nonexistent_instance PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestFirecrackerSandbox::test_full_lifecycle PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_wasm_is_sandbox_provider PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_execute_code_success PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_execute_code_fast_execution PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_execute_code_default_language PASSED [ 89%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_spawn_instance_with_metadata PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_spawn_instance_default_worker PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_terminate_instance PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestWasmSandbox::test_full_lifecycle PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestGetSandboxProvider::test_get_firecracker_provider PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestGetSandboxProvider::test_get_firecracker_provider_case_insensitive PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestGetSandboxProvider::test_get_wasm_provider PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestGetSandboxProvider::test_get_wasm_provider_case_insensitive PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestGetSandboxProvider::test_default_provider_is_firecracker PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestGetSandboxProvider::test_unknown_provider_raises_error PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestGetSandboxProvider::test_empty_provider_raises_error PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxIsolation::test_firecracker_network_isolation PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxIsolation::test_wasm_no_network PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxIsolation::test_isolation_types_differ PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestConcurrentExecution::test_concurrent_firecracker_executions PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestConcurrentExecution::test_concurrent_wasm_executions PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestConcurrentExecution::test_mixed_sandbox_concurrent_execution PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxMetrics::test_duration_tracking PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestSandboxMetrics::test_wasm_fixed_duration PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestConstitutionalCompliance::test_constitutional_hash_in_module PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sandbox.py::TestConstitutionalCompliance::test_execution_returns_valid_structure PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_integration.py::test_sdpc_phase2_integration_factual PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_integration.py::test_sdpc_phase2_integration_high_impact PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_phase2_verifiers.py::test_asc_verifier_skipped PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_phase2_verifiers.py::test_asc_verifier_factual PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_phase2_verifiers.py::test_graph_check_verifier PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_phase2_verifiers.py::test_pacar_verifier PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_phase3_evolution.py::test_sdpc_phase3_evolution_loop PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_phase3_evolution.py::test_sdpc_phase3_reset_logic PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_sdpc_routing.py::test_adaptive_router_intent_routing PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_security_audit_remediation.py::TestSecurityRemediation::test_vuln_001_rust_validation_fail_closed_on_error PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_security_audit_remediation.py::TestSecurityRemediation::test_vuln_001_rust_validation_fail_closed_missing_method PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_security_audit_remediation.py::TestSecurityRemediation::test_vuln_002_opa_fail_closed_on_error PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestPolicyClientSecurityDefaults::test_policy_client_default_fail_closed PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestPolicyClientSecurityDefaults::test_policy_client_explicit_fail_open_allowed PASSED [ 90%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestPolicyClientSecurityDefaults::test_policy_client_explicit_fail_closed PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestPolicyClientSecurityDefaults::test_get_policy_client_default_fail_closed PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestBusConfigurationSecurityDefaults::test_bus_config_default_policy_fail_closed PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestBusConfigurationSecurityDefaults::test_bus_config_default_maci_enabled PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestBusConfigurationSecurityDefaults::test_bus_config_default_maci_strict_mode PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestBusConfigurationSecurityDefaults::test_bus_config_for_production_is_secure PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestBusConfigurationSecurityDefaults::test_bus_config_for_testing_documents_insecure PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestBusConfigurationSecurityDefaults::test_bus_config_from_environment_defaults_secure PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestRustValidationStrategySecurityDefaults::test_rust_validation_default_fail_closed PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestRustValidationStrategySecurityDefaults::test_rust_validation_explicit_fail_open_allowed PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestRustValidationStrategySecurityDefaults::test_rust_validation_no_processor_fails_closed PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestRustValidationStrategySecurityDefaults::test_rust_validation_no_method_fails_closed PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestConstitutionalHashPresence::test_config_has_constitutional_hash PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestConstitutionalHashPresence::test_validation_strategies_has_constitutional_hash PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestSecurityDocumentation::test_fail_closed_is_documented PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_security_defaults.py::TestSecurityDocumentation::test_maci_security_rationale_documented PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLAgentInitialization::test_default_initialization PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLAgentInitialization::test_initialization_with_connection PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLAgentInitialization::test_initialization_with_llm PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLAgentInitialization::test_initialization_with_both PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLAgentInitialization::test_max_retries_default PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSchemaReflection::test_reflect_schema_returns_string PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSchemaReflection::test_reflect_schema_contains_tables PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSchemaReflection::test_reflect_schema_contains_columns PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLGeneration::test_generate_sql_basic_query PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLGeneration::test_generate_sql_with_error PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLGeneration::test_generate_sql_aggregation PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLExecution::test_run_sql_success PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLExecution::test_run_sql_with_aggregation_fails PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSQLExecution::test_run_sql_returns_dict_list PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestExecuteQuery::test_execute_query_triggers_retry PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestExecuteQuery::test_execute_query_returns_sql PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestExecuteQuery::test_execute_query_returns_results PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestExecuteQuery::test_execute_query_tracks_attempts PASSED [ 91%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSelfCorrectionLoop::test_self_correction_retries_on_error PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSelfCorrectionLoop::test_self_correction_max_retries PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestSelfCorrectionLoop::test_error_message_included_in_retry PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestErrorHandling::test_max_retries_exhausted PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestErrorHandling::test_error_result_structure PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestConcurrentQueries::test_concurrent_queries PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestLogging::test_query_logged PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestLogging::test_execution_failure_logged PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestModuleExports::test_all_export PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestModuleExports::test_sql_agent_exported PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_sql_agent.py::TestConstitutionalCompliance::test_constitutional_hash_in_module PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestTelemetryConfig::test_default_config PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestTelemetryConfig::test_custom_config PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpSpan::test_set_attribute PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpSpan::test_add_event PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpSpan::test_record_exception PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpSpan::test_set_status PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpSpan::test_context_manager PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpTracer::test_start_as_current_span PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpTracer::test_start_span PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpCounter::test_add PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpHistogram::test_record PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpUpDownCounter::test_add PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpMeter::test_create_counter PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpMeter::test_create_histogram PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpMeter::test_create_up_down_counter PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestNoOpMeter::test_create_observable_gauge PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestGetTracer::test_get_tracer_returns_tracer PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestGetMeter::test_get_meter_returns_meter PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestOtelAvailable::test_otel_available_is_bool PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestConfigureTelemetry::test_configure_without_config PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestConfigureTelemetry::test_configure_with_custom_config PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestTracerMeterCaching::test_get_tracer_with_name PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestTracerMeterCaching::test_get_meter_with_name PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestTracerMeterCaching::test_get_tracer_returns_same_for_same_name PASSED [ 92%]
acgs2-core/enhanced_agent_bus/tests/test_telemetry_coverage.py::TestTracerMeterCaching::test_get_meter_returns_same_for_same_name PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_tenant_isolation.py::TestTenantIsolation::test_send_message_denies_cross_tenant_recipient PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_tenant_isolation.py::TestTenantIsolation::test_send_message_denies_missing_message_tenant_for_sender PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_tenant_isolation.py::TestTenantIsolation::test_direct_message_router_denies_cross_tenant PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_tenant_isolation.py::TestTenantIsolation::test_direct_message_router_allows_same_tenant PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_v3_modernization.py::test_maci_zk_vote PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_v3_modernization.py::test_chaos_inject_failure[0.1] PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_v3_modernization.py::test_chaos_inject_failure[0.5] PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_v3_modernization.py::test_alignment_error_handling PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestStaticHashValidationStrategy::test_valid_message_passes PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestStaticHashValidationStrategy::test_invalid_hash_fails_in_strict_mode PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestStaticHashValidationStrategy::test_invalid_hash_passes_in_non_strict_mode PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestStaticHashValidationStrategy::test_missing_message_id_fails PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestStaticHashValidationStrategy::test_none_content_fails PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestDynamicPolicyValidationStrategy::test_no_policy_client_fails PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestDynamicPolicyValidationStrategy::test_valid_policy_response PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestDynamicPolicyValidationStrategy::test_invalid_policy_response PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestDynamicPolicyValidationStrategy::test_policy_client_exception PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestOPAValidationStrategy::test_no_opa_client_fails PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestOPAValidationStrategy::test_valid_opa_response PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestOPAValidationStrategy::test_invalid_opa_response PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestOPAValidationStrategy::test_opa_client_exception PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_no_rust_processor_fails PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_validate_message_returns_true PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_validate_message_returns_false PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_validate_message_returns_dict_valid PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_validate_message_returns_dict_invalid PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_sync_validate_method PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_constitutional_validate_method PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_no_validation_method_fails_closed PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestRustValidationStrategy::test_exception_fails_closed PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestCompositeValidationStrategy::test_empty_strategies_passes PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestCompositeValidationStrategy::test_all_strategies_pass PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestCompositeValidationStrategy::test_one_strategy_fails PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestCompositeValidationStrategy::test_multiple_strategies_fail PASSED [ 93%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestCompositeValidationStrategy::test_add_strategy PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestCompositeValidationStrategy::test_with_real_static_strategy PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies.py::TestCompositeValidationStrategy::test_with_real_static_strategy_invalid PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestStaticHashValidationStrategy::test_valid_message_strict PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestStaticHashValidationStrategy::test_invalid_hash_strict PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestStaticHashValidationStrategy::test_invalid_hash_non_strict PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestStaticHashValidationStrategy::test_none_content PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestStaticHashValidationStrategy::test_empty_message_id PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestDynamicPolicyValidationStrategy::test_no_policy_client PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestDynamicPolicyValidationStrategy::test_with_mock_policy_client PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_no_rust_processor PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_with_mock_rust_processor_bool_result PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_with_mock_rust_processor_dict_result PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_rust_processor_validation_failure PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_rust_processor_dict_failure PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_rust_processor_exception PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_sync_validate_method PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validation_strategies_coverage.py::TestRustValidationStrategy::test_constitutional_validate_method PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestConstitutionalHashConstant::test_constitutional_hash_value PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestConstitutionalHashConstant::test_constitutional_hash_is_string PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestConstitutionalHashConstant::test_constitutional_hash_is_hexadecimal PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestConstitutionalHashConstant::test_constitutional_hash_length PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultInit::test_default_initialization PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultInit::test_custom_initialization PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultInit::test_constitutional_hash_always_present PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultAddError::test_add_error_sets_invalid PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultAddError::test_add_multiple_errors PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultAddError::test_add_error_preserves_order PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultAddError::test_add_empty_error PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultAddWarning::test_add_warning_keeps_valid PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultAddWarning::test_add_multiple_warnings PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultAddWarning::test_warnings_and_errors_independent PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultMerge::test_merge_valid_into_valid PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultMerge::test_merge_invalid_into_valid PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultMerge::test_merge_valid_into_invalid PASSED [ 94%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultMerge::test_merge_combines_errors PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultMerge::test_merge_combines_warnings PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultMerge::test_merge_multiple_results PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultToDict::test_to_dict_contains_all_fields PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultToDict::test_to_dict_values_match PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultToDict::test_to_dict_timestamp_format PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultToDict::test_to_dict_returns_new_dict PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidationResultToDict::test_to_dict_serializable PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_valid_hash_passes PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_invalid_hash_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_empty_hash_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_similar_hash_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_uppercase_hash_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_hash_with_prefix_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_partial_hash_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateConstitutionalHash::test_returns_validation_result PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_valid_dict_passes PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_empty_dict_passes PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_non_dict_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_list_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_none_fails PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_empty_action_warns PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_none_action_warns PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_valid_action_no_warning PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_no_action_field_no_warning PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_nested_dict_passes PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_complex_content_passes PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidateMessageContent::test_returns_validation_result PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidatorsIntegration::test_validate_and_merge_results PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidatorsIntegration::test_invalid_hash_and_valid_content PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidatorsIntegration::test_valid_hash_and_invalid_content PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidatorsIntegration::test_both_invalid PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestValidatorsIntegration::test_content_warning_with_valid_hash PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestEdgeCases::test_validation_result_with_large_errors_list PASSED [ 95%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestEdgeCases::test_unicode_in_error_messages PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestEdgeCases::test_special_characters_in_metadata PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestEdgeCases::test_validation_result_to_dict_shares_references PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestEdgeCases::test_hash_with_whitespace_fails PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators.py::TestEdgeCases::test_content_with_circular_reference_handling PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidationResultExtended::test_default_values PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidationResultExtended::test_add_error_makes_invalid PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidationResultExtended::test_add_multiple_errors PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidationResultExtended::test_add_warning_preserves_validity PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidationResultExtended::test_merge_combines_results PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidationResultExtended::test_merge_preserves_validity_when_both_valid PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidationResultExtended::test_to_dict_structure PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateConstitutionalHash::test_valid_hash PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateConstitutionalHash::test_invalid_hash_string PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateConstitutionalHash::test_non_string_hash PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateConstitutionalHash::test_none_hash PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateConstitutionalHash::test_empty_string_hash PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateConstitutionalHash::test_partial_hash_sanitized PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateMessageContent::test_valid_content PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateMessageContent::test_non_dict_content PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateMessageContent::test_empty_action_warning PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateMessageContent::test_none_action_warning PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateMessageContent::test_content_without_action PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateMessageContent::test_list_content_fails PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_validators_coverage.py::TestValidateMessageContent::test_empty_dict_passes PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingStrategy::test_quorum_value PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingStrategy::test_unanimous_value PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingStrategy::test_super_majority_value PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingStrategy::test_enum_members PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVote::test_create_approve_vote PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVote::test_create_deny_vote PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVote::test_create_abstain_vote PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVote::test_vote_timestamp_auto_generated PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestElection::test_create_election PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestElection::test_election_default_status PASSED [ 96%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestElection::test_election_created_at_auto_generated PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestElection::test_election_expires_at_default_none PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingService::test_create_service_default_strategy PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingService::test_create_service_custom_strategy PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingService::test_create_election PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingService::test_cast_vote_success PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingService::test_cast_vote_non_participant PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingService::test_cast_vote_invalid_election PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingService::test_get_result_non_existent_election PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestQuorumStrategy::test_quorum_approve_early_resolution PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestQuorumStrategy::test_quorum_deny_early_resolution PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestUnanimousStrategy::test_unanimous_approve_all_agree PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestUnanimousStrategy::test_unanimous_deny_single_denial PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestSuperMajorityStrategy::test_super_majority_approve PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestSuperMajorityStrategy::test_super_majority_deny PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestElectionResults::test_get_result_open_election PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestElectionResults::test_get_result_closed_election_approve PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingServiceIntegration::test_full_voting_workflow PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_voting_service.py::TestVotingServiceIntegration::test_multiple_concurrent_elections PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_vulnerable_fallbacks.py::test_deliberation_layer_fail_closed_on_missing_deps PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_vulnerable_fallbacks.py::test_deliberation_layer_imports_successfully_when_deps_available PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterConfig::test_default_config_values PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterConfig::test_custom_config_values PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Request::test_basic_request_creation PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Request::test_request_with_assertions PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Request::test_request_with_custom_trace_id PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Request::test_auto_generated_trace_id PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Request::test_request_with_all_options PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Response::test_sat_response PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Response::test_unsat_response PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Response::test_unknown_response PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Response::test_response_to_dict PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3Response::test_default_statistics PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterInitialization::test_default_adapter_creation PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterInitialization::test_custom_name_adapter PASSED [ 97%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterInitialization::test_custom_config_adapter PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterInitialization::test_z3_availability_check PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterUnavailable::test_execute_without_z3 PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterUnavailable::test_fallback_response PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterExecution::test_execute_runs_in_executor PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterExecution::test_validate_response_valid PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterExecution::test_validate_response_invalid PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterExecution::test_get_cache_key PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AdapterExecution::test_get_cache_key_with_assertions PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_run_z3_sync_sat_result PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_run_z3_sync_unsat_result PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_run_z3_sync_unknown_result PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_run_z3_sync_parse_error PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_run_z3_sync_with_custom_timeout PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_run_z3_sync_with_assertions PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_extract_stats_success PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3SyncExecution::test_extract_stats_exception PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3ExceptionHandling::test_run_z3_sync_z3_exception PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3ExceptionHandling::test_run_z3_sync_proof_exception PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3ExceptionHandling::test_run_z3_sync_unsat_core_exception PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestConvenienceFunctions::test_check_satisfiability_creates_adapter PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestConvenienceFunctions::test_check_satisfiability_uses_provided_adapter PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestConvenienceFunctions::test_prove_property_creates_adapter PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestConvenienceFunctions::test_prove_property_negates_formula PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestConvenienceFunctions::test_prove_property_with_context PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AvailabilityCheck::test_check_z3_available_true PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestZ3AvailabilityCheck::test_check_z3_available_import_error PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestEdgeCases::test_empty_formula PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestEdgeCases::test_very_long_formula PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestEdgeCases::test_response_with_large_model PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestEdgeCases::test_adapter_config_inheritance PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/test_z3_adapter_coverage.py::TestEdgeCases::test_concurrent_requests PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestConstitutionalHash::test_constitutional_hash_present PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestConstitutionalHash::test_profile_has_constitutional_hash PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosInjection::test_valid_injection_creation PASSED [ 98%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosInjection::test_intensity_lower_bound PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosInjection::test_intensity_upper_bound PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosInjection::test_intensity_boundary_values PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosInjection::test_negative_duration_rejected PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosInjection::test_zero_duration_allowed PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfile::test_profile_creation PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfile::test_add_injection PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfile::test_get_targets PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestPredefinedProfiles::test_governance_profile_structure PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestPredefinedProfiles::test_audit_profile_structure PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestPredefinedProfiles::test_timing_profile_structure PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestPredefinedProfiles::test_combined_profile_structure PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestPredefinedProfiles::test_all_profiles_have_deterministic_seeds PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfileRegistry::test_default_profiles_registered PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfileRegistry::test_get_existing_profile PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfileRegistry::test_get_nonexistent_profile PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfileRegistry::test_register_custom_profile PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosProfileRegistry::test_get_all_profiles PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_executor_creation PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_executor_start PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_executor_stop PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_should_inject_before_start PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_should_inject_deterministic PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_should_inject_inactive_target PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_injection_respects_duration PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestDeterministicChaosExecutor::test_get_injection_stats PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestHelperFunctions::test_get_profile_existing PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestHelperFunctions::test_get_profile_nonexistent PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestHelperFunctions::test_list_profiles PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestHelperFunctions::test_create_executor PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestHelperFunctions::test_create_executor_invalid_profile PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosTypeEnum::test_all_chaos_types PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosTargetEnum::test_governance_targets PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosTargetEnum::test_audit_targets PASSED [ 99%]
acgs2-core/enhanced_agent_bus/tests/runtime/test_chaos_profiles.py::TestChaosTargetEnum::test_timing_targets PASSED [100%]

=================================== FAILURES ===================================
_________________ TestEdgeCases.test_register_duplicate_agent __________________
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py:880: in test_register_duplicate_agent
    assert info["agent_type"] == "supervisor"
E   AssertionError: assert 'worker' == 'supervisor'
E     - supervisor
E     + worker
____ TestTenantValidation.test_validate_tenant_consistency_sender_mismatch _____
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py:1115: in test_validate_tenant_consistency_sender_mismatch
    errors = tenant_bus._validate_tenant_consistency(message)
acgs2-core/enhanced_agent_bus/agent_bus.py:269: in _validate_tenant_consistency
    return validate_tenant_consistency(self._agents, from_agent, to_agent, tid)
acgs2-core/enhanced_agent_bus/security_helpers.py:23: in validate_tenant_consistency
    if from_agent in agents_registry:
E   TypeError: unhashable type: 'AgentMessage'
___ TestTenantValidation.test_validate_tenant_consistency_recipient_mismatch ___
acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py:1135: in test_validate_tenant_consistency_recipient_mismatch
    errors = tenant_bus._validate_tenant_consistency(message)
acgs2-core/enhanced_agent_bus/agent_bus.py:269: in _validate_tenant_consistency
    return validate_tenant_consistency(self._agents, from_agent, to_agent, tid)
acgs2-core/enhanced_agent_bus/security_helpers.py:23: in validate_tenant_consistency
    if from_agent in agents_registry:
E   TypeError: unhashable type: 'AgentMessage'
_______ TestErrorInjection.test_error_not_injected_outside_blast_radius ________
acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py:542: in test_error_not_injected_outside_blast_radius
    assert engine.should_inject_error("allowed_target") == ValueError
E   AssertionError: assert None == ValueError
E    +  where None = <bound method ChaosEngine.should_inject_error of <enhanced_agent_bus.chaos_testing.ChaosEngine object at 0x73353373abd0>>('allowed_target')
E    +    where <bound method ChaosEngine.should_inject_error of <enhanced_agent_bus.chaos_testing.ChaosEngine object at 0x73353373abd0>> = <enhanced_agent_bus.chaos_testing.ChaosEngine object at 0x73353373abd0>.should_inject_error
------------------------------ Captured log call -------------------------------
WARNING  enhanced_agent_bus.chaos_testing:chaos_testing.py:131 Error rate 1.0 exceeds safety limit 0.9, capping to limit
WARNING  enhanced_agent_bus.chaos_testing:chaos_testing.py:419 [cdd01ef066bc6cf2] Activated chaos scenario: errors_allowed_target_1.0 (duration: 2.0s)
______________ TestEnhancedAgentBusActual.test_broadcast_message _______________
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py:358: in test_broadcast_message
    assert isinstance(results, dict)
E   AssertionError: assert False
E    +  where False = isinstance(['receiver1', 'receiver2'], dict)
______ TestEnhancedAgentBusAdditional.test_broadcast_to_empty_recipients _______
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py:585: in test_broadcast_to_empty_recipients
    assert isinstance(results, dict)
E   assert False
E    +  where False = isinstance([], dict)
_ TestEnhancedAgentBusAdditional.test_agent_registration_updates_capabilities __
acgs2-core/enhanced_agent_bus/tests/test_core_actual.py:594: in test_agent_registration_updates_capabilities
    assert "review" in info["capabilities"]
E   AssertionError: assert 'review' in ['task']
_________________ TestEnhancedAgentBusDI.test_full_di_workflow _________________
acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py:409: in test_full_di_workflow
    assert await registry.exists("agent-1") is False  # Legacy dict still used
E   assert True is False
___________________ TestScoringConfig.test_boost_thresholds ____________________
acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py:72: in test_boost_thresholds
    assert config.critical_priority_boost == 0.9
E   assert 0.95 == 0.9
E    +  where 0.95 = ScoringConfig(semantic_weight=0.3, permission_weight=0.2, volume_weight=0.05, context_weight=0.05, drift_weight=0.1, priority_weight=0.2, type_weight=0.1, critical_priority_boost=0.95, high_semantic_boost=0.9).critical_priority_boost
__ TestMACIValidationStrategy.test_validate_governance_request_from_executive __
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py:501: in test_validate_governance_request_from_executive
    assert is_valid is True
E   assert False is True
_ TestMACIValidationStrategy.test_validate_governance_request_from_judicial_fails _
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py:522: in test_validate_governance_request_from_judicial_fails
    assert "judicial" in error.lower()
E   AssertionError: assert 'judicial' in 'unknown type'
E    +  where 'unknown type' = <built-in method lower of str object at 0x7336443fad70>()
E    +    where <built-in method lower of str object at 0x7336443fad70> = 'Unknown type'.lower
__ TestMACIValidationStrategy.test_validate_validation_request_from_judicial ___
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py:540: in test_validate_validation_request_from_judicial
    assert is_valid is True
E   assert False is True
_________ TestMACIValidationStrategy.test_validate_query_from_any_role _________
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py:559: in test_validate_query_from_any_role
    assert is_valid is True, f"Role {role.value} should be able to query"
E   AssertionError: Role executive should be able to query
E   assert False is True
________ TestMACIMiddlewareFactory.test_middleware_passes_valid_message ________
acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py:784: in test_middleware_passes_valid_message
    result = await middleware(message, next_handler)
acgs2-core/enhanced_agent_bus/maci_enforcement.py:295: in middleware
    if not is_valid: raise MACIRoleViolationError(msg.from_agent, "unknown", str(msg.message_type))
E   enhanced_agent_bus.exceptions.MACIRoleViolationError: Agent 'exec-1' (unknown) cannot perform 'MessageType.GOVERNANCE_REQUEST'
_______ TestIntegrationWithMessageProcessor.test_processor_with_metering _______
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py:620: in test_processor_with_metering
    processor = MessageProcessor(
acgs2-core/enhanced_agent_bus/message_processor.py:87: in __init__
    self._processing_strategy = kwargs.get("processing_strategy") or self._auto_select_strategy()
acgs2-core/enhanced_agent_bus/message_processor.py:92: in _auto_select_strategy
    from .registry import StaticHashValidationStrategy, PythonProcessingStrategy, RustProcessingStrategy, OPAProcessingStrategy, CompositeProcessingStrategy
E   ImportError: attempted relative import with no known parent package
_____ TestIntegrationWithMessageProcessor.test_processor_metering_disabled _____
acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py:641: in test_processor_metering_disabled
    processor = MessageProcessor(
acgs2-core/enhanced_agent_bus/message_processor.py:87: in __init__
    self._processing_strategy = kwargs.get("processing_strategy") or self._auto_select_strategy()
acgs2-core/enhanced_agent_bus/message_processor.py:92: in _auto_select_strategy
    from .registry import StaticHashValidationStrategy, PythonProcessingStrategy, RustProcessingStrategy, OPAProcessingStrategy, CompositeProcessingStrategy
E   ImportError: attempted relative import with no known parent package
=========================== short test summary info ============================
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:226: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:277: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:296: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:314: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:366: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:414: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:447: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:497: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:557: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator.py:590: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:78: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:95: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:131: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:170: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:197: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:281: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:309: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:333: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:373: Circuit breaker support not available
SKIPPED [1] acgs2-core/enhanced_agent_bus/tests/test_health_aggregator_integration.py:395: Circuit breaker support not available
FAILED acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestEdgeCases::test_register_duplicate_agent
FAILED acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_validate_tenant_consistency_sender_mismatch
FAILED acgs2-core/enhanced_agent_bus/tests/test_agent_bus.py::TestTenantValidation::test_validate_tenant_consistency_recipient_mismatch
FAILED acgs2-core/enhanced_agent_bus/tests/test_chaos_framework.py::TestErrorInjection::test_error_not_injected_outside_blast_radius
FAILED acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusActual::test_broadcast_message
FAILED acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_broadcast_to_empty_recipients
FAILED acgs2-core/enhanced_agent_bus/tests/test_core_actual.py::TestEnhancedAgentBusAdditional::test_agent_registration_updates_capabilities
FAILED acgs2-core/enhanced_agent_bus/tests/test_dependency_injection.py::TestEnhancedAgentBusDI::test_full_di_workflow
FAILED acgs2-core/enhanced_agent_bus/tests/test_impact_scorer_comprehensive.py::TestScoringConfig::test_boost_thresholds
FAILED acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_governance_request_from_executive
FAILED acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_governance_request_from_judicial_fails
FAILED acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_validation_request_from_judicial
FAILED acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIValidationStrategy::test_validate_query_from_any_role
FAILED acgs2-core/enhanced_agent_bus/tests/test_maci_enforcement.py::TestMACIMiddlewareFactory::test_middleware_passes_valid_message
FAILED acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestIntegrationWithMessageProcessor::test_processor_with_metering
FAILED acgs2-core/enhanced_agent_bus/tests/test_metering_integration.py::TestIntegrationWithMessageProcessor::test_processor_metering_disabled
================= 16 failed, 3440 passed, 20 skipped in 31.53s =================
