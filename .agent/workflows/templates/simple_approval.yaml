# ACGS-2 Simple Approval Workflow Template
# Constitutional Hash: cdd01ef066bc6cf2
# Version: 1.0.0

name: simple_approval
version: "1.0.0"
description: "Simple approval workflow for low-impact decisions"
constitutional_hash: cdd01ef066bc6cf2

workflow_type: sequential

config:
  timeout_seconds: 60
  max_retries: 3
  fail_closed: true

steps:
  - name: validate_hash
    action: validate_constitutional_hash
    timeout: 5
    required: true
    description: "Verify constitutional hash compliance"

  - name: check_permissions
    action: check_agent_permissions
    timeout: 10
    required: true
    depends_on: [validate_hash]
    description: "Verify agent has required permissions"

  - name: evaluate_policy
    action: evaluate_opa_policy
    timeout: 15
    required: true
    depends_on: [check_permissions]
    config:
      policy: "approval/simple"
      fail_closed: true
    description: "Evaluate OPA approval policy"

  - name: record_decision
    action: record_audit
    timeout: 10
    required: false
    depends_on: [evaluate_policy]
    description: "Record approval decision in audit trail"

  - name: notify_result
    action: send_notification
    timeout: 5
    required: false
    depends_on: [record_decision]
    config:
      channels: ["agent", "audit"]
    description: "Notify relevant parties of decision"

metadata:
  author: "ACGS-2 Team"
  category: "approval"
  tags: ["simple", "low-impact", "basic"]
  performance_target_ms: 50
