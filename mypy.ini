# ACGS-2 Root MyPy Configuration
# Purpose: Incremental type checking adoption across the entire codebase
# Status: Phase 1 - Baseline configuration with gradual strictness
# Last Updated: 2026-01-03

[mypy]
# Python version target
python_version = 3.12

# Import handling
ignore_missing_imports = True
follow_imports = silent
namespace_packages = True
plugins = pydantic.mypy

# Incremental checking
incremental = True
cache_dir = .mypy_cache

# Output configuration
show_error_codes = True
show_column_numbers = True
show_error_context = True
pretty = True
color_output = True

# Warning level (start with warnings instead of errors for gradual adoption)
warn_return_any = True
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True

# Strictness settings (moderate for initial adoption)
# These are set to False initially and will be enabled per-module
strict_optional = True
disallow_untyped_defs = False
disallow_any_generics = False
disallow_incomplete_defs = False
check_untyped_defs = True

# Error handling
no_implicit_optional = True
strict_equality = True

# Exclude directories
exclude = (?x)(
    ^venv/
    | ^\.venv/
    | ^build/
    | ^dist/
    | ^node_modules/
    | ^\.worktrees/
    | ^__pycache__/
    | ^\.mypy_cache/
    | /tests/
    | /test_
    | _test\.py$
  )

# Per-module overrides can be added below as type coverage improves
# Example:
# [mypy-acgs2_core.some_module]
# disallow_untyped_defs = True
# disallow_any_generics = True

# Third-party library stubs (add as needed)
[mypy-redis.*]
ignore_missing_imports = True

[mypy-kafka.*]
ignore_missing_imports = True

[mypy-confluent_kafka.*]
ignore_missing_imports = True

[mypy-litellm.*]
ignore_missing_imports = True

[mypy-mlflow.*]
ignore_missing_imports = True

[mypy-evidently.*]
ignore_missing_imports = True

[mypy-river.*]
ignore_missing_imports = True

[mypy-temporal.*]
ignore_missing_imports = True



[mypy-fastapi.*]
ignore_missing_imports = True

[mypy-slowapi.*]
ignore_missing_imports = True
